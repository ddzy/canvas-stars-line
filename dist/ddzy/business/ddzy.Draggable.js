var Draggable=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r={invariant:function(e,t){if(e)throw new TypeError("Ddzy's plugin error: ".concat(t))},convertHumpToHyphen:function(e){return e.replace(/[A-Z]+/,function(e){return"-".concat(e.toLowerCase())})}};function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a={getEle:function(e){return document.querySelector(e)},getAllEle:function(e){return document.querySelectorAll(e)},setAttr:function(e,t){for(var n in t)e.setAttribute(n,t[n]);return this},setCss:function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];e.style.cssText+="".concat(n,": ").concat(r,";")}return this},getAttr:function(e,t){return e.getAttribute(t)},addClass:function(e,t){return e&&e.classList.add(t),this},removeClass:function(e,t){return e&&e.classList.remove(t),this},throttle:function(e,t){var n=Date.now();return function(){var r=Date.now();if(r-n>e){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];t.apply(globalThis,o),n=r}}},isDOM:function(e){return e&&"object"===o(e)&&1===e.nodeType},traversalDOMWithBFS:function(e,t){if(!this.isDOM(e))throw new TypeError("Require a DOM element");for(var n=[e];n.length;){var r=n.shift();t&&t(r);var o=r.children;n.push.apply(n,i(Array.from(o)))}},traversalDOMWithDFS:function(e,t){if(!this.isDOM(e))throw new TypeError("Require a DOM element");t&&t(e),function e(n){if(0===n.length)return;for(var r,i=0;r=n[i++];)t&&t(r),e(r.children)}(e.children)},traversalDOMWithNodeIterator:function(e,t){if(!this.isDOM(e))throw new TypeError("Require a DOM element");for(var n=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT),r=null;r=n.nextNode();)t&&t(r)},traversalDOMWithTreeWalker:function(e,t){if(!this.isDOM(e))throw new TypeError("Require a DOM element");for(var n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT),r=null;r=n.nextNode();)t&&t(r)},convertPairToCSSText:function(e){var t="";for(var n in e){var i=Reflect.get(e,n);t+="".concat(r.convertHumpToHyphen(n),": ").concat(i,"; ")}return t}};function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"dragContainer",document.createElement("ul")),c(this,"dragItems",[document.createElement("li")]),c(this,"origin",document.createElement("div")),c(this,"position",{originBeforeRect:{top:0},originAfterRect:{top:0},targetBeforeRect:{top:0},targetAfterRect:{top:0}}),this.__init__(t)}return l(e,null,[{key:"_aidedFindIndex",value:function(e,t){return e?this._aidedFindIndex(e.previousElementSibling,++t):t}}]),l(e,[{key:"__init__",value:function(e){this._initProps(e),this.render()}},{key:"_initProps",value:function(t){for(var n in t)if(t.hasOwnProperty(n)){var r=Reflect.get(t,n);Reflect.set(e.defaultProps,n,r)}}},{key:"aidedCreateDOM",value:function(){var t=e.defaultProps.dataSource,n="";return t.forEach(function(e,t){n+='\n        <li class="ddzy-drag-list-item ddzy-drag-item-'.concat(t,'">\n          <div class="ddzy-drag-item-title-box">\n            <div class="ddzy-drag-item-title">\n              ').concat(e.titleText,'\n            </div>\n          </div>\n          <div class="ddzy-drag-item-content-box">\n            <div class="ddzy-drag-item-content">\n              ').concat(e.contentText,"\n            </div>\n          </div>\n        </li>\n      ")}),'\n      <div id="ddzy-drag-wrapper">\n        <div class="ddzy-drag-main">\n          <ul class="ddzy-drag-main-list">\n            \x3c!-- TODO: dataSource动态生成 --\x3e\n            '.concat(n,"\n          </ul>\n        </div>\n      </div>\n    ")}},{key:"aidedMountDOM",value:function(t){var n=e.defaultProps.container,r=a.getEle(n);if(!r)throw new TypeError("Please enter an existing selector.");r.innerHTML+=t}},{key:"aidedCreateStyle",value:function(){var t=e.defaultProps,n=t.dragWrapperStyle,r=t.dragOriginStyle,i=t.dragOriginActiveStyle,o=t.dragTargetActiveStyle,d=a.convertPairToCSSText(n),l=a.convertPairToCSSText(r),c=a.convertPairToCSSText(i),s=a.convertPairToCSSText(o);return"\n      body, ul, li {\n        margin: 0;\n        padding: 0;\n      }\n      ul {\n        list-style-type: none;\n      }\n      #ddzy-drag-wrapper div {\n        box-sizing: border-box;\n        overflow: hidden;\n      }\n      #ddzy-drag-wrapper {\n        height: 100%;\n        ".concat(d,"\n      }\n      .ddzy-drag-main {\n        heigth: 100%;\n        padding: 0.625rem;\n      }\n      .ddzy-drag-main-list {\n        display: flex;\n        flex-direction: column;\n      }\n      .ddzy-drag-list-item {\n        /* TODO: 传入配置 - gap */\n        display: flex;\n        flex-direction: row;\n        overflow: hidden;\n        cursor: move;\n        min-height: 2.5rem;\n        margin: 0.5rem 0;\n        background-color: #fff;\n        color: #303133;\n        ").concat(l,"\n        transition: .3s all ease;\n      }\n      .ddzy-drag-item-title-box {\n        flex: 1;\n        background-color: #d50;\n        pointer-events: none;\n      }\n      .ddzy-drag-item-title {\n        height: 100%;\n        line-height: 2.5;\n        color: #fff;\n        text-align: center;\n      }\n      .ddzy-drag-item-title img {\n        display: block;\n        max-width: 100%;\n        height: 100%;\n      }\n      .ddzy-drag-item-content-box {\n        flex: 5;\n        pointer-events: none;\n      }\n      .ddzy-drag-item-content {\n        padding-left: 0.5rem;\n        line-height: 2.5;\n        color: #666;\n      }\n\n      /* Active Classes(Configurations) */\n      .ddzy-drag-origin-active {\n        ").concat(c,"\n      }\n      .ddzy-drag-target-active {\n        ").concat(s,"\n      }\n\n    ")}},{key:"aidedMountStyle",value:function(e){var t=document.querySelector("style");t?t.innerText+="\n        /* Create by SortDraggable */\n        ".concat(e,"\n      "):((t=document.createElement("style")).innerText+=t.innerText+="\n        /* Create by SortDraggable */\n        ".concat(e,"\n      "),document.head.appendChild(t))}},{key:"handleRenderDOM",value:function(){var e=this.aidedCreateDOM();this.aidedMountDOM(e)}},{key:"handleRenderStyle",value:function(){var e=this.aidedCreateStyle();this.aidedMountStyle(e)}},{key:"handleInitDragVarible",value:function(){this.dragContainer=a.getEle(".ddzy-drag-main-list"),this.dragItems=Array.from(a.getAllEle(".ddzy-drag-list-item"))}},{key:"handleDragAnimation",value:function(e){var t=this,n=this.position.originAfterRect.top-this.position.originBeforeRect.top,r=this.position.targetAfterRect.top-this.position.targetBeforeRect.top;a.setCss(this.origin,{transition:"none",transform:"translateY(".concat(-n,"px)")}),a.setCss(e,{transition:"none",transform:"translateY(".concat(-r,"px)")}),a.addClass(e,"ddzy-drag-target-active"),this.position.originBeforeRect=this.position.originAfterRect,setTimeout(function(){a.setCss(t.origin,{transition:"all .3s ease",transform:"translateY(".concat(0,"px)")}),a.setCss(e,{transition:"all .3s ease",transform:"translateY(".concat(0,"px)")})},0)}},{key:"handleDragStart",value:function(e){this.origin=e,this.position.originBeforeRect=this.origin.getBoundingClientRect(),a.addClass(this.origin,"ddzy-drag-origin-active")}},{key:"handleDragEnter",value:function(t){var n=this.dragContainer;this.position.targetBeforeRect=t.getBoundingClientRect();var r=e._aidedFindIndex(this.origin,0);e._aidedFindIndex(t,0)-r>0?n.insertBefore(this.origin,t.nextElementSibling):n.insertBefore(this.origin,t),this.position.originAfterRect=this.origin.getBoundingClientRect(),this.position.targetAfterRect=t.getBoundingClientRect()}},{key:"handleDragLeave",value:function(e){a.removeClass(e,"ddzy-drag-target-active")}},{key:"handleDragOver",value:function(e){e.preventDefault()}},{key:"handleDrop",value:function(){a.removeClass(this.origin,"ddzy-drag-origin-active"),a.removeClass(this.origin,"ddzy-drag-target-active")}},{key:"handleDrag",value:function(){var t=this;this.handleInitDragVarible();var n=this.dragItems,r=e.defaultProps,i=r.animate,o=r.onDragStartHook,d=r.onDragEnterHook,l=r.onDragOverHook,c=r.onDragLeaveHook,s=r.onDropHook;n.forEach(function(e){a.setAttr(e,{draggable:"true"}),e.addEventListener("dragstart",function(){t.handleDragStart(e),o(t.origin)}),e.addEventListener("dragenter",function(){t.handleDragEnter(e),i&&t.handleDragAnimation(e),d(t.origin,e)}),e.addEventListener("dragleave",function(){t.handleDragLeave(e),c(t.origin,e)}),e.addEventListener("dragover",function(n){t.handleDragOver(n),l(t.origin,e)}),e.addEventListener("drop",function(){t.handleDrop(),s(t.origin)})})}},{key:"render",value:function(){this.handleRenderDOM(),this.handleRenderStyle(),this.handleDrag()}}]),e}();c(s,"defaultProps",{container:"body",dataSource:[{titleText:"1",contentText:"第一项的内容"},{titleText:"2",contentText:"第二项的内容"},{titleText:"3",contentText:"第三项的内容"},{titleText:"4",contentText:"第四项的内容"},{titleText:"5",contentText:"第五项的内容"}],dragWrapperStyle:{backgroundColor:"#fff"},dragOriginStyle:{margin:"8px 0",border:"1px solid #ebeef5",borderRadius:"4px",boxShadow:"0 2px 12px 0 rgba(0, 0, 0, .1)"},dragOriginActiveStyle:{boxShadow:"0 2px 12px 0 rgba(0, 0, 0, .4)"},dragTargetActiveStyle:{opacity:".5"},animate:!0,onDragStartHook:function(e){},onDragEnterHook:function(e,t){},onDragLeaveHook:function(e,t){},onDragOverHook:function(e,t){},onDropHook:function(e){}});var u={Sort:s};t.default=u}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EcmFnZ2FibGUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vRHJhZ2dhYmxlLy4vc3JjL2RkenkvdXRpbGl0eS9vdGhlcnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vRHJhZ2dhYmxlLy4vc3JjL2RkenkvdXRpbGl0eS9kb20vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vRHJhZ2dhYmxlLy4vc3JjL2RkenkvYnVzaW5lc3MvZHJhZ2dhYmxlL3NvcnQtZHJhZ2dhYmxlL1NvcnREcmFnZ2FibGUudHMiLCJ3ZWJwYWNrOi8vRHJhZ2dhYmxlLy4vc3JjL2RkenkvYnVzaW5lc3MvZHJhZ2dhYmxlL2luZGV4LnRzIiwid2VicGFjazovL0RyYWdnYWJsZS8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInV0aWxpdHlPdGhlcnMiLCJpbnZhcmlhbnQiLCJjb25kaXRpb24iLCJtZXNzYWdlIiwiVHlwZUVycm9yIiwiY29uY2F0IiwiY29udmVydEh1bXBUb0h5cGhlbiIsImh1bXAiLCJyZXBsYWNlIiwibWF0Y2hlZCIsInRvTG93ZXJDYXNlIiwidXRpbGl0eURPTSIsImdldEVsZSIsInNpZ24iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRBbGxFbGUiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2V0QXR0ciIsImVsZSIsIm9wdGlvbnMiLCJzZXRBdHRyaWJ1dGUiLCJ0aGlzIiwic2V0Q3NzIiwiZWxlbWVudCIsInN0eWxlIiwiY3NzVGV4dCIsImdldEF0dHIiLCJnZXRBdHRyaWJ1dGUiLCJhZGRDbGFzcyIsImVsIiwiY2xhc3NOYW1lIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlQ2xhc3MiLCJyZW1vdmUiLCJ0aHJvdHRsZSIsInRpbWVzdGFtcCIsImNhbGxiYWNrIiwibGFzdENsaWNrVGltZSIsIkRhdGUiLCJub3ciLCJjdXJyZW50Q2xpY2tUaW1lIiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkzIiwiYXBwbHkiLCJnbG9iYWxUaGlzIiwiaXNET00iLCJub2RlIiwiX3R5cGVvZiIsIm5vZGVUeXBlIiwidHJhdmVyc2FsRE9NV2l0aEJGUyIsImNvbnRhaW5lciIsInF1ZXVlIiwic2hpZnQiLCJjaGlsZHJlbiIsInB1c2giLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJmcm9tIiwidHJhdmVyc2FsRE9NV2l0aERGUyIsIl9haWRlZFRyYXZlcnNhbCIsImV2ZXJ5IiwidHJhdmVyc2FsRE9NV2l0aE5vZGVJdGVyYXRvciIsIm5vZGVJdGVyYXRvciIsImNyZWF0ZU5vZGVJdGVyYXRvciIsIk5vZGVGaWx0ZXIiLCJTSE9XX0VMRU1FTlQiLCJjdXJyZW50Tm9kZSIsIm5leHROb2RlIiwidHJhdmVyc2FsRE9NV2l0aFRyZWVXYWxrZXIiLCJ0cmVlV2Fsa2VyIiwiY3JlYXRlVHJlZVdhbGtlciIsImNvbnZlcnRQYWlyVG9DU1NUZXh0IiwicGFpciIsInRleHQiLCJSZWZsZWN0IiwiU29ydERyYWdnYWJsZSIsInByb3BzIiwiX2NsYXNzQ2FsbENoZWNrIiwiX2RlZmluZVByb3BlcnR5IiwiY3JlYXRlRWxlbWVudCIsIm9yaWdpbkJlZm9yZVJlY3QiLCJ0b3AiLCJvcmlnaW5BZnRlclJlY3QiLCJ0YXJnZXRCZWZvcmVSZWN0IiwidGFyZ2V0QWZ0ZXJSZWN0IiwiX19pbml0X18iLCJfY3JlYXRlQ2xhc3MiLCJjb3VudCIsIl9haWRlZEZpbmRJbmRleCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJfaW5pdFByb3BzIiwicmVuZGVyIiwic2V0IiwiZGVmYXVsdFByb3BzIiwiZGF0YVNvdXJjZSIsInRlbXBTdHIiLCJmb3JFYWNoIiwidiIsInRpdGxlVGV4dCIsImNvbnRlbnRUZXh0IiwiZG9tIiwibW91bnRXcmFwcGVyIiwiaW5uZXJIVE1MIiwiX1NvcnREcmFnZ2FibGUkZGVmYXVsIiwiZHJhZ1dyYXBwZXJTdHlsZSIsImRyYWdPcmlnaW5TdHlsZSIsImRyYWdPcmlnaW5BY3RpdmVTdHlsZSIsImRyYWdUYXJnZXRBY3RpdmVTdHlsZSIsInRlbXBXcmFwcGVyU3R5bGUiLCJ0ZW1wT3JpZ2luU3R5bGUiLCJ0ZW1wT3JpZ2luQWN0aXZlU3R5bGUiLCJ0ZW1wVGFyZ2V0QWN0aXZlU3R5bGUiLCJvU3R5bGUiLCJpbm5lclRleHQiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJhaWRlZENyZWF0ZURPTSIsImFpZGVkTW91bnRET00iLCJhaWRlZENyZWF0ZVN0eWxlIiwiYWlkZWRNb3VudFN0eWxlIiwiZHJhZ0NvbnRhaW5lciIsImRyYWdJdGVtcyIsInRhcmdldCIsIl90aGlzIiwib3JpZ2luRGlmZkRpc3RhbmNlIiwicG9zaXRpb24iLCJ0YXJnZXREaWZmRGlzdGFuY2UiLCJvcmlnaW4iLCJ0cmFuc2l0aW9uIiwidHJhbnNmb3JtIiwic2V0VGltZW91dCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm9yaWdpbkluZGV4IiwiaW5zZXJ0QmVmb3JlIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiZSIsInByZXZlbnREZWZhdWx0IiwiX3RoaXMyIiwiaGFuZGxlSW5pdERyYWdWYXJpYmxlIiwiX1NvcnREcmFnZ2FibGUkZGVmYXVsMiIsImFuaW1hdGUiLCJvbkRyYWdTdGFydEhvb2siLCJvbkRyYWdFbnRlckhvb2siLCJvbkRyYWdPdmVySG9vayIsIm9uRHJhZ0xlYXZlSG9vayIsIm9uRHJvcEhvb2siLCJkcmFnZ2FibGUiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlRHJhZ1N0YXJ0IiwiaGFuZGxlRHJhZ0VudGVyIiwiaGFuZGxlRHJhZ0FuaW1hdGlvbiIsImhhbmRsZURyYWdMZWF2ZSIsImhhbmRsZURyYWdPdmVyIiwiaGFuZGxlRHJvcCIsImhhbmRsZVJlbmRlckRPTSIsImhhbmRsZVJlbmRlclN0eWxlIiwiaGFuZGxlRHJhZyIsImJhY2tncm91bmRDb2xvciIsIm1hcmdpbiIsImJvcmRlciIsImJvcmRlclJhZGl1cyIsImJveFNoYWRvdyIsIm9wYWNpdHkiLCJfb3JpZ2luIiwiX3RhcmdldCIsIkRyYWdnYWJsZSIsIlNvcnQiXSwibWFwcGluZ3MiOiIwQkFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBMERBLE9BckRBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFB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aGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJleHBvcnQgaW50ZXJmYWNlIElVdGlsaXR5T3RoZXJzUHJvcHMge1xyXG4gIGludmFyaWFudDogKGNvbmRpdGlvbjogYm9vbGVhbiwgbWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkO1xyXG4gIGNvbnZlcnRIdW1wVG9IeXBoZW46IChodW1wOiBzdHJpbmcpID0+IHN0cmluZztcclxufTtcclxuXHJcblxyXG5jb25zdCB1dGlsaXR5T3RoZXJzOiBJVXRpbGl0eU90aGVyc1Byb3BzID0ge1xyXG4gIC8qKlxyXG4gICAqIOiHquWumuS5ieW8guW4uOWkhOeQhlxyXG4gICAqIEBwYXJhbSBjb25kaXRpb24g5Yik5pat5p2h5Lu2XHJcbiAgICogQHBhcmFtIG1lc3NhZ2Ug6ZSZ6K+v5L+h5oGvXHJcbiAgICovXHJcbiAgaW52YXJpYW50KGNvbmRpdGlvbiwgbWVzc2FnZSk6IHZvaWQge1xyXG4gICAgaWYgKGNvbmRpdGlvbikge1xyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxyXG4gICAgICAgIGBEZHp5J3MgcGx1Z2luIGVycm9yOiAke21lc3NhZ2V9YFxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICog6am85bOw5a2X56ym5Liy6L2s6L+e5a2X56ymXHJcbiAgICogQHBhcmFtIGh1bXAg6am85bOw5b2i5byP5a2X56ym5LiyXHJcbiAgICovXHJcbiAgY29udmVydEh1bXBUb0h5cGhlbihodW1wKSB7XHJcbiAgICBjb25zdCByZWc6IFJlZ0V4cCA9IC9bQS1aXSsvO1xyXG5cclxuICAgIHJldHVybiBodW1wLnJlcGxhY2UocmVnLCAobWF0Y2hlZCkgPT4ge1xyXG4gICAgICByZXR1cm4gYC0ke21hdGNoZWQudG9Mb3dlckNhc2UoKX1gO1xyXG4gICAgfSk7XHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHV0aWxpdHlPdGhlcnM7IiwiaW1wb3J0IHV0aWxpdHlPdGhlcnMgZnJvbSAnLi4vb3RoZXJzL2luZGV4JztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVN0YXRpY1BhaXJzIHtcclxuICBba2V5OiBzdHJpbmddOiBhbnk7XHJcbn07XHJcbmV4cG9ydCBpbnRlcmZhY2UgSVV0aWxpdHlET01Qcm9wcyB7XHJcbiAgZ2V0RWxlKHNpZ246IHN0cmluZyk6IEhUTUxFbGVtZW50IHwgbnVsbDtcclxuICBnZXRBbGxFbGUoc2lnbjogc3RyaW5nKTogQXJyYXlMaWtlPEhUTUxFbGVtZW50PiB8IG51bGw7XHJcbiAgc2V0QXR0cihlbGU6IEhUTUxFbGVtZW50LCBvcHRpb25zOiBJU3RhdGljUGFpcnMpOiBPbWl0VGhpc1BhcmFtZXRlcjxJVXRpbGl0eURPTVByb3BzPjtcclxuICBzZXRDc3MoZWxlOiBIVE1MRWxlbWVudCwgb3B0aW9uczogSVN0YXRpY1BhaXJzKTogT21pdFRoaXNQYXJhbWV0ZXI8SVV0aWxpdHlET01Qcm9wcz47XHJcbiAgZ2V0QXR0cihlbGU6IEhUTUxFbGVtZW50LCBrZXk6IHN0cmluZyk6IHN0cmluZyB8IG51bGw7XHJcbiAgYWRkQ2xhc3MoZWw6IEhUTUxFbGVtZW50LCBjbGFzc05hbWU6IHN0cmluZyk6IE9taXRUaGlzUGFyYW1ldGVyPElVdGlsaXR5RE9NUHJvcHM+O1xyXG4gIHJlbW92ZUNsYXNzKGVsOiBIVE1MRWxlbWVudCwgY2xhc3NOYW1lOiBzdHJpbmcpOiBPbWl0VGhpc1BhcmFtZXRlcjxJVXRpbGl0eURPTVByb3BzPjtcclxuICB0aHJvdHRsZSh0aW1lOiBudW1iZXIsIGNhbGxiYWNrOiAoLi4uYXJnczogYW55W10pID0+IHZvaWQpOiB2b2lkO1xyXG5cclxuICBpc0RPTShub2RlOiBhbnkpOiBib29sZWFuO1xyXG5cclxuICB0cmF2ZXJzYWxET01XaXRoQkZTKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGNhbGxiYWNrOiAobm9kZTogSFRNTEVsZW1lbnQpID0+IHZvaWQpOiB2b2lkO1xyXG4gIHRyYXZlcnNhbERPTVdpdGhERlMoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgY2FsbGJhY2s6IChub2RlOiBIVE1MRWxlbWVudCkgPT4gdm9pZCk6IHZvaWQ7XHJcbiAgdHJhdmVyc2FsRE9NV2l0aE5vZGVJdGVyYXRvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBjYWxsYmFjazogKG5vZGU6IEhUTUxFbGVtZW50KSA9PiB2b2lkKTogdm9pZDtcclxuICB0cmF2ZXJzYWxET01XaXRoVHJlZVdhbGtlcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBjYWxsYmFjazogKG5vZGU6IEhUTUxFbGVtZW50KSA9PiB2b2lkKTogdm9pZDtcclxuXHJcbiAgY29udmVydFBhaXJUb0NTU1RleHQocGFpcjogUGFydGlhbDxDU1NTdHlsZURlY2xhcmF0aW9uPik6IHN0cmluZztcclxufTtcclxuXHJcblxyXG5jb25zdCB1dGlsaXR5RE9NOiBJVXRpbGl0eURPTVByb3BzID0ge1xyXG4gIC8qKlxyXG4gICAqIOiOt+WPluaMh+WumuWNleS4qkRPTeWFg+e0oFxyXG4gICAqIEBwYXJhbSBzaWduIOS7u+aEj+mAieaLqeWZqFxyXG4gICAqL1xyXG4gIGdldEVsZShzaWduKSB7XHJcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzaWduKTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDojrflj5bmjIflrprnmoTmiYDmnIlET03lhYPntKBcclxuICAgKiBAcGFyYW0gc2lnbiDku7vmhI/pgInmi6nlmahcclxuICAgKi9cclxuICBnZXRBbGxFbGUoc2lnbikge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2lnbik7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog6K6+572u5Y2V5LiqRE9N5bGe5oCnXHJcbiAgICogQHBhcmFtIGVsZSDnm67moIdET01cclxuICAgKiBAcGFyYW0gb3B0aW9ucyDlsZ7mgKfplK7lgLzlr7lcclxuICAgKi9cclxuICBzZXRBdHRyKGVsZSwgb3B0aW9ucykge1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb3B0aW9ucykge1xyXG4gICAgICBlbGUuc2V0QXR0cmlidXRlKGtleSwgb3B0aW9uc1trZXldKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDorr7nva7ljZXkuKpET03moLflvI9cclxuICAgKiBAcGFyYW0gZWxlIOebruagh0RPTVxyXG4gICAqIEBwYXJhbSBvcHRpb25zIOagt+W8j+mUruWAvOWvuVxyXG4gICAqL1xyXG4gIHNldENzcyhlbGUsIG9wdGlvbnMpIHtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMpIHtcclxuICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBvcHRpb25zW2tleV07XHJcbiAgICAgICAgZWxlLnN0eWxlLmNzc1RleHQgKz0gYCR7a2V5fTogJHtlbGVtZW50fTtgO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+WRE9N55qE54m55a6a5bGe5oCn5YC8XHJcbiAgICogQHBhcmFtIGVsZSDnm67moIdET01cclxuICAgKiBAcGFyYW0ga2V5IOWxnuaAp+WQjVxyXG4gICAqL1xyXG4gIGdldEF0dHIoZWxlLCBrZXkpIHtcclxuICAgIHJldHVybiBlbGUuZ2V0QXR0cmlidXRlKGtleSk7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog5oyH5a6aRE9N5re75Yqg5Y2V5Liq57G75ZCNXHJcbiAgICogQHBhcmFtIGVsIOebruagh0RPTVxyXG4gICAqIEBwYXJhbSBjbGFzc05hbWUg57G75ZCNXHJcbiAgICovXHJcbiAgYWRkQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xyXG4gICAgZWwgJiYgZWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOenu+WHuuaMh+WumkRPTeWFg+e0oOeahOWNleS4quexu+WQjVxyXG4gICAqIEBwYXJhbSBlbCDnm67moIdET01cclxuICAgKiBAcGFyYW0gY2xhc3NOYW1lIOexu+WQjVxyXG4gICAqL1xyXG4gIHJlbW92ZUNsYXNzKGVsLCBjbGFzc05hbWUpIHtcclxuICAgIGVsICYmIGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDoioLmtYHlh73mlbBcclxuICAgKiBAcGFyYW0gdGltZXN0YW1wIOaXtumXtOaIs1xyXG4gICAqIEBwYXJhbSBjYWxsYmFjayDmiafooYzlm57osINcclxuICAgKi9cclxuICB0aHJvdHRsZSh0aW1lc3RhbXAsIGNhbGxiYWNrKSB7XHJcbiAgICBsZXQgbGFzdENsaWNrVGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgcmV0dXJuICguLi5hcmdzOiBhbnlbXSkgPT4ge1xyXG4gICAgICBjb25zdCBjdXJyZW50Q2xpY2tUaW1lID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgIGlmIChjdXJyZW50Q2xpY2tUaW1lIC0gbGFzdENsaWNrVGltZSA+IHRpbWVzdGFtcCl7XHJcbiAgICAgICAgY2FsbGJhY2suYXBwbHk8VGhpc1R5cGU8YW55PiwgYW55W10sIGFueT4oZ2xvYmFsVGhpcywgYXJncyk7XHJcbiAgICAgICAgbGFzdENsaWNrVGltZSA9IGN1cnJlbnRDbGlja1RpbWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICog5qOA5p+l5piv5ZCmRE9N5YWD57SgXHJcbiAgICogQHBhcmFtIG5vZGUg5oyH5a6a55uu5qCHXHJcbiAgICovXHJcbiAgaXNET00obm9kZSkge1xyXG4gICAgcmV0dXJuIG5vZGVcclxuICAgICAgJiYgdHlwZW9mIG5vZGUgPT09ICdvYmplY3QnXHJcbiAgICAgICYmIG5vZGUubm9kZVR5cGUgPT09IDE7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQkZT6YGN5Y6G5oyH5a6aRE9N6IqC54K5XHJcbiAgICogQHBhcmFtIGNvbnRhaW5lciDpgY3ljobnmoRET03lrrnlmahcclxuICAgKiBAcGFyYW0gY2FsbGJhY2sg5Zue6LCDXHJcbiAgICovXHJcbiAgdHJhdmVyc2FsRE9NV2l0aEJGUyhjb250YWluZXIsIGNhbGxiYWNrKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNET00oY29udGFpbmVyKSkge1xyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdSZXF1aXJlIGEgRE9NIGVsZW1lbnQnKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBxdWV1ZTogRWxlbWVudFtdID0gW2NvbnRhaW5lcl07XHJcblxyXG4gICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCkge1xyXG4gICAgICBjb25zdCBub2RlID0gKHF1ZXVlLnNoaWZ0KCkgYXMgSFRNTEVsZW1lbnQpO1xyXG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhub2RlKTtcclxuXHJcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gbm9kZS5jaGlsZHJlbiBhcyBBcnJheUxpa2U8RWxlbWVudD47XHJcbiAgICAgIHF1ZXVlLnB1c2goLi4uKEFycmF5LmZyb20oY2hpbGRyZW4pKSk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogREZT6YGN5Y6G5oyH5a6aRE9N6IqC54K5XHJcbiAgICogQHBhcmFtIGNvbnRhaW5lciDpgY3ljobnmoRET03lrrnlmahcclxuICAgKiBAcGFyYW0gY2FsbGJhY2sg5Zue6LCDXHJcbiAgICovXHJcbiAgdHJhdmVyc2FsRE9NV2l0aERGUyhjb250YWluZXIsIGNhbGxiYWNrKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNET00oY29udGFpbmVyKSkge1xyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdSZXF1aXJlIGEgRE9NIGVsZW1lbnQnKTtcclxuICAgIH1cclxuXHJcbiAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhjb250YWluZXIpO1xyXG5cclxuICAgIF9haWRlZFRyYXZlcnNhbChjb250YWluZXIuY2hpbGRyZW4pO1xyXG5cclxuICAgIGZ1bmN0aW9uIF9haWRlZFRyYXZlcnNhbChjaGlsZHJlbjogSFRNTENvbGxlY3Rpb24pIHtcclxuICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgZm9yIChsZXQgaSA9IDAsIGV2ZXJ5OyBldmVyeSA9IGNoaWxkcmVuW2krK107KSB7XHJcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZXZlcnkgYXMgSFRNTEVsZW1lbnQpO1xyXG4gICAgICAgIF9haWRlZFRyYXZlcnNhbChldmVyeS5jaGlsZHJlbik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBOb2RlSXRlcmF0b3LpgY3ljobmjIflrppET03oioLngrlcclxuICAgKiBAcGFyYW0gY29udGFpbmVyIOmBjeWOhueahERPTeWuueWZqFxyXG4gICAqIEBwYXJhbSBjYWxsYmFjayDmiafooYzlm57osINcclxuICAgKi9cclxuICB0cmF2ZXJzYWxET01XaXRoTm9kZUl0ZXJhdG9yKGNvbnRhaW5lciwgY2FsbGJhY2spIHtcclxuICAgIGlmICghdGhpcy5pc0RPTShjb250YWluZXIpKSB7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1JlcXVpcmUgYSBET00gZWxlbWVudCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG5vZGVJdGVyYXRvcjogTm9kZUl0ZXJhdG9yID0gZG9jdW1lbnQuY3JlYXRlTm9kZUl0ZXJhdG9yKFxyXG4gICAgICBjb250YWluZXIsXHJcbiAgICAgIE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5ULFxyXG4gICAgKTtcclxuICAgIGxldCBjdXJyZW50Tm9kZTogTm9kZSB8IG51bGwgPSBudWxsO1xyXG5cclxuICAgIHdoaWxlICgoY3VycmVudE5vZGUgPSBub2RlSXRlcmF0b3IubmV4dE5vZGUoKSkpIHtcclxuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soY3VycmVudE5vZGUgYXMgSFRNTEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIFRyZWVXYWxrZXLpgY3ljobmjIflrppET03oioLngrlcclxuICAgKiBAcGFyYW0gY29udGFpbmVyIOmBjeWOhueahERPTeWuueWZqFxyXG4gICAqIEBwYXJhbSBjYWxsYmFjayDmiafooYzlm57osINcclxuICAgKi9cclxuICB0cmF2ZXJzYWxET01XaXRoVHJlZVdhbGtlcihjb250YWluZXIsIGNhbGxiYWNrKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNET00oY29udGFpbmVyKSkge1xyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdSZXF1aXJlIGEgRE9NIGVsZW1lbnQnKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0cmVlV2Fsa2VyOiBUcmVlV2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihcclxuICAgICAgY29udGFpbmVyLFxyXG4gICAgICBOb2RlRmlsdGVyLlNIT1dfRUxFTUVOVCxcclxuICAgICk7XHJcbiAgICBsZXQgY3VycmVudE5vZGU6IE5vZGUgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgICB3aGlsZSAoKCBjdXJyZW50Tm9kZSA9IHRyZWVXYWxrZXIubmV4dE5vZGUoKSApKSB7XHJcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCggY3VycmVudE5vZGUgYXMgSFRNTEVsZW1lbnQgKSk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog5qC35byP57uE6L2s5YyW5Li65YaF6IGU5qC35byPKHN0eWxlLmNzc1RleHQpXHJcbiAgICogQHBhcmFtIHBhaXIgQ1NT5qC35byP6ZSu5YC85a+5XHJcbiAgICovXHJcbiAgY29udmVydFBhaXJUb0NTU1RleHQocGFpcikge1xyXG4gICAgbGV0IHRleHQgPSAnJztcclxuXHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBwYWlyKSB7XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gUmVmbGVjdC5nZXQocGFpciwga2V5KTtcclxuICAgICAgdGV4dCArPSBgJHt1dGlsaXR5T3RoZXJzLmNvbnZlcnRIdW1wVG9IeXBoZW4oa2V5KX06ICR7dmFsdWV9OyBgO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0ZXh0O1xyXG4gIH0sXHJcbn07XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXRpbGl0eURPTTsiLCIvKipcclxuICogc291cmNlOlxyXG4gKiAgICBkcmFnc3RhcnRcclxuICogICAgZHJhZ1xyXG4gKiAgICBkcmFnZW5kXHJcbiAqIHRhcmdldDpcclxuICogICAgZHJhZ2VudGVyXHJcbiAqICAgIGRyYWdvdmVyXHJcbiAqICAgIGRyYWdsZWF2ZVxyXG4gKiAgICBkcm9wXHJcbiAqIOmXrumimDpcclxuICogICAgMS4gb25kcm9w5peg5rOV6Kem5Y+RP1xyXG4gKiAgICAgIC0+IG9uZHJhZ292ZXLlv4XpobtwcmV2ZW50RGVmYXVsdFxyXG4gKiAgICAyLiDlpoLkvZXmt7vliqDov4fmuKHmlYjmnpw/XHJcbiAqICAgICAgMi4xIGRyYWdzdGFydCwgc291cmNl55qEb3BhY2l0eSAtPiAwXHJcbiAqICAgICAgMi4yIGRyYWdlbmQsIHNvdXJjZeeahG9wYWNpdHkgLT4gMVxyXG4gKiAgICAgIDIuMyDnorDmkp7mo4DmtYtcclxuICogICAgICAyLjQg6L6555WM5qOA5rWLXHJcbiAqICAgICAgICAyLjQuMSDnrKzkuIDkuKrlkozmnIDlkI7kuIDkuKpcclxuICogICAgMy4g54i25a2Q5ZCM5pe26K6+572uZHJhZ2dhYmxlLCDlrZDlhYPntKDnmoRvbmRyb3Dop6blj5HlpJrmrKE/XHJcbiAqICAgICAgLT4g54i257qn55qEb25kcm9w5LiN6IO95Zyo5a2Q5LqL5Lu25b6q546v55uR5ZCsLCDpnIDopoHmj5Dlj5boh7PlpJbpg6hcclxuICogICAgNC4g54i257qn5YWD57Sg55qEb25kcmFnZW50ZXLlkoxvbmRyYWdsZWF2ZeS8muinpuWPkeWtkOWFg+e0oOeahOeKtuaAgSwg57uZ5omA5pyJ55qE5a2Q5YWD57Sg5aKe5YqgYHBvaW50ZXItZXZlbnRzOiBub25lYC5cclxuICogICAgNS4g5aaC5L2V5Yik5pat56e75Yqo5pa55ZCRP1xyXG4gKiAgICAgIC0+IOS/neWtmOS4iuS4gOatpeWSjOacrOatpeeahOS4i+aghywg5o2u5LiL5qCH5aSn5bCP5Yik5patLlxyXG4gKi9cclxuXHJcbmltcG9ydCB1dGlsaXR5RE9NIGZyb20gJy4uLy4uLy4uL3V0aWxpdHkvZG9tL2luZGV4JztcclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElTb3J0RHJhZ2dhYmxlUHJvcHMge1xyXG4gIGNvbnRhaW5lcjogc3RyaW5nO1xyXG4gIGRhdGFTb3VyY2U/OiBJU3RhdGljRGF0YVNvdXJjZVBhcmFtc1tdO1xyXG4gIGFuaW1hdGU/OiBib29sZWFuO1xyXG4gIGRyYWdXcmFwcGVyU3R5bGU/OiBQYXJ0aWFsPENTU1N0eWxlRGVjbGFyYXRpb24+O1xyXG4gIGRyYWdPcmlnaW5TdHlsZT86IFBhcnRpYWw8Q1NTU3R5bGVEZWNsYXJhdGlvbj47XHJcbiAgZHJhZ09yaWdpbkFjdGl2ZVN0eWxlPzogUGFydGlhbDxDU1NTdHlsZURlY2xhcmF0aW9uPjtcclxuICBkcmFnVGFyZ2V0QWN0aXZlU3R5bGU/OiBQYXJ0aWFsPENTU1N0eWxlRGVjbGFyYXRpb24+O1xyXG4gIG9uRHJhZ1N0YXJ0SG9vaz86IChvcmlnaW46IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xyXG4gIG9uRHJhZ0VudGVySG9vaz86IChvcmlnaW46IEhUTUxFbGVtZW50LCB0YXJnZXQ6IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xyXG4gIG9uRHJhZ0xlYXZlSG9vaz86IChvcmlnaW46IEhUTUxFbGVtZW50LCB0YXJnZXQ6IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xyXG4gIG9uRHJhZ092ZXJIb29rPzogKG9yaWdpbjogSFRNTEVsZW1lbnQsIHRhcmdldDogSFRNTEVsZW1lbnQpID0+IHZvaWQ7XHJcbiAgb25Ecm9wSG9vaz86IChvcmlnaW46IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xyXG59O1xyXG5leHBvcnQgaW50ZXJmYWNlIElTdGF0aWNEYXRhU291cmNlUGFyYW1zIHtcclxuICB0aXRsZVRleHQ/OiBzdHJpbmc7XHJcbiAgY29udGVudFRleHQ/OiBzdHJpbmc7XHJcbn07XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFNvcnREcmFnZ2FibGUge1xyXG5cclxuICBwdWJsaWMgc3RhdGljIF9haWRlZEZpbmRJbmRleChcclxuICAgIG5vZGU6IEVsZW1lbnQgfCBudWxsLFxyXG4gICAgY291bnQ6IG51bWJlcixcclxuICApOiBhbnkge1xyXG4gICAgaWYgKCFub2RlKSB7XHJcbiAgICAgIHJldHVybiBjb3VudDtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLl9haWRlZEZpbmRJbmRleChcclxuICAgICAgbm9kZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLFxyXG4gICAgICArK2NvdW50XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBkZWZhdWx0UHJvcHMgPSB7XHJcbiAgICBjb250YWluZXI6ICdib2R5JyxcclxuICAgIGRhdGFTb3VyY2U6IFtcclxuICAgICAge1xyXG4gICAgICAgIHRpdGxlVGV4dDogJzEnLFxyXG4gICAgICAgIGNvbnRlbnRUZXh0OiAn56ys5LiA6aG555qE5YaF5a65JyxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHRpdGxlVGV4dDogJzInLFxyXG4gICAgICAgIGNvbnRlbnRUZXh0OiAn56ys5LqM6aG555qE5YaF5a65JyxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHRpdGxlVGV4dDogJzMnLFxyXG4gICAgICAgIGNvbnRlbnRUZXh0OiAn56ys5LiJ6aG555qE5YaF5a65JyxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHRpdGxlVGV4dDogJzQnLFxyXG4gICAgICAgIGNvbnRlbnRUZXh0OiAn56ys5Zub6aG555qE5YaF5a65JyxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHRpdGxlVGV4dDogJzUnLFxyXG4gICAgICAgIGNvbnRlbnRUZXh0OiAn56ys5LqU6aG555qE5YaF5a65JyxcclxuICAgICAgfSxcclxuICAgIF0sXHJcbiAgICBkcmFnV3JhcHBlclN0eWxlOiB7XHJcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmYnLFxyXG4gICAgfSxcclxuICAgIGRyYWdPcmlnaW5TdHlsZToge1xyXG4gICAgICBtYXJnaW46ICc4cHggMCcsXHJcbiAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjZWJlZWY1JyxcclxuICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgYm94U2hhZG93OiAnMCAycHggMTJweCAwIHJnYmEoMCwgMCwgMCwgLjEpJyxcclxuICAgIH0sXHJcbiAgICBkcmFnT3JpZ2luQWN0aXZlU3R5bGU6IHtcclxuICAgICAgYm94U2hhZG93OiAnMCAycHggMTJweCAwIHJnYmEoMCwgMCwgMCwgLjQpJyxcclxuICAgIH0sXHJcbiAgICBkcmFnVGFyZ2V0QWN0aXZlU3R5bGU6IHtcclxuICAgICAgb3BhY2l0eTogJy41JyxcclxuICAgIH0sXHJcbiAgICBhbmltYXRlOiB0cnVlLFxyXG4gICAgb25EcmFnU3RhcnRIb29rKF9vcmlnaW46IEhUTUxFbGVtZW50KSB7IH0sXHJcbiAgICBvbkRyYWdFbnRlckhvb2soX29yaWdpbjogSFRNTEVsZW1lbnQsIF90YXJnZXQ6IEhUTUxFbGVtZW50KSB7IH0sXHJcbiAgICBvbkRyYWdMZWF2ZUhvb2soX29yaWdpbjogSFRNTEVsZW1lbnQsIF90YXJnZXQ6IEhUTUxFbGVtZW50KSB7IH0sXHJcbiAgICBvbkRyYWdPdmVySG9vayhfb3JpZ2luOiBIVE1MRWxlbWVudCwgX3RhcmdldDogSFRNTEVsZW1lbnQpIHsgfSxcclxuICAgIG9uRHJvcEhvb2soX29yaWdpbjogSFRNTEVsZW1lbnQpIHsgfSxcclxuICB9O1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoXHJcbiAgICBwcm9wczogSVNvcnREcmFnZ2FibGVQcm9wcyxcclxuICApIHtcclxuICAgIHRoaXMuX19pbml0X18ocHJvcHMpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIOaLluaLveWuueWZqCwgb3JpZ2lu5Lu75oSP54i257qnXHJcbiAgcHJpdmF0ZSBkcmFnQ29udGFpbmVyOiBIVE1MRWxlbWVudCA9IChcclxuICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJylcclxuICApO1xyXG4gIC8vIOaLluaLveWIl+ihqFxyXG4gIHByaXZhdGUgZHJhZ0l0ZW1zOiBIVE1MRWxlbWVudFtdID0gW1xyXG4gICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKSxcclxuICBdO1xyXG4gIC8vIOS/neWtmOiiq+aLluaLveWFg+e0oFxyXG4gIHByaXZhdGUgb3JpZ2luOiBIVE1MRWxlbWVudCA9IChcclxuICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgKTtcclxuICAvLyDlgqjlrZjmi5bmi73liY3lkI4sIG9yaWdpbiAmIHRhcmdldOS9jee9ruS/oeaBr1xyXG4gIHByaXZhdGUgcG9zaXRpb24gPSB7XHJcbiAgICBvcmlnaW5CZWZvcmVSZWN0OiB7XHJcbiAgICAgIHRvcDogMCxcclxuICAgIH0sXHJcbiAgICBvcmlnaW5BZnRlclJlY3Q6IHtcclxuICAgICAgdG9wOiAwLFxyXG4gICAgfSxcclxuICAgIHRhcmdldEJlZm9yZVJlY3Q6IHtcclxuICAgICAgdG9wOiAwLFxyXG4gICAgfSxcclxuICAgIHRhcmdldEFmdGVyUmVjdDoge1xyXG4gICAgICB0b3A6IDAsXHJcbiAgICB9LFxyXG4gIH07XHJcblxyXG5cclxuICBwcml2YXRlIF9faW5pdF9fKFxyXG4gICAgcHJvcHM6IElTb3J0RHJhZ2dhYmxlUHJvcHMsXHJcbiAgKTogdm9pZCB7XHJcbiAgICB0aGlzLl9pbml0UHJvcHMocHJvcHMpO1xyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX2luaXRQcm9wcyhcclxuICAgIHByb3BzOiBJU29ydERyYWdnYWJsZVByb3BzLFxyXG4gICk6IHZvaWQge1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcclxuICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IFJlZmxlY3QuZ2V0KHByb3BzLCBrZXkpO1xyXG4gICAgICAgIFJlZmxlY3Quc2V0KFNvcnREcmFnZ2FibGUuZGVmYXVsdFByb3BzLCBrZXksIHZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhaWRlZENyZWF0ZURPTSgpOiBzdHJpbmcge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBkYXRhU291cmNlLFxyXG4gICAgfSA9IFNvcnREcmFnZ2FibGUuZGVmYXVsdFByb3BzO1xyXG5cclxuICAgIGxldCB0ZW1wU3RyOiBzdHJpbmcgPSAnJztcclxuICAgIGRhdGFTb3VyY2UuZm9yRWFjaCgodiwgaSkgPT4ge1xyXG4gICAgICB0ZW1wU3RyICs9IGBcclxuICAgICAgICA8bGkgY2xhc3M9XCJkZHp5LWRyYWctbGlzdC1pdGVtIGRkenktZHJhZy1pdGVtLSR7aX1cIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZHp5LWRyYWctaXRlbS10aXRsZS1ib3hcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRkenktZHJhZy1pdGVtLXRpdGxlXCI+XHJcbiAgICAgICAgICAgICAgJHt2LnRpdGxlVGV4dH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZHp5LWRyYWctaXRlbS1jb250ZW50LWJveFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGR6eS1kcmFnLWl0ZW0tY29udGVudFwiPlxyXG4gICAgICAgICAgICAgICR7di5jb250ZW50VGV4dH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2xpPlxyXG4gICAgICBgO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgZG9tOiBzdHJpbmcgPSBgXHJcbiAgICAgIDxkaXYgaWQ9XCJkZHp5LWRyYWctd3JhcHBlclwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJkZHp5LWRyYWctbWFpblwiPlxyXG4gICAgICAgICAgPHVsIGNsYXNzPVwiZGR6eS1kcmFnLW1haW4tbGlzdFwiPlxyXG4gICAgICAgICAgICA8IS0tIFRPRE86IGRhdGFTb3VyY2XliqjmgIHnlJ/miJAgLS0+XHJcbiAgICAgICAgICAgICR7dGVtcFN0cn1cclxuICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxuXHJcbiAgICByZXR1cm4gZG9tO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhaWRlZE1vdW50RE9NKFxyXG4gICAgZG9tOiBzdHJpbmcsXHJcbiAgKTogdm9pZCB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGNvbnRhaW5lcixcclxuICAgIH0gPSBTb3J0RHJhZ2dhYmxlLmRlZmF1bHRQcm9wcztcclxuXHJcbiAgICBjb25zdCBtb3VudFdyYXBwZXIgPSB1dGlsaXR5RE9NLmdldEVsZShjb250YWluZXIpO1xyXG5cclxuICAgIGlmIChtb3VudFdyYXBwZXIpIHtcclxuICAgICAgbW91bnRXcmFwcGVyLmlubmVySFRNTCArPSBkb207XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQbGVhc2UgZW50ZXIgYW4gZXhpc3Rpbmcgc2VsZWN0b3IuJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFpZGVkQ3JlYXRlU3R5bGUoKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgZHJhZ1dyYXBwZXJTdHlsZSxcclxuICAgICAgZHJhZ09yaWdpblN0eWxlLFxyXG4gICAgICBkcmFnT3JpZ2luQWN0aXZlU3R5bGUsXHJcbiAgICAgIGRyYWdUYXJnZXRBY3RpdmVTdHlsZSxcclxuICAgIH0gPSBTb3J0RHJhZ2dhYmxlLmRlZmF1bHRQcm9wcztcclxuXHJcbiAgICBjb25zdCB0ZW1wV3JhcHBlclN0eWxlID0gdXRpbGl0eURPTS4gY29udmVydFBhaXJUb0NTU1RleHQoZHJhZ1dyYXBwZXJTdHlsZSk7XHJcbiAgICBjb25zdCB0ZW1wT3JpZ2luU3R5bGUgPSB1dGlsaXR5RE9NLiBjb252ZXJ0UGFpclRvQ1NTVGV4dChkcmFnT3JpZ2luU3R5bGUpO1xyXG4gICAgY29uc3QgdGVtcE9yaWdpbkFjdGl2ZVN0eWxlID0gdXRpbGl0eURPTS4gY29udmVydFBhaXJUb0NTU1RleHQoZHJhZ09yaWdpbkFjdGl2ZVN0eWxlKTtcclxuICAgIGNvbnN0IHRlbXBUYXJnZXRBY3RpdmVTdHlsZSA9IHV0aWxpdHlET00uIGNvbnZlcnRQYWlyVG9DU1NUZXh0KGRyYWdUYXJnZXRBY3RpdmVTdHlsZSk7XHJcblxyXG4gICAgY29uc3Qgc3R5bGU6IHN0cmluZyA9IGBcclxuICAgICAgYm9keSwgdWwsIGxpIHtcclxuICAgICAgICBtYXJnaW46IDA7XHJcbiAgICAgICAgcGFkZGluZzogMDtcclxuICAgICAgfVxyXG4gICAgICB1bCB7XHJcbiAgICAgICAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xyXG4gICAgICB9XHJcbiAgICAgICNkZHp5LWRyYWctd3JhcHBlciBkaXYge1xyXG4gICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgfVxyXG4gICAgICAjZGR6eS1kcmFnLXdyYXBwZXIge1xyXG4gICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAke3RlbXBXcmFwcGVyU3R5bGV9XHJcbiAgICAgIH1cclxuICAgICAgLmRkenktZHJhZy1tYWluIHtcclxuICAgICAgICBoZWlndGg6IDEwMCU7XHJcbiAgICAgICAgcGFkZGluZzogMC42MjVyZW07XHJcbiAgICAgIH1cclxuICAgICAgLmRkenktZHJhZy1tYWluLWxpc3Qge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgfVxyXG4gICAgICAuZGR6eS1kcmFnLWxpc3QtaXRlbSB7XHJcbiAgICAgICAgLyogVE9ETzog5Lyg5YWl6YWN572uIC0gZ2FwICovXHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgICAgY3Vyc29yOiBtb3ZlO1xyXG4gICAgICAgIG1pbi1oZWlnaHQ6IDIuNXJlbTtcclxuICAgICAgICBtYXJnaW46IDAuNXJlbSAwO1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiAgICAgICAgY29sb3I6ICMzMDMxMzM7XHJcbiAgICAgICAgJHt0ZW1wT3JpZ2luU3R5bGV9XHJcbiAgICAgICAgdHJhbnNpdGlvbjogLjNzIGFsbCBlYXNlO1xyXG4gICAgICB9XHJcbiAgICAgIC5kZHp5LWRyYWctaXRlbS10aXRsZS1ib3gge1xyXG4gICAgICAgIGZsZXg6IDE7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Q1MDtcclxuICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcclxuICAgICAgfVxyXG4gICAgICAuZGR6eS1kcmFnLWl0ZW0tdGl0bGUge1xyXG4gICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICBsaW5lLWhlaWdodDogMi41O1xyXG4gICAgICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgfVxyXG4gICAgICAuZGR6eS1kcmFnLWl0ZW0tdGl0bGUgaW1nIHtcclxuICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICB9XHJcbiAgICAgIC5kZHp5LWRyYWctaXRlbS1jb250ZW50LWJveCB7XHJcbiAgICAgICAgZmxleDogNTtcclxuICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcclxuICAgICAgfVxyXG4gICAgICAuZGR6eS1kcmFnLWl0ZW0tY29udGVudCB7XHJcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAwLjVyZW07XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6IDIuNTtcclxuICAgICAgICBjb2xvcjogIzY2NjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyogQWN0aXZlIENsYXNzZXMoQ29uZmlndXJhdGlvbnMpICovXHJcbiAgICAgIC5kZHp5LWRyYWctb3JpZ2luLWFjdGl2ZSB7XHJcbiAgICAgICAgJHt0ZW1wT3JpZ2luQWN0aXZlU3R5bGV9XHJcbiAgICAgIH1cclxuICAgICAgLmRkenktZHJhZy10YXJnZXQtYWN0aXZlIHtcclxuICAgICAgICAke3RlbXBUYXJnZXRBY3RpdmVTdHlsZX1cclxuICAgICAgfVxyXG5cclxuICAgIGA7XHJcblxyXG4gICAgcmV0dXJuIHN0eWxlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhaWRlZE1vdW50U3R5bGUoXHJcbiAgICBzdHlsZTogc3RyaW5nLFxyXG4gICk6IHZvaWQge1xyXG4gICAgbGV0IG9TdHlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3N0eWxlJyk7XHJcblxyXG4gICAgaWYgKG9TdHlsZSkge1xyXG4gICAgICBvU3R5bGUuaW5uZXJUZXh0ICs9IGBcclxuICAgICAgICAvKiBDcmVhdGUgYnkgU29ydERyYWdnYWJsZSAqL1xyXG4gICAgICAgICR7c3R5bGV9XHJcbiAgICAgIGA7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgb1N0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSBhcyBIVE1MU3R5bGVFbGVtZW50O1xyXG4gICAgICBvU3R5bGUuaW5uZXJUZXh0ICs9IG9TdHlsZS5pbm5lclRleHQgKz0gYFxyXG4gICAgICAgIC8qIENyZWF0ZSBieSBTb3J0RHJhZ2dhYmxlICovXHJcbiAgICAgICAgJHtzdHlsZX1cclxuICAgICAgYDs7XHJcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQob1N0eWxlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuICBwcml2YXRlIGhhbmRsZVJlbmRlckRPTSgpOiB2b2lkIHtcclxuICAgIGNvbnN0IGRvbSA9IHRoaXMuYWlkZWRDcmVhdGVET00oKTtcclxuICAgIHRoaXMuYWlkZWRNb3VudERPTShkb20pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVSZW5kZXJTdHlsZSgpOiB2b2lkIHtcclxuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5haWRlZENyZWF0ZVN0eWxlKCk7XHJcbiAgICB0aGlzLmFpZGVkTW91bnRTdHlsZShzdHlsZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBkcmFn55u45YWz55qE5Y+Y6YeP5o+Q5Y+WLCDogIPomZHliLDlkI7nu63lj6/og73kvJrnlKjliLBcclxuICAgKi9cclxuICBwcml2YXRlIGhhbmRsZUluaXREcmFnVmFyaWJsZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuZHJhZ0NvbnRhaW5lciA9IHV0aWxpdHlET00uZ2V0RWxlKFxyXG4gICAgICAnLmRkenktZHJhZy1tYWluLWxpc3QnXHJcbiAgICApIGFzIEhUTUxVTGlzdEVsZW1lbnQ7XHJcbiAgICB0aGlzLmRyYWdJdGVtcyA9IEFycmF5LmZyb20oXHJcbiAgICAgIHV0aWxpdHlET00uZ2V0QWxsRWxlKFxyXG4gICAgICAgICcuZGR6eS1kcmFnLWxpc3QtaXRlbSdcclxuICAgICAgKSBhcyBBcnJheUxpa2U8SFRNTExJRWxlbWVudD5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZURyYWdBbmltYXRpb24oXHJcbiAgICB0YXJnZXQ6IEhUTUxFbGVtZW50LFxyXG4gICk6IHZvaWQge1xyXG4gICAgY29uc3Qgb3JpZ2luRGlmZkRpc3RhbmNlID0gdGhpcy5wb3NpdGlvbi5vcmlnaW5BZnRlclJlY3QudG9wIC0gdGhpcy5wb3NpdGlvbi5vcmlnaW5CZWZvcmVSZWN0LnRvcDtcclxuICAgIGNvbnN0IHRhcmdldERpZmZEaXN0YW5jZSA9IHRoaXMucG9zaXRpb24udGFyZ2V0QWZ0ZXJSZWN0LnRvcCAtIHRoaXMucG9zaXRpb24udGFyZ2V0QmVmb3JlUmVjdC50b3A7XHJcblxyXG4gICAgLy8gPzogW2FuaW1hdGVdIC0g5YWI572ub3JpZ2luICYgdGFyZ2V05LqO5Y6f5L2NKGFuaW1hdGXphY3nva7pobnlv4XpobspXHJcbiAgICB1dGlsaXR5RE9NLnNldENzcyh0aGlzLm9yaWdpbiwge1xyXG4gICAgICB0cmFuc2l0aW9uOiAnbm9uZScsXHJcbiAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHstb3JpZ2luRGlmZkRpc3RhbmNlfXB4KWAsXHJcbiAgICB9KTtcclxuICAgIHV0aWxpdHlET00uc2V0Q3NzKHRhcmdldCwge1xyXG4gICAgICB0cmFuc2l0aW9uOiAnbm9uZScsXHJcbiAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHstdGFyZ2V0RGlmZkRpc3RhbmNlfXB4KWAsXHJcbiAgICB9KTtcclxuXHJcbiAgICB1dGlsaXR5RE9NLmFkZENsYXNzKHRhcmdldCwgJ2RkenktZHJhZy10YXJnZXQtYWN0aXZlJyk7XHJcblxyXG4gICAgLy8gPzog55Sx5LqOb3JpZ2lu56e75Yqo5Yiw5LqG5paw5L2N572uLCDmiYDku6XmraTlpITpnIDmm7TmlrDlhbZiZWZvcmVSZWN0XHJcbiAgICB0aGlzLnBvc2l0aW9uLm9yaWdpbkJlZm9yZVJlY3QgPSB0aGlzLnBvc2l0aW9uLm9yaWdpbkFmdGVyUmVjdDtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdXRpbGl0eURPTS5zZXRDc3ModGhpcy5vcmlnaW4sIHtcclxuICAgICAgICB0cmFuc2l0aW9uOiBgYWxsIC4zcyBlYXNlYCxcclxuICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGVZKCR7MH1weClgLFxyXG4gICAgICB9KTtcclxuICAgICAgdXRpbGl0eURPTS5zZXRDc3ModGFyZ2V0LCB7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogYGFsbCAuM3MgZWFzZWAsXHJcbiAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgkezB9cHgpYCxcclxuICAgICAgfSk7XHJcbiAgICB9LCAwKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlRHJhZ1N0YXJ0KFxyXG4gICAgdGFyZ2V0OiBIVE1MRWxlbWVudCxcclxuICApOiB2b2lkIHtcclxuICAgIC8vIOWtmOWCqOiiq+aLluaLveWFg+e0oFxyXG4gICAgdGhpcy5vcmlnaW4gPSB0YXJnZXQ7XHJcbiAgICB0aGlzLnBvc2l0aW9uLm9yaWdpbkJlZm9yZVJlY3QgPSB0aGlzLm9yaWdpbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICB1dGlsaXR5RE9NLmFkZENsYXNzKHRoaXMub3JpZ2luLCAnZGR6eS1kcmFnLW9yaWdpbi1hY3RpdmUnKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlRHJhZ0VudGVyKFxyXG4gICAgdGFyZ2V0OiBIVE1MRWxlbWVudCxcclxuICApOiB2b2lkIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgZHJhZ0NvbnRhaW5lcixcclxuICAgIH0gPSB0aGlzO1xyXG5cclxuICAgIHRoaXMucG9zaXRpb24udGFyZ2V0QmVmb3JlUmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAvLyDmjpLluo/kvp3mja4o56e75Yqo5pa55ZCRKeacieS4pOenjeaWueW8j1xyXG4gICAgLy8gICAgMS4g6YCS5b2SKOi/reS7oylET03moJEsIOaJvm9yaWdpbiAmIHRhcmdldOeahOS9jee9rijiiJopXHJcbiAgICAvLyAgICAyLiDnu7TmiqTkuIDkuKpET03mjpLluo/mlbDnu4RcclxuICAgIGNvbnN0IG9yaWdpbkluZGV4ID0gU29ydERyYWdnYWJsZS5fYWlkZWRGaW5kSW5kZXgodGhpcy5vcmlnaW4sIDApO1xyXG4gICAgY29uc3QgdGFyZ2V0SW5kZXggPSBTb3J0RHJhZ2dhYmxlLl9haWRlZEZpbmRJbmRleCh0YXJnZXQsIDApO1xyXG4gICAgY29uc3QgZGlmZiA9IHRhcmdldEluZGV4IC0gb3JpZ2luSW5kZXg7XHJcbiAgICBkaWZmID4gMFxyXG4gICAgICA/IChcclxuICAgICAgICBkcmFnQ29udGFpbmVyLmluc2VydEJlZm9yZSh0aGlzLm9yaWdpbiwgKFxyXG4gICAgICAgICAgdGFyZ2V0Lm5leHRFbGVtZW50U2libGluZyBhcyBIVE1MTElFbGVtZW50XHJcbiAgICAgICAgKSlcclxuICAgICAgKVxyXG4gICAgICA6IChcclxuICAgICAgICBkcmFnQ29udGFpbmVyLmluc2VydEJlZm9yZSh0aGlzLm9yaWdpbiwgdGFyZ2V0KVxyXG4gICAgICApO1xyXG5cclxuICAgIC8vID86IGluc2VydOWQjueahOaWsOS9jee9riwgYGFuaW1hdGVg5pe25Y+q6ZyA5Lqk5o2i5Lik6ICF5L2N572u5L+h5oGv5Y2z5Y+vXHJcbiAgICB0aGlzLnBvc2l0aW9uLm9yaWdpbkFmdGVyUmVjdCA9IHRoaXMub3JpZ2luLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgdGhpcy5wb3NpdGlvbi50YXJnZXRBZnRlclJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZURyYWdMZWF2ZShcclxuICAgIHRhcmdldDogSFRNTEVsZW1lbnQsXHJcbiAgKTogdm9pZCB7XHJcbiAgICB1dGlsaXR5RE9NLnJlbW92ZUNsYXNzKHRhcmdldCwgJ2RkenktZHJhZy10YXJnZXQtYWN0aXZlJyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZURyYWdPdmVyKFxyXG4gICAgZTogRHJhZ0V2ZW50LFxyXG4gICk6IHZvaWQge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVEcm9wKCk6IHZvaWQge1xyXG4gICAgdXRpbGl0eURPTS5yZW1vdmVDbGFzcyh0aGlzLm9yaWdpbiwgJ2RkenktZHJhZy1vcmlnaW4tYWN0aXZlJyk7XHJcbiAgICB1dGlsaXR5RE9NLnJlbW92ZUNsYXNzKHRoaXMub3JpZ2luLCAnZGR6eS1kcmFnLXRhcmdldC1hY3RpdmUnKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWkhOeQhuaLluaLveebuOWFs1xyXG4gICAqL1xyXG4gIHByaXZhdGUgaGFuZGxlRHJhZygpOiB2b2lkIHtcclxuICAgIHRoaXMuaGFuZGxlSW5pdERyYWdWYXJpYmxlKCk7XHJcblxyXG4gICAgY29uc3QgeyBkcmFnSXRlbXMgfSA9IHRoaXM7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGFuaW1hdGUsXHJcbiAgICAgIG9uRHJhZ1N0YXJ0SG9vayxcclxuICAgICAgb25EcmFnRW50ZXJIb29rLFxyXG4gICAgICBvbkRyYWdPdmVySG9vayxcclxuICAgICAgb25EcmFnTGVhdmVIb29rLFxyXG4gICAgICBvbkRyb3BIb29rLFxyXG4gICAgfSA9IFNvcnREcmFnZ2FibGUuZGVmYXVsdFByb3BzO1xyXG5cclxuICAgIGRyYWdJdGVtcy5mb3JFYWNoKCh0YXJnZXQpID0+IHtcclxuICAgICAgdXRpbGl0eURPTS5zZXRBdHRyKHRhcmdldCwge1xyXG4gICAgICAgIGRyYWdnYWJsZTogJ3RydWUnLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVEcmFnU3RhcnQodGFyZ2V0KTtcclxuICAgICAgICBvbkRyYWdTdGFydEhvb2sodGhpcy5vcmlnaW4pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVEcmFnRW50ZXIodGFyZ2V0KTtcclxuICAgICAgICAvLyA/OiDmmK/lkKblkK/nlKjov4fmuKFcclxuICAgICAgICBhbmltYXRlICYmIHRoaXMuaGFuZGxlRHJhZ0FuaW1hdGlvbih0YXJnZXQpO1xyXG4gICAgICAgIG9uRHJhZ0VudGVySG9vayh0aGlzLm9yaWdpbiwgdGFyZ2V0KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlRHJhZ0xlYXZlKHRhcmdldCk7XHJcbiAgICAgICAgb25EcmFnTGVhdmVIb29rKHRoaXMub3JpZ2luLCB0YXJnZXQpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVEcmFnT3ZlcihlKTtcclxuICAgICAgICBvbkRyYWdPdmVySG9vayh0aGlzLm9yaWdpbiwgdGFyZ2V0KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsICgpID0+IHtcclxuICAgICAgICB0aGlzLmhhbmRsZURyb3AoKTtcclxuICAgICAgICBvbkRyb3BIb29rKHRoaXMub3JpZ2luKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVuZGVyKCk6IHZvaWQge1xyXG4gICAgdGhpcy5oYW5kbGVSZW5kZXJET00oKTtcclxuICAgIHRoaXMuaGFuZGxlUmVuZGVyU3R5bGUoKTtcclxuICAgIHRoaXMuaGFuZGxlRHJhZygpO1xyXG4gIH1cclxuXHJcbn07IiwiLyoqXHJcbiAqIEBuYW1lIERyYWdnYWJsZVxyXG4gKiBAZGVzY3JpcHRpb24ge1xyXG4gKiAgICAxLiDkuInnp43mi5bmi73nsbvlnoso5ouW5pS+5o6S5bqP44CB56m/5qKt5qGG44CB6IyD5Zu05ouW5ou9KVxyXG4gKiB9XHJcbiAqIEBhdXRob3IgZGR6eVxyXG4gKiBAc2luY2UgMTkvNS8xMVxyXG4gKi9cclxuaW1wb3J0IHtcclxuICBTb3J0RHJhZ2dhYmxlIGFzIFNvcnQsXHJcbn0gZnJvbSAnLi9zb3J0LWRyYWdnYWJsZS9Tb3J0RHJhZ2dhYmxlJztcclxuXHJcblxyXG5leHBvcnQgY29uc3QgRHJhZ2dhYmxlID0ge1xyXG4gIFNvcnQsXHJcbn07IiwiaW1wb3J0IHtcclxuICBEcmFnZ2FibGUsXHJcbn0gZnJvbSAnLi9kZHp5L2J1c2luZXNzL2RyYWdnYWJsZS9pbmRleCc7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRHJhZ2dhYmxlO1xyXG5cclxuLy8gbmV3IERyYWdnYWJsZS5Tb3J0KHtcclxuLy8gICBjb250YWluZXI6ICcjYXBwJyxcclxuLy8gICBhbmltYXRlOiB0cnVlLFxyXG4vLyAgIGRhdGFTb3VyY2U6IFtcclxuLy8gICAgIHtcclxuLy8gICAgICAgdGl0bGVUZXh0OiBgXHJcbi8vICAgICAgICAgPGltZyBzcmM9XCJodHRwczovL2F2YXRhcnMxLmdpdGh1YnVzZXJjb250ZW50LmNvbS91LzMzOTIxMzk4P3M9NDAmdj00XCIgLz5cclxuLy8gICAgICAgYCxcclxuLy8gICAgICAgY29udGVudFRleHQ6IGBcclxuLy8gICAgICAgICA8aDM+b25lT25lIE9uZTwvaDM+XHJcbi8vICAgICAgIGAsXHJcbi8vICAgICB9LFxyXG4vLyAgICAge1xyXG4vLyAgICAgICB0aXRsZVRleHQ6ICfikaEnLFxyXG4vLyAgICAgICBjb250ZW50VGV4dDogJ3R3b3R3b3R3bydcclxuLy8gICAgIH0sXHJcbi8vICAgICB7XHJcbi8vICAgICAgIHRpdGxlVGV4dDogJ+KRoicsXHJcbi8vICAgICAgIGNvbnRlbnRUZXh0OiAndGhyZWV0aHJlZXRocmVlJ1xyXG4vLyAgICAgfSxcclxuLy8gICBdLFxyXG4vLyB9KSJdLCJzb3VyY2VSb290IjoiIn0=