var DraggerUpload=function(n){var e={};function a(t){if(e[t])return e[t].exports;var o=e[t]={i:t,l:!1,exports:{}};return n[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=n,a.c=e,a.d=function(n,e,t){a.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},a.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},a.t=function(n,e){if(1&e&&(n=a(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)a.d(t,o,function(e){return n[e]}.bind(null,o));return t},a.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return a.d(e,"a",e),e},a.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},a.p="",a(a.s=0)}([function(n,e,a){"use strict";a.r(e);var t={invariant:function(n,e){if(n)throw new TypeError("Ddzy's plugin error: ".concat(e))},convertHumpToHyphen:function(n){return n.replace(/[A-Z]+/,function(n){return"-".concat(n.toLowerCase())})}};function o(n){return function(n){if(Array.isArray(n)){for(var e=0,a=new Array(n.length);e<n.length;e++)a[e]=n[e];return a}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(n){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var r={getEle:function(n){return document.querySelector(n)},getAllEle:function(n){return document.querySelectorAll(n)},setAttr:function(n,e){for(var a in e)n.setAttribute(a,e[a]);return this},setCss:function(n,e){for(var a in e)if(e.hasOwnProperty(a)){var t=e[a];n.style.cssText+="".concat(a,": ").concat(t,";")}return this},getAttr:function(n,e){return n.getAttribute(e)},addClass:function(n,e){return n&&n.classList.add(e),this},removeClass:function(n,e){return n&&n.classList.remove(e),this},throttle:function(n,e){var a=Date.now();return function(){var t=Date.now();if(t-a>n){for(var o=arguments.length,d=new Array(o),r=0;r<o;r++)d[r]=arguments[r];e.apply(globalThis,d),a=t}}},isDOM:function(n){return n&&"object"===d(n)&&1===n.nodeType},traversalDOMWithBFS:function(n,e){if(!this.isDOM(n))throw new TypeError("Require a DOM element");for(var a=[n];a.length;){var t=a.shift();e&&e(t);var d=t.children;a.push.apply(a,o(Array.from(d)))}},traversalDOMWithDFS:function(n,e){if(!this.isDOM(n))throw new TypeError("Require a DOM element");e&&e(n),function n(a){if(0===a.length)return;for(var t,o=0;t=a[o++];)e&&e(t),n(t.children)}(n.children)},traversalDOMWithNodeIterator:function(n,e){if(!this.isDOM(n))throw new TypeError("Require a DOM element");for(var a=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT),t=null;t=a.nextNode();)e&&e(t)},traversalDOMWithTreeWalker:function(n,e){if(!this.isDOM(n))throw new TypeError("Require a DOM element");for(var a=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT),t=null;t=a.nextNode();)e&&e(t)},convertPairToCSSText:function(n){var e="";for(var a in n){var o=Reflect.get(n,a);e+="".concat(t.convertHumpToHyphen(a),": ").concat(o,"; ")}return e},_querySelector:function(n){var e=n.match(/^(?:#([a-zA-Z]+))|(?:\.(\w+))|([a-z]+)$/);return e?e[1]?document.getElementById(e[1]):e[2]?document.getElementsByClassName(e[2])[0]||null:document.getElementsByTagName(e[3])[0]||null:null}};function i(n,e){for(var a=0;a<e.length;a++){var t=e[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function l(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}var s=function(){function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),l(this,"state",{files:[],oContainer:document.createElement("div"),oLabel:document.createElement("label"),oInput:document.createElement("input"),oShowList:document.createElement("ul")}),this.__init__(e)}var e,a,t;return e=n,(a=[{key:"__init__",value:function(n){this._initProps(n),this._initDOM(),this._initStyle(),this._initCommonEle(),this.handleDragUpload(),this.handleClickUpload()}},{key:"_initProps",value:function(e){for(var a in e)if(e.hasOwnProperty(a)){var t=Reflect.get(e,a);Reflect.set(n.defaultProps,a,t)}}},{key:"_initDOM",value:function(){this.handleMountDOM(this.handleCreateDOM())}},{key:"_initStyle",value:function(){this.handleMountStyle(this.handleCreateStyle())}},{key:"_initCommonEle",value:function(){var n=r.getEle(".ddzy-upload-drag-container"),e=r.getEle(".ddzy-upload-drag-main-content"),a=r.getEle(".ddzy-upload-drag-main-input"),t=r.getEle(".ddzy-upload-show-list");this.state.oContainer=n,this.state.oLabel=e,this.state.oInput=a,this.state.oShowList=t}},{key:"handleCreateDOM",value:function(){return'\n      <div id="ddzy-upload-wrapper">\n        <div class="ddzy-upload-main">\n          \x3c!-- 拖拽容器 --\x3e\n          <div class="ddzy-upload-drag-container" draggable="true">\n            <div class="ddzy-upload-drag-main">\n              <input id="ddzy-upload-drag-main-input" class="ddzy-upload-drag-main-input" type="file" multiple="true" accept="image/jpg, image/jpeg, image/gif, image/png, image/ico" style="display: none;" />\n\n              <label for="ddzy-upload-drag-main-input" class="ddzy-upload-drag-main-content">\n                <div class="ddzy-upload-drag-icon-box">\n                  <svg class="icon" aria-hidden="true">\n                    <use xlink:href="#icon-upload"></use>\n                  </svg>\n                </div>\n                <div class="ddzy-upload-drag-title-box">\n                  <h3>Click or Drag to upload</h3>\n                </div>\n                <div class="ddzy-upload-drag-description-box">\n                  <p>Support mutiple files but only image</p>\n                </div>\n              </label>\n            </div>\n          </div>\n          \x3c!-- 文件列表 --\x3e\n          <div class="ddzy-upload-show-container">\n            <div class="ddzy-upload-show-content">\n              <ul class="ddzy-upload-show-list">\n\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    '}},{key:"handleMountDOM",value:function(e){var a=n.defaultProps.container,t=r.getEle(a);if(!t)throw new TypeError("Please enter an existing selector.");t.innerHTML+=e}},{key:"handleCreateStyle",value:function(){return"\n      body, ul, li, p, h3 {\n        margin: 0;\n        padding: 0;\n      }\n      ul {\n        list-style-type: none;\n      }\n      label {\n        display: block;\n        cursor: pointer;\n      }\n\n      #ddzy-upload-wrapper {\n        height: 100%;\n      }\n      #ddzy-upload-wrapper .ddzy-upload-main {\n        height: 100%;\n        user-select: none;\n        cursor: pointer;\n      }\n\n\n      /* 拖拽上传部分 */\n      #ddzy-upload-wrapper .ddzy-upload-drag-container {\n        border: 1px dashed #ccc;\n        background-color: #f9f9f9;\n        cursor: pointer;\n        transition: all .3s ease;\n      }\n      #ddzy-upload-wrapper .ddzy-upload-drag-container:hover {\n        border-color: #1890ff;\n      }\n      #ddzy-upload-wrapper .ddzy-upload-drag-main {\n        pointer-events: none;\n      }\n\n      #ddzy-upload-wrapper .ddzy-upload-drag-main-content {\n        padding: 0.5rem;\n        text-align: center;\n      }\n      #ddzy-upload-wrapper .ddzy-upload-drag-icon-box {\n        margin-top: 0.5rem;\n      }\n      #ddzy-upload-wrapper .ddzy-upload-drag-title-box {\n        margin-top: 1.375rem;\n      }\n      #ddzy-upload-wrapper .ddzy-upload-drag-description-box {\n        margin-top: 0.625rem;\n        margin-bottom: 1rem;\n      }\n      #ddzy-upload-wrapper .ddzy-upload-drag-icon-box svg {\n        color: #1890ff;\n        min-width: 2.5rem;\n        min-height: 2.5rem;\n      }\n      #ddzy-upload-wrapper .ddzy-upload-drag-title-box h3 {\n        color: #888;\n      }\n      #ddzy-upload-wrapper .ddzy-upload-drag-description-box p {\n        color: #999;\n        font-size: 0.875rem;\n      }\n\n\n      /* 文件列表部分 */\n      #ddzy-upload-wrapper .ddzy-upload-show-container {\n        margin-top: 0.5rem;\n      }\n      #ddzy-upload-wrapper .ddzy-upload-show-content {\n\n      }\n      #ddzy-upload-wrapper .ddzy-upload-show-list {\n\n      }\n      #ddzy-upload-wrapper .ddzy-upload-show-item {\n        display: flex;\n        margin-top: 0.5rem;\n        padding: 0.25rem 0.5rem;\n        border: 1px solid #ddd;\n        color: #666;\n        transition: all .3s ease;\n      }\n      #ddzy-upload-wrapper .ddzy-upload-show-item:hover {\n        background-color: #f3f4f5;\n      }\n      #ddzy-upload-wrapper .ddzy-upload-show-item svg:hover {\n        color: #1890ff;\n      }\n      #ddzy-upload-wrapper .ddzy-upload-show-action-box {\n        flex: 8;\n      }\n      #ddzy-upload-wrapper .ddzy-upload-show-action {\n\n      }\n      #ddzy-upload-wrapper .ddzy-upload-show-action > span {\n        display: inline-block;\n      }\n      #ddzy-upload-wrapper .ddzy-upload-show-action-preview {\n        margin-left: 0.5rem;\n      }\n      #ddzy-upload-wrapper .ddzy-upload-show-action-send {\n        margin-left: 0.25rem;\n      }\n      #ddzy-upload-wrapper .ddzy-upload-show-action-name {\n        margin-left: 1rem;\n      }\n      #ddzy-upload-wrapper .ddzy-upload-show-action-loading {\n\n      }\n      #ddzy-upload-wrapper .ddzy-upload-show-close-box {\n        flex: 1;\n      }\n      #ddzy-upload-wrapper .ddzy-upload-show-close {\n        text-align: right;\n      }\n\n      /* Animation */\n      @keyframes showItemLoading {\n        0% {\n          transform: rotate(0);\n        }\n        100% {\n          transform: rotate(360deg);\n        }\n      }\n\n      /* Active classes */\n      #ddzy-upload-wrapper .ddzy-upload-drag-container-active {\n        border-color: #1890ff;\n        filter: blur(1px);\n      }\n\n      #ddzy-upload-wrapper .ddzy-upload-show-item-in-animate {\n        transition: none;\n        opacity: 0;\n        transform: translateX(100%);\n      }\n\n      #ddzy-upload-wrapper .ddzy-upload-show-item-out-animate {\n        transform: translateX(-100%);\n        opacity: 0;\n      }\n\n      #ddzy-upload-wrapper .ddzy-upload-show-action-loading-active {\n        animation: showItemLoading .5s linear infinite;\n      }\n      #ddzy-upload-wrapper .ddzy-upload-show-action-loading-success {\n        animation: none;\n        color: #52c41a;\n      }\n      #ddzy-upload-wrapper .ddzy-upload-show-action-loading-faild {\n        animation: none;\n        color: #f5222d;\n      }\n\n    "}},{key:"handleMountStyle",value:function(n){var e=document.querySelector("style");e?e.innerText+="\n        /* Create by DraggerUpload */\n        ".concat(n,"\n      "):((e=document.createElement("style")).innerText+=e.innerText+="\n        /* Create by DraggerUpload */\n        ".concat(n,"\n      "),document.head.appendChild(e))}},{key:"handleDragEnter",value:function(){var n=this.state.oContainer;r.addClass(n,"ddzy-upload-drag-container-active")}},{key:"handleDragLeave",value:function(){var n=this.state.oContainer;r.removeClass(n,"ddzy-upload-drag-container-active")}},{key:"handleLocalItemAnimateIn",value:function(){var n=r.getAllEle(".ddzy-upload-show-item"),e=n[n.length-1];Array.from(n).forEach(function(n){n===e?r.addClass(n,"ddzy-upload-show-item-in-animate"):r.removeClass(n,"ddzy-upload-show-item-in-animate")}),setTimeout(function(){r.removeClass(e,"ddzy-upload-show-item-in-animate")},0)}},{key:"handleLocalItemAnimateOut",value:function(n){var e=this.state.oShowList;r.addClass(n,"ddzy-upload-show-item-out-animate"),setTimeout(function(){e.removeChild(n)},300)}},{key:"handleLocalItemRemove",value:function(){var e=this,a=r.getAllEle(".ddzy-upload-show-item"),t=n.defaultProps.onRemoveClickHook,o=this.state.files;Array.from(a).forEach(function(n){n.getElementsByClassName("ddzy-upload-show-close")[0].firstElementChild.addEventListener("click",function(){var a=Number(r.getAttr(n,"data-index")),d=o[a];t&&t(d,o),e.handleLocalItemAnimateOut(n)})})}},{key:"handleLocalItemPreview",value:function(){var e=r.getAllEle(".ddzy-upload-show-item"),a=this.state.files,t=n.defaultProps.onPreviewClickHook;Array.from(e).forEach(function(n){n.getElementsByClassName("ddzy-upload-show-action-preview")[0].addEventListener("click",function(){var e=Number(r.getAttr(n,"data-index")),o=a[e];t&&t(o,a)})})}},{key:"handleLocalItemSendSuccess",value:function(e,a,t){var o=n.defaultProps.onUploadClickSuccessHook,d=e.getElementsByClassName("ddzy-upload-show-action-loading")[0];r.addClass(d,"ddzy-upload-show-action-loading-success"),o&&o(a,t)}},{key:"handleLocalItemSendFaild",value:function(e,a,t){var o=n.defaultProps.onUploadClickFailHook,d=e.getElementsByClassName("ddzy-upload-show-action-loading")[0];r.addClass(d,"ddzy-upload-show-action-loading-faild"),o&&o(a,t)}},{key:"handleLocalItemSend",value:function(){var e=this,a=r.getAllEle(".ddzy-upload-show-item"),t=this.state.files,o=n.defaultProps.onUploadClickHook;Array.from(a).forEach(function(n){var a=n.getElementsByClassName("ddzy-upload-show-action-send")[0].firstElementChild,d=n.getElementsByClassName("ddzy-upload-show-action-loading")[0];a.addEventListener("click",function(){var a=Number(r.getAttr(n,"data-index")),i=t[a];if(r.addClass(d,"ddzy-upload-show-action-loading-active"),o){var l=o(i,t);l instanceof Promise?l.then(function(){e.handleLocalItemSendSuccess(n,i,t)}).catch(function(){e.handleLocalItemSendFaild(n,i,t)}):l?e.handleLocalItemSendSuccess(n,i,t):e.handleLocalItemSendFaild(n,i,t)}})})}},{key:"handleLocalItem",value:function(){this.handleLocalItemAnimateIn(),this.handleLocalItemRemove(),this.handleLocalItemPreview(),this.handleLocalItemSend()}},{key:"handleAppendToShow",value:function(n){var e=this.state.oShowList,a=n.name,t='\n      <li class="ddzy-upload-show-item" data-index='.concat(e.children.length,'>\n        <div class="ddzy-upload-show-action-box">\n          <div class="ddzy-upload-show-action">\n            <span class="ddzy-upload-show-action-loading">\n              <svg class="icon" aria-hidden="true" data-index=').concat(e.children.length,'>\n                <use xlink:href="#icon-Loading"></use>\n              </svg>\n            </span>\n            <span class="ddzy-upload-show-action-name" title="图片名称">\n              ').concat(a,'\n            </span>\n            <span class="ddzy-upload-show-action-preview" title="预览">\n              <svg class="icon" aria-hidden="true" data-index=').concat(e.children.length,'>\n                <use xlink:href="#icon-eye"></use>\n              </svg>\n            </span>\n            <span class="ddzy-upload-show-action-send" title="上传">\n              <svg class="icon" aria-hidden="true" data-index=').concat(e.children.length,'>\n                <use xlink:href="#icon-upload1"></use>\n              </svg>\n            </span>\n          </div>\n        </div>\n        <div class="ddzy-upload-show-close-box">\n          <div class="ddzy-upload-show-close" title="移除">\n            <svg class="icon" aria-hidden="true" data-index=').concat(e.children.length,'>\n              <use  xlink:href="#icon-et-wrong"></use>\n            </svg>\n          </div>\n        </div>\n      </li>\n    ');e.innerHTML+=t,this.handleLocalItem()}},{key:"handleAppendToFiles",value:function(n){this.state.files.push(n)}},{key:"handleBeforeUploadHook",value:function(e,a){var t=this,o=n.defaultProps.onBeforeUploadHook;if(o){var d=o(e,Array.from(a));d instanceof Promise?d.then(function(n){n instanceof File?(t.handleAppendToFiles(n),t.handleAppendToShow(n)):(t.handleAppendToFiles(e),t.handleAppendToShow(e))}).catch(function(){}):d&&(this.handleAppendToFiles(e),this.handleAppendToShow(e))}else this.handleAppendToFiles(e),this.handleAppendToShow(e)}},{key:"handleDrop",value:function(e){var a=this,t=n.defaultProps.onChangeHook,o=this.state.oContainer,d=e.dataTransfer;t&&t(e),r.removeClass(o,"ddzy-upload-drag-container-active"),Array.from(d.files).forEach(function(n){a.handleBeforeUploadHook(n,d.files)})}},{key:"handleChange",value:function(e){var a=this,t=n.defaultProps.onChangeHook,o=e.target.files;t&&t(e),Array.from(o).forEach(function(n){a.handleBeforeUploadHook(n,o)})}},{key:"handleDragUpload",value:function(){var n=this,e=this.state.oContainer;document.addEventListener("dragover",function(n){n.preventDefault()}),document.addEventListener("drop",function(n){n.preventDefault()}),e.addEventListener("dragenter",function(){n.handleDragEnter()}),e.addEventListener("dragleave",function(){n.handleDragLeave()}),e.addEventListener("drop",function(e){n.handleDrop(e)})}},{key:"handleClickUpload",value:function(){var n=this,e=this.state,a=e.oContainer,t=e.oLabel,o=e.oInput;a.addEventListener("mouseup",function(){t.click()}),o.addEventListener("change",function(e){n.handleChange(e)})}}])&&i(e.prototype,a),t&&i(e,t),n}();l(s,"defaultProps",{container:"body"});var u={Dragger:s};e.default=u.Dragger}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EcmFnZ2VyVXBsb2FkL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL0RyYWdnZXJVcGxvYWQvLi9zcmMvZGR6eS91dGlsaXR5L290aGVycy9pbmRleC50cyIsIndlYnBhY2s6Ly9EcmFnZ2VyVXBsb2FkLy4vc3JjL2RkenkvdXRpbGl0eS9kb20vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vRHJhZ2dlclVwbG9hZC8uL3NyYy9kZHp5L2J1c2luZXNzL3VwbG9hZC9kcmFnZ2VyLXVwbG9hZC9EcmFnZ2VyVXBsb2FkLnRzIiwid2VicGFjazovL0RyYWdnZXJVcGxvYWQvLi9zcmMvZGR6eS9idXNpbmVzcy91cGxvYWQvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vRHJhZ2dlclVwbG9hZC8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInV0aWxpdHlPdGhlcnMiLCJpbnZhcmlhbnQiLCJjb25kaXRpb24iLCJtZXNzYWdlIiwiVHlwZUVycm9yIiwiY29uY2F0IiwiY29udmVydEh1bXBUb0h5cGhlbiIsImh1bXAiLCJyZXBsYWNlIiwibWF0Y2hlZCIsInRvTG93ZXJDYXNlIiwidXRpbGl0eURPTSIsImdldEVsZSIsInNpZ24iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRBbGxFbGUiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2V0QXR0ciIsImVsZSIsIm9wdGlvbnMiLCJzZXRBdHRyaWJ1dGUiLCJ0aGlzIiwic2V0Q3NzIiwiZWxlbWVudCIsInN0eWxlIiwiY3NzVGV4dCIsImdldEF0dHIiLCJnZXRBdHRyaWJ1dGUiLCJhZGRDbGFzcyIsImVsIiwiY2xhc3NOYW1lIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlQ2xhc3MiLCJyZW1vdmUiLCJ0aHJvdHRsZSIsInRpbWVzdGFtcCIsImNhbGxiYWNrIiwibGFzdENsaWNrVGltZSIsIkRhdGUiLCJub3ciLCJjdXJyZW50Q2xpY2tUaW1lIiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkzIiwiYXBwbHkiLCJnbG9iYWxUaGlzIiwiaXNET00iLCJub2RlIiwiX3R5cGVvZiIsIm5vZGVUeXBlIiwidHJhdmVyc2FsRE9NV2l0aEJGUyIsImNvbnRhaW5lciIsInF1ZXVlIiwic2hpZnQiLCJjaGlsZHJlbiIsInB1c2giLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJmcm9tIiwidHJhdmVyc2FsRE9NV2l0aERGUyIsIl9haWRlZFRyYXZlcnNhbCIsImV2ZXJ5IiwidHJhdmVyc2FsRE9NV2l0aE5vZGVJdGVyYXRvciIsIm5vZGVJdGVyYXRvciIsImNyZWF0ZU5vZGVJdGVyYXRvciIsIk5vZGVGaWx0ZXIiLCJTSE9XX0VMRU1FTlQiLCJjdXJyZW50Tm9kZSIsIm5leHROb2RlIiwidHJhdmVyc2FsRE9NV2l0aFRyZWVXYWxrZXIiLCJ0cmVlV2Fsa2VyIiwiY3JlYXRlVHJlZVdhbGtlciIsImNvbnZlcnRQYWlyVG9DU1NUZXh0IiwicGFpciIsInRleHQiLCJSZWZsZWN0IiwiX3F1ZXJ5U2VsZWN0b3IiLCJzZWxlY3RvciIsIm1hdGNoIiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJEcmFnZ2VyVXBsb2FkIiwicHJvcHMiLCJfY2xhc3NDYWxsQ2hlY2siLCJfZGVmaW5lUHJvcGVydHkiLCJmaWxlcyIsIm9Db250YWluZXIiLCJjcmVhdGVFbGVtZW50Iiwib0xhYmVsIiwib0lucHV0Iiwib1Nob3dMaXN0IiwiX19pbml0X18iLCJfaW5pdFByb3BzIiwiX2luaXRET00iLCJfaW5pdFN0eWxlIiwiX2luaXRDb21tb25FbGUiLCJoYW5kbGVEcmFnVXBsb2FkIiwiaGFuZGxlQ2xpY2tVcGxvYWQiLCJzZXQiLCJkZWZhdWx0UHJvcHMiLCJoYW5kbGVNb3VudERPTSIsImhhbmRsZUNyZWF0ZURPTSIsImhhbmRsZU1vdW50U3R5bGUiLCJoYW5kbGVDcmVhdGVTdHlsZSIsInN0YXRlIiwibW91bnRXcmFwcGVyIiwiaW5uZXJIVE1MIiwib1N0eWxlIiwiaW5uZXJUZXh0IiwiaGVhZCIsImFwcGVuZENoaWxkIiwib1Nob3dJdGVtcyIsIm9TaG93SXRlbSIsImZvckVhY2giLCJ2Iiwic2V0VGltZW91dCIsImN1cnJlbnRJdGVtIiwicmVtb3ZlQ2hpbGQiLCJfdGhpcyIsIm9uUmVtb3ZlQ2xpY2tIb29rIiwibGkiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJpbmRleCIsIk51bWJlciIsImZpbGUiLCJoYW5kbGVMb2NhbEl0ZW1BbmltYXRlT3V0Iiwib25QcmV2aWV3Q2xpY2tIb29rIiwic2hvd0l0ZW0iLCJmaWxlTGlzdCIsIm9uVXBsb2FkQ2xpY2tTdWNjZXNzSG9vayIsIm9TaG93SXRlbUxvYWRpbmdCdG4iLCJvblVwbG9hZENsaWNrRmFpbEhvb2siLCJfdGhpczIiLCJvblVwbG9hZENsaWNrSG9vayIsIm9TaG93SXRlbVNlbmRCdG4iLCJyZXN1bHQiLCJQcm9taXNlIiwidGhlbiIsImhhbmRsZUxvY2FsSXRlbVNlbmRTdWNjZXNzIiwiaGFuZGxlTG9jYWxJdGVtU2VuZEZhaWxkIiwiaGFuZGxlTG9jYWxJdGVtQW5pbWF0ZUluIiwiaGFuZGxlTG9jYWxJdGVtUmVtb3ZlIiwiaGFuZGxlTG9jYWxJdGVtUHJldmlldyIsImhhbmRsZUxvY2FsSXRlbVNlbmQiLCJoYW5kbGVMb2NhbEl0ZW0iLCJfdGhpczMiLCJvbkJlZm9yZVVwbG9hZEhvb2siLCJuZXdGaWxlIiwiRmlsZSIsImhhbmRsZUFwcGVuZFRvRmlsZXMiLCJoYW5kbGVBcHBlbmRUb1Nob3ciLCJlIiwiX3RoaXM0Iiwib25DaGFuZ2VIb29rIiwiZGF0YVRyYW5zZmVyIiwiaGFuZGxlQmVmb3JlVXBsb2FkSG9vayIsIl90aGlzNSIsInRhcmdldCIsIl90aGlzNiIsInByZXZlbnREZWZhdWx0IiwiaGFuZGxlRHJhZ0VudGVyIiwiaGFuZGxlRHJhZ0xlYXZlIiwiaGFuZGxlRHJvcCIsIl90aGlzNyIsIl90aGlzJHN0YXRlIiwiY2xpY2siLCJoYW5kbGVDaGFuZ2UiLCJVcGxvYWQiLCJEcmFnZ2VyIl0sIm1hcHBpbmdzIjoiOEJBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQTBEQSxPQXJEQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFF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aUJBQWlCLFlBQWEsV0FDdkNxQyxFQUFLRyxvQkFFUDVFLEVBQVdvQyxpQkFBaUIsT0FBUSxTQUFDOEIsR0FDbkNPLEVBQUtJLFdBQVdYLE9BanBCdEIsQ0FBQXRLLElBQUEsb0JBQUFOLE1BQUEsV0F3cEJvQyxJQUFBd0wsRUFBQW5KLEtBQUFvSixFQUs1QnBKLEtBQUt1RixNQUhQbEIsRUFGOEIrRSxFQUU5Qi9FLFdBQ0FFLEVBSDhCNkUsRUFHOUI3RSxPQUNBQyxFQUo4QjRFLEVBSTlCNUUsT0FJRkgsRUFBV29DLGlCQUFpQixVQUFXLFdBQ3JDbEMsRUFBTzhFLFVBR1Q3RSxFQUFPaUMsaUJBQWlCLFNBQVUsU0FBQzhCLEdBQ2pDWSxFQUFLRyxhQUFhZixxQ0FycUJ4QnZFLEVBQUEsS0FBYUEsaUJBQ2dELENBQ3pEOUIsVUFBVyxTQ3ZCUixJQUFNcUgsRUFBUyxDQUNwQkMsV0NSYUQsWUFBZiIsImZpbGUiOiJEcmFnZ2VyVXBsb2FkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiZXhwb3J0IGludGVyZmFjZSBJVXRpbGl0eU90aGVyc1Byb3BzIHtcclxuICBpbnZhcmlhbnQ6IChjb25kaXRpb246IGJvb2xlYW4sIG1lc3NhZ2U6IHN0cmluZykgPT4gdm9pZDtcclxuICBjb252ZXJ0SHVtcFRvSHlwaGVuOiAoaHVtcDogc3RyaW5nKSA9PiBzdHJpbmc7XHJcbn07XHJcblxyXG5cclxuY29uc3QgdXRpbGl0eU90aGVyczogSVV0aWxpdHlPdGhlcnNQcm9wcyA9IHtcclxuICAvKipcclxuICAgKiDoh6rlrprkuYnlvILluLjlpITnkIZcclxuICAgKiBAcGFyYW0gY29uZGl0aW9uIOWIpOaWreadoeS7tlxyXG4gICAqIEBwYXJhbSBtZXNzYWdlIOmUmeivr+S/oeaBr1xyXG4gICAqL1xyXG4gIGludmFyaWFudChjb25kaXRpb24sIG1lc3NhZ2UpOiB2b2lkIHtcclxuICAgIGlmIChjb25kaXRpb24pIHtcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcclxuICAgICAgICBgRGR6eSdzIHBsdWdpbiBlcnJvcjogJHttZXNzYWdlfWBcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIOmpvOWzsOWtl+espuS4sui9rOi/nuWtl+esplxyXG4gICAqIEBwYXJhbSBodW1wIOmpvOWzsOW9ouW8j+Wtl+espuS4slxyXG4gICAqL1xyXG4gIGNvbnZlcnRIdW1wVG9IeXBoZW4oaHVtcCkge1xyXG4gICAgY29uc3QgcmVnOiBSZWdFeHAgPSAvW0EtWl0rLztcclxuXHJcbiAgICByZXR1cm4gaHVtcC5yZXBsYWNlKHJlZywgKG1hdGNoZWQpID0+IHtcclxuICAgICAgcmV0dXJuIGAtJHttYXRjaGVkLnRvTG93ZXJDYXNlKCl9YDtcclxuICAgIH0pO1xyXG4gIH0sXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1dGlsaXR5T3RoZXJzOyIsImltcG9ydCB1dGlsaXR5T3RoZXJzIGZyb20gJy4uL290aGVycy9pbmRleCc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElTdGF0aWNQYWlycyB7XHJcbiAgW2tleTogc3RyaW5nXTogYW55O1xyXG59O1xyXG5leHBvcnQgaW50ZXJmYWNlIElVdGlsaXR5RE9NUHJvcHMge1xyXG4gIGdldEVsZShzaWduOiBzdHJpbmcpOiBIVE1MRWxlbWVudCB8IG51bGw7XHJcbiAgZ2V0QWxsRWxlKHNpZ246IHN0cmluZyk6IEFycmF5TGlrZTxIVE1MRWxlbWVudD4gfCBudWxsO1xyXG4gIHNldEF0dHIoZWxlOiBIVE1MRWxlbWVudCwgb3B0aW9uczogSVN0YXRpY1BhaXJzKTogT21pdFRoaXNQYXJhbWV0ZXI8SVV0aWxpdHlET01Qcm9wcz47XHJcbiAgc2V0Q3NzKGVsZTogSFRNTEVsZW1lbnQsIG9wdGlvbnM6IElTdGF0aWNQYWlycyk6IE9taXRUaGlzUGFyYW1ldGVyPElVdGlsaXR5RE9NUHJvcHM+O1xyXG4gIGdldEF0dHIoZWxlOiBIVE1MRWxlbWVudCwga2V5OiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsO1xyXG4gIGFkZENsYXNzKGVsOiBIVE1MRWxlbWVudCwgY2xhc3NOYW1lOiBzdHJpbmcpOiBPbWl0VGhpc1BhcmFtZXRlcjxJVXRpbGl0eURPTVByb3BzPjtcclxuICByZW1vdmVDbGFzcyhlbDogSFRNTEVsZW1lbnQsIGNsYXNzTmFtZTogc3RyaW5nKTogT21pdFRoaXNQYXJhbWV0ZXI8SVV0aWxpdHlET01Qcm9wcz47XHJcblxyXG4gIHRocm90dGxlKHRpbWU6IG51bWJlciwgY2FsbGJhY2s6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCk6IHZvaWQ7XHJcblxyXG4gIGlzRE9NKG5vZGU6IGFueSk6IGJvb2xlYW47XHJcblxyXG4gIHRyYXZlcnNhbERPTVdpdGhCRlMoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgY2FsbGJhY2s6IChub2RlOiBIVE1MRWxlbWVudCkgPT4gdm9pZCk6IHZvaWQ7XHJcbiAgdHJhdmVyc2FsRE9NV2l0aERGUyhjb250YWluZXI6IEhUTUxFbGVtZW50LCBjYWxsYmFjazogKG5vZGU6IEhUTUxFbGVtZW50KSA9PiB2b2lkKTogdm9pZDtcclxuICB0cmF2ZXJzYWxET01XaXRoTm9kZUl0ZXJhdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGNhbGxiYWNrOiAobm9kZTogSFRNTEVsZW1lbnQpID0+IHZvaWQpOiB2b2lkO1xyXG4gIHRyYXZlcnNhbERPTVdpdGhUcmVlV2Fsa2VyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGNhbGxiYWNrOiAobm9kZTogSFRNTEVsZW1lbnQpID0+IHZvaWQpOiB2b2lkO1xyXG5cclxuICBjb252ZXJ0UGFpclRvQ1NTVGV4dChwYWlyOiBQYXJ0aWFsPENTU1N0eWxlRGVjbGFyYXRpb24+KTogc3RyaW5nO1xyXG5cclxuICBfcXVlcnlTZWxlY3RvcihzZWxlY3Rvcjogc3RyaW5nKTogRWxlbWVudCB8IG51bGw7XHJcbn07XHJcblxyXG5cclxuY29uc3QgdXRpbGl0eURPTTogSVV0aWxpdHlET01Qcm9wcyA9IHtcclxuICAvKipcclxuICAgKiDojrflj5bmjIflrprljZXkuKpET03lhYPntKBcclxuICAgKiBAcGFyYW0gc2lnbiDku7vmhI/pgInmi6nlmahcclxuICAgKi9cclxuICBnZXRFbGUoc2lnbikge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2lnbik7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+W5oyH5a6a55qE5omA5pyJRE9N5YWD57SgXHJcbiAgICogQHBhcmFtIHNpZ24g5Lu75oSP6YCJ5oup5ZmoXHJcbiAgICovXHJcbiAgZ2V0QWxsRWxlKHNpZ24pIHtcclxuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNpZ24pO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOiuvue9ruWNleS4qkRPTeWxnuaAp1xyXG4gICAqIEBwYXJhbSBlbGUg55uu5qCHRE9NXHJcbiAgICogQHBhcmFtIG9wdGlvbnMg5bGe5oCn6ZSu5YC85a+5XHJcbiAgICovXHJcbiAgc2V0QXR0cihlbGUsIG9wdGlvbnMpIHtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMpIHtcclxuICAgICAgZWxlLnNldEF0dHJpYnV0ZShrZXksIG9wdGlvbnNba2V5XSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog6K6+572u5Y2V5LiqRE9N5qC35byPXHJcbiAgICogQHBhcmFtIGVsZSDnm67moIdET01cclxuICAgKiBAcGFyYW0gb3B0aW9ucyDmoLflvI/plK7lgLzlr7lcclxuICAgKi9cclxuICBzZXRDc3MoZWxlLCBvcHRpb25zKSB7XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvcHRpb25zKSB7XHJcbiAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICBjb25zdCBlbGVtZW50ID0gb3B0aW9uc1trZXldO1xyXG4gICAgICAgIGVsZS5zdHlsZS5jc3NUZXh0ICs9IGAke2tleX06ICR7ZWxlbWVudH07YDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPlkRPTeeahOeJueWumuWxnuaAp+WAvFxyXG4gICAqIEBwYXJhbSBlbGUg55uu5qCHRE9NXHJcbiAgICogQHBhcmFtIGtleSDlsZ7mgKflkI1cclxuICAgKi9cclxuICBnZXRBdHRyKGVsZSwga2V5KSB7XHJcbiAgICByZXR1cm4gZWxlLmdldEF0dHJpYnV0ZShrZXkpO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOaMh+WumkRPTea3u+WKoOWNleS4quexu+WQjVxyXG4gICAqIEBwYXJhbSBlbCDnm67moIdET01cclxuICAgKiBAcGFyYW0gY2xhc3NOYW1lIOexu+WQjVxyXG4gICAqL1xyXG4gIGFkZENsYXNzKGVsLCBjbGFzc05hbWUpIHtcclxuICAgIGVsICYmIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDnp7vlh7rmjIflrppET03lhYPntKDnmoTljZXkuKrnsbvlkI1cclxuICAgKiBAcGFyYW0gZWwg55uu5qCHRE9NXHJcbiAgICogQHBhcmFtIGNsYXNzTmFtZSDnsbvlkI1cclxuICAgKi9cclxuICByZW1vdmVDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XHJcbiAgICBlbCAmJiBlbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog6IqC5rWB5Ye95pWwXHJcbiAgICogQHBhcmFtIHRpbWVzdGFtcCDml7bpl7TmiLNcclxuICAgKiBAcGFyYW0gY2FsbGJhY2sg5omn6KGM5Zue6LCDXHJcbiAgICovXHJcbiAgdGhyb3R0bGUodGltZXN0YW1wLCBjYWxsYmFjaykge1xyXG4gICAgbGV0IGxhc3RDbGlja1RpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgIHJldHVybiAoLi4uYXJnczogYW55W10pID0+IHtcclxuICAgICAgY29uc3QgY3VycmVudENsaWNrVGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICBpZiAoY3VycmVudENsaWNrVGltZSAtIGxhc3RDbGlja1RpbWUgPiB0aW1lc3RhbXApe1xyXG4gICAgICAgIGNhbGxiYWNrLmFwcGx5PFRoaXNUeXBlPGFueT4sIGFueVtdLCBhbnk+KGdsb2JhbFRoaXMsIGFyZ3MpO1xyXG4gICAgICAgIGxhc3RDbGlja1RpbWUgPSBjdXJyZW50Q2xpY2tUaW1lO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIOajgOafpeaYr+WQpkRPTeWFg+e0oFxyXG4gICAqIEBwYXJhbSBub2RlIOaMh+Wumuebruagh1xyXG4gICAqL1xyXG4gIGlzRE9NKG5vZGUpIHtcclxuICAgIHJldHVybiBub2RlXHJcbiAgICAgICYmIHR5cGVvZiBub2RlID09PSAnb2JqZWN0J1xyXG4gICAgICAmJiBub2RlLm5vZGVUeXBlID09PSAxO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEJGU+mBjeWOhuaMh+WumkRPTeiKgueCuVxyXG4gICAqIEBwYXJhbSBjb250YWluZXIg6YGN5Y6G55qERE9N5a655ZmoXHJcbiAgICogQHBhcmFtIGNhbGxiYWNrIOWbnuiwg1xyXG4gICAqL1xyXG4gIHRyYXZlcnNhbERPTVdpdGhCRlMoY29udGFpbmVyLCBjYWxsYmFjaykge1xyXG4gICAgaWYgKCF0aGlzLmlzRE9NKGNvbnRhaW5lcikpIHtcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUmVxdWlyZSBhIERPTSBlbGVtZW50Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcXVldWU6IEVsZW1lbnRbXSA9IFtjb250YWluZXJdO1xyXG5cclxuICAgIHdoaWxlIChxdWV1ZS5sZW5ndGgpIHtcclxuICAgICAgY29uc3Qgbm9kZSA9IChxdWV1ZS5zaGlmdCgpIGFzIEhUTUxFbGVtZW50KTtcclxuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sobm9kZSk7XHJcblxyXG4gICAgICBjb25zdCBjaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW4gYXMgQXJyYXlMaWtlPEVsZW1lbnQ+O1xyXG4gICAgICBxdWV1ZS5wdXNoKC4uLihBcnJheS5mcm9tKGNoaWxkcmVuKSkpO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIERGU+mBjeWOhuaMh+WumkRPTeiKgueCuVxyXG4gICAqIEBwYXJhbSBjb250YWluZXIg6YGN5Y6G55qERE9N5a655ZmoXHJcbiAgICogQHBhcmFtIGNhbGxiYWNrIOWbnuiwg1xyXG4gICAqL1xyXG4gIHRyYXZlcnNhbERPTVdpdGhERlMoY29udGFpbmVyLCBjYWxsYmFjaykge1xyXG4gICAgaWYgKCF0aGlzLmlzRE9NKGNvbnRhaW5lcikpIHtcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUmVxdWlyZSBhIERPTSBlbGVtZW50Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soY29udGFpbmVyKTtcclxuXHJcbiAgICBfYWlkZWRUcmF2ZXJzYWwoY29udGFpbmVyLmNoaWxkcmVuKTtcclxuXHJcbiAgICBmdW5jdGlvbiBfYWlkZWRUcmF2ZXJzYWwoY2hpbGRyZW46IEhUTUxDb2xsZWN0aW9uKSB7XHJcbiAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwLCBldmVyeTsgZXZlcnkgPSBjaGlsZHJlbltpKytdOykge1xyXG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGV2ZXJ5IGFzIEhUTUxFbGVtZW50KTtcclxuICAgICAgICBfYWlkZWRUcmF2ZXJzYWwoZXZlcnkuY2hpbGRyZW4pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogTm9kZUl0ZXJhdG9y6YGN5Y6G5oyH5a6aRE9N6IqC54K5XHJcbiAgICogQHBhcmFtIGNvbnRhaW5lciDpgY3ljobnmoRET03lrrnlmahcclxuICAgKiBAcGFyYW0gY2FsbGJhY2sg5omn6KGM5Zue6LCDXHJcbiAgICovXHJcbiAgdHJhdmVyc2FsRE9NV2l0aE5vZGVJdGVyYXRvcihjb250YWluZXIsIGNhbGxiYWNrKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNET00oY29udGFpbmVyKSkge1xyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdSZXF1aXJlIGEgRE9NIGVsZW1lbnQnKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBub2RlSXRlcmF0b3I6IE5vZGVJdGVyYXRvciA9IGRvY3VtZW50LmNyZWF0ZU5vZGVJdGVyYXRvcihcclxuICAgICAgY29udGFpbmVyLFxyXG4gICAgICBOb2RlRmlsdGVyLlNIT1dfRUxFTUVOVCxcclxuICAgICk7XHJcbiAgICBsZXQgY3VycmVudE5vZGU6IE5vZGUgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgICB3aGlsZSAoKGN1cnJlbnROb2RlID0gbm9kZUl0ZXJhdG9yLm5leHROb2RlKCkpKSB7XHJcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGN1cnJlbnROb2RlIGFzIEhUTUxFbGVtZW50KTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBUcmVlV2Fsa2Vy6YGN5Y6G5oyH5a6aRE9N6IqC54K5XHJcbiAgICogQHBhcmFtIGNvbnRhaW5lciDpgY3ljobnmoRET03lrrnlmahcclxuICAgKiBAcGFyYW0gY2FsbGJhY2sg5omn6KGM5Zue6LCDXHJcbiAgICovXHJcbiAgdHJhdmVyc2FsRE9NV2l0aFRyZWVXYWxrZXIoY29udGFpbmVyLCBjYWxsYmFjaykge1xyXG4gICAgaWYgKCF0aGlzLmlzRE9NKGNvbnRhaW5lcikpIHtcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUmVxdWlyZSBhIERPTSBlbGVtZW50Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdHJlZVdhbGtlcjogVHJlZVdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoXHJcbiAgICAgIGNvbnRhaW5lcixcclxuICAgICAgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQsXHJcbiAgICApO1xyXG4gICAgbGV0IGN1cnJlbnROb2RlOiBOb2RlIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgd2hpbGUgKCggY3VycmVudE5vZGUgPSB0cmVlV2Fsa2VyLm5leHROb2RlKCkgKSkge1xyXG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygoIGN1cnJlbnROb2RlIGFzIEhUTUxFbGVtZW50ICkpO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOagt+W8j+e7hOi9rOWMluS4uuWGheiBlOagt+W8jyhzdHlsZS5jc3NUZXh0KVxyXG4gICAqIEBwYXJhbSBwYWlyIENTU+agt+W8j+mUruWAvOWvuVxyXG4gICAqL1xyXG4gIGNvbnZlcnRQYWlyVG9DU1NUZXh0KHBhaXIpIHtcclxuICAgIGxldCB0ZXh0ID0gJyc7XHJcblxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gcGFpcikge1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IFJlZmxlY3QuZ2V0KHBhaXIsIGtleSk7XHJcbiAgICAgIHRleHQgKz0gYCR7dXRpbGl0eU90aGVycy5jb252ZXJ0SHVtcFRvSHlwaGVuKGtleSl9OiAke3ZhbHVlfTsgYDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGV4dDtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDnroDljZXnmoTmqKHmi59xdWVyeVNlbGVjdG9yXHJcbiAgICogQHBhcmFtIHNlbGVjdG9yIOmAieaLqeWZqFxyXG4gICAqL1xyXG4gIF9xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSB7XHJcbiAgICBjb25zdCBwbGFpbk1hdGNoZXI6IFJlZ0V4cCA9IC9eKD86IyhbYS16QS1aXSspKXwoPzpcXC4oXFx3KykpfChbYS16XSspJC87XHJcbiAgICBjb25zdCBtYXRjaGVkID0gc2VsZWN0b3IubWF0Y2gocGxhaW5NYXRjaGVyKTtcclxuXHJcbiAgICAvLyA/IOWkhOeQhuS4ieenjeWfuuacrOexu+Wei1xyXG4gICAgaWYgKCBtYXRjaGVkICkge1xyXG4gICAgICBpZiAoIG1hdGNoZWRbMV0gKSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1hdGNoZWRbMV0pO1xyXG4gICAgICB9IGVsc2UgaWYgKCBtYXRjaGVkWzJdICkge1xyXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKG1hdGNoZWRbMl0pWzBdIHx8IG51bGw7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKG1hdGNoZWRbM10pWzBdIHx8IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn07XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXRpbGl0eURPTTsiLCJpbXBvcnQgdXRpbGl0eURPTSBmcm9tIFwiLi4vLi4vLi4vdXRpbGl0eS9kb21cIjtcclxuXHJcbi8qKlxyXG4gKiBCVUcxOiDml6Dms5XlnKhvbmRyb3DlhoXpg6jnm7TmjqXkvb/nlKhgZS5kYXRhVHJhbnNmZXIuZmlsZXNg6I635Y+W5paH5Lu25YiX6KGoLCDpnIDopoHoh6rlrprkuYnmlbDnu4QsIOWGjemBjeWOhuS4gOmBjTtcclxuICogQlVHMjogb25kcmFn5ZKMb25jbGlja+aXoOazleWFseWtmCwg5a+86Ie05peg5rOV6L+95Yqg6Ieq5a6a5LmJ5qC35byPLCDlj6rpnIDnm5HlkKxvbm1vdXNldXAsIOW5tuWcqOWFtuS4reiHquihjOiwg+eUqGBsYWJlbGDmoIfnrb7nmoRjbGlja+aWueazlSAtIGBsYWJlbC5jbGljaygpYDtcclxuICovXHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJRHJhZ2dlclVwbG9hZFByb3BzIHtcclxuICBjb250YWluZXI/OiBzdHJpbmc7XHJcblxyXG4gIG9uQ2hhbmdlSG9vaz86IChlOiBFdmVudCkgPT4gdm9pZDtcclxuICBvbkJlZm9yZVVwbG9hZEhvb2s/OiAoZmlsZTogRmlsZSwgZmlsZUxpc3Q6IEZpbGVbXSkgPT4gYm9vbGVhbiB8IFByb21pc2U8RmlsZSB8IHVuZGVmaW5lZD47XHJcblxyXG4gIG9uVXBsb2FkQ2xpY2tIb29rPzogKGZpbGU6IEZpbGUsIEZpbGVMaXN0OiBGaWxlW10pID0+IGJvb2xlYW4gfCBQcm9taXNlPGFueT47XHJcbiAgb25QcmV2aWV3Q2xpY2tIb29rPzogKGZpbGU6IEZpbGUsIGZpbGVMaXN0OiBGaWxlW10pID0+IHZvaWQ7XHJcbiAgb25SZW1vdmVDbGlja0hvb2s/OiAoZmlsZTogRmlsZSwgZmlsZUxpc3Q6IEZpbGVbXSkgPT4gdm9pZDtcclxuICBvblVwbG9hZENsaWNrU3VjY2Vzc0hvb2s/OiAoZmlsZTogRmlsZSwgZmlsZUxpc3Q6IEZpbGVbXSkgPT4gdm9pZDtcclxuICBvblVwbG9hZENsaWNrRmFpbEhvb2s/OiAoZmlsZTogRmlsZSwgZmlsZUxpc3Q6IEZpbGVbXSkgPT4gdm9pZDtcclxufTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSURyYWdnZXJVcGxvYWRTdGF0ZSB7XHJcbiAgZmlsZXM6IEZpbGVbXTtcclxuICBvQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudDtcclxuICBvTGFiZWw6IEhUTUxMYWJlbEVsZW1lbnQ7XHJcbiAgb0lucHV0OiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gIG9TaG93TGlzdDogSFRNTFVMaXN0RWxlbWVudDtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBEcmFnZ2VyVXBsb2FkIHtcclxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGRlZmF1bHRQcm9wczogSURyYWdnZXJVcGxvYWRQcm9wcyA9IHtcclxuICAgIGNvbnRhaW5lcjogJ2JvZHknLFxyXG4gIH07XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihcclxuICAgIHByb3BzOiBJRHJhZ2dlclVwbG9hZFByb3BzLFxyXG4gICkge1xyXG4gICAgdGhpcy5fX2luaXRfXyhwcm9wcyk7XHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIHJlYWRvbmx5IHN0YXRlOiBJRHJhZ2dlclVwbG9hZFN0YXRlID0ge1xyXG4gICAgZmlsZXM6IFtdLFxyXG4gICAgb0NvbnRhaW5lcjogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXHJcbiAgICBvTGFiZWw6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyksXHJcbiAgICBvSW5wdXQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JyksXHJcbiAgICBvU2hvd0xpc3Q6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyksXHJcbiAgfTtcclxuXHJcblxyXG4gIHByaXZhdGUgX19pbml0X18ocHJvcHM6IElEcmFnZ2VyVXBsb2FkUHJvcHMpOiB2b2lkIHtcclxuICAgIHRoaXMuX2luaXRQcm9wcyhwcm9wcyk7XHJcbiAgICB0aGlzLl9pbml0RE9NKCk7XHJcbiAgICB0aGlzLl9pbml0U3R5bGUoKTtcclxuICAgIHRoaXMuX2luaXRDb21tb25FbGUoKTtcclxuICAgIHRoaXMuaGFuZGxlRHJhZ1VwbG9hZCgpO1xyXG4gICAgdGhpcy5oYW5kbGVDbGlja1VwbG9hZCgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfaW5pdFByb3BzKFxyXG4gICAgcHJvcHM6IElEcmFnZ2VyVXBsb2FkUHJvcHMsXHJcbiAgKTogdm9pZCB7XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xyXG4gICAgICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gUmVmbGVjdC5nZXQocHJvcHMsIGtleSk7XHJcbiAgICAgICAgUmVmbGVjdC5zZXQoRHJhZ2dlclVwbG9hZC5kZWZhdWx0UHJvcHMsIGtleSwgdmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9pbml0RE9NKCk6IHZvaWQge1xyXG4gICAgdGhpcy5oYW5kbGVNb3VudERPTSh0aGlzLmhhbmRsZUNyZWF0ZURPTSgpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX2luaXRTdHlsZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuaGFuZGxlTW91bnRTdHlsZSh0aGlzLmhhbmRsZUNyZWF0ZVN0eWxlKCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Yid5aeL5YyW5LiA5Lqb5bi455So55qE5Y+Y6YePXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBfaW5pdENvbW1vbkVsZSgpOiB2b2lkIHtcclxuICAgIGNvbnN0IG9Db250YWluZXIgPSB1dGlsaXR5RE9NLmdldEVsZSgnLmRkenktdXBsb2FkLWRyYWctY29udGFpbmVyJykgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBjb25zdCBvTGFiZWwgPSB1dGlsaXR5RE9NLmdldEVsZSgnLmRkenktdXBsb2FkLWRyYWctbWFpbi1jb250ZW50JykgYXMgSFRNTExhYmVsRWxlbWVudDtcclxuICAgIGNvbnN0IG9JbnB1dCA9IHV0aWxpdHlET00uZ2V0RWxlKCcuZGR6eS11cGxvYWQtZHJhZy1tYWluLWlucHV0JykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgIGNvbnN0IG9TaG93TGlzdCA9IHV0aWxpdHlET00uZ2V0RWxlKCcuZGR6eS11cGxvYWQtc2hvdy1saXN0JykgYXMgSFRNTFVMaXN0RWxlbWVudDtcclxuXHJcbiAgICB0aGlzLnN0YXRlLm9Db250YWluZXIgPSBvQ29udGFpbmVyO1xyXG4gICAgdGhpcy5zdGF0ZS5vTGFiZWwgPSBvTGFiZWw7XHJcbiAgICB0aGlzLnN0YXRlLm9JbnB1dCA9IG9JbnB1dDtcclxuICAgIHRoaXMuc3RhdGUub1Nob3dMaXN0ID0gb1Nob3dMaXN0O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVDcmVhdGVET00oKTogc3RyaW5nIHtcclxuICAgIGxldCBodG1sOiBzdHJpbmcgPSBgXHJcbiAgICAgIDxkaXYgaWQ9XCJkZHp5LXVwbG9hZC13cmFwcGVyXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImRkenktdXBsb2FkLW1haW5cIj5cclxuICAgICAgICAgIDwhLS0g5ouW5ou95a655ZmoIC0tPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRkenktdXBsb2FkLWRyYWctY29udGFpbmVyXCIgZHJhZ2dhYmxlPVwidHJ1ZVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGR6eS11cGxvYWQtZHJhZy1tYWluXCI+XHJcbiAgICAgICAgICAgICAgPGlucHV0IGlkPVwiZGR6eS11cGxvYWQtZHJhZy1tYWluLWlucHV0XCIgY2xhc3M9XCJkZHp5LXVwbG9hZC1kcmFnLW1haW4taW5wdXRcIiB0eXBlPVwiZmlsZVwiIG11bHRpcGxlPVwidHJ1ZVwiIGFjY2VwdD1cImltYWdlL2pwZywgaW1hZ2UvanBlZywgaW1hZ2UvZ2lmLCBpbWFnZS9wbmcsIGltYWdlL2ljb1wiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIiAvPlxyXG5cclxuICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZGR6eS11cGxvYWQtZHJhZy1tYWluLWlucHV0XCIgY2xhc3M9XCJkZHp5LXVwbG9hZC1kcmFnLW1haW4tY29udGVudFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRkenktdXBsb2FkLWRyYWctaWNvbi1ib3hcIj5cclxuICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9XCIjaWNvbi11cGxvYWRcIj48L3VzZT5cclxuICAgICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZHp5LXVwbG9hZC1kcmFnLXRpdGxlLWJveFwiPlxyXG4gICAgICAgICAgICAgICAgICA8aDM+Q2xpY2sgb3IgRHJhZyB0byB1cGxvYWQ8L2gzPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGR6eS11cGxvYWQtZHJhZy1kZXNjcmlwdGlvbi1ib3hcIj5cclxuICAgICAgICAgICAgICAgICAgPHA+U3VwcG9ydCBtdXRpcGxlIGZpbGVzIGJ1dCBvbmx5IGltYWdlPC9wPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwhLS0g5paH5Lu25YiX6KGoIC0tPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRkenktdXBsb2FkLXNob3ctY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZHp5LXVwbG9hZC1zaG93LWNvbnRlbnRcIj5cclxuICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJkZHp5LXVwbG9hZC1zaG93LWxpc3RcIj5cclxuXHJcbiAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICBgO1xyXG5cclxuICAgIHJldHVybiBodG1sO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVNb3VudERPTSh0ZXh0OiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgY29udGFpbmVyLFxyXG4gICAgfSA9IERyYWdnZXJVcGxvYWQuZGVmYXVsdFByb3BzO1xyXG5cclxuICAgIGNvbnN0IG1vdW50V3JhcHBlciA9IHV0aWxpdHlET00uZ2V0RWxlKGNvbnRhaW5lciBhcyBzdHJpbmcpO1xyXG5cclxuICAgIGlmIChtb3VudFdyYXBwZXIpIHtcclxuICAgICAgbW91bnRXcmFwcGVyLmlubmVySFRNTCArPSB0ZXh0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUGxlYXNlIGVudGVyIGFuIGV4aXN0aW5nIHNlbGVjdG9yLicpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVDcmVhdGVTdHlsZSgpOiBzdHJpbmcge1xyXG4gICAgbGV0IGNzczogc3RyaW5nID0gYFxyXG4gICAgICBib2R5LCB1bCwgbGksIHAsIGgzIHtcclxuICAgICAgICBtYXJnaW46IDA7XHJcbiAgICAgICAgcGFkZGluZzogMDtcclxuICAgICAgfVxyXG4gICAgICB1bCB7XHJcbiAgICAgICAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xyXG4gICAgICB9XHJcbiAgICAgIGxhYmVsIHtcclxuICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICNkZHp5LXVwbG9hZC13cmFwcGVyIHtcclxuICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgIH1cclxuICAgICAgI2RkenktdXBsb2FkLXdyYXBwZXIgLmRkenktdXBsb2FkLW1haW4ge1xyXG4gICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcclxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgICAvKiDmi5bmi73kuIrkvKDpg6jliIYgKi9cclxuICAgICAgI2RkenktdXBsb2FkLXdyYXBwZXIgLmRkenktdXBsb2FkLWRyYWctY29udGFpbmVyIHtcclxuICAgICAgICBib3JkZXI6IDFweCBkYXNoZWQgI2NjYztcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5O1xyXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgLjNzIGVhc2U7XHJcbiAgICAgIH1cclxuICAgICAgI2RkenktdXBsb2FkLXdyYXBwZXIgLmRkenktdXBsb2FkLWRyYWctY29udGFpbmVyOmhvdmVyIHtcclxuICAgICAgICBib3JkZXItY29sb3I6ICMxODkwZmY7XHJcbiAgICAgIH1cclxuICAgICAgI2RkenktdXBsb2FkLXdyYXBwZXIgLmRkenktdXBsb2FkLWRyYWctbWFpbiB7XHJcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICNkZHp5LXVwbG9hZC13cmFwcGVyIC5kZHp5LXVwbG9hZC1kcmFnLW1haW4tY29udGVudCB7XHJcbiAgICAgICAgcGFkZGluZzogMC41cmVtO1xyXG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgfVxyXG4gICAgICAjZGR6eS11cGxvYWQtd3JhcHBlciAuZGR6eS11cGxvYWQtZHJhZy1pY29uLWJveCB7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogMC41cmVtO1xyXG4gICAgICB9XHJcbiAgICAgICNkZHp5LXVwbG9hZC13cmFwcGVyIC5kZHp5LXVwbG9hZC1kcmFnLXRpdGxlLWJveCB7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogMS4zNzVyZW07XHJcbiAgICAgIH1cclxuICAgICAgI2RkenktdXBsb2FkLXdyYXBwZXIgLmRkenktdXBsb2FkLWRyYWctZGVzY3JpcHRpb24tYm94IHtcclxuICAgICAgICBtYXJnaW4tdG9wOiAwLjYyNXJlbTtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG4gICAgICB9XHJcbiAgICAgICNkZHp5LXVwbG9hZC13cmFwcGVyIC5kZHp5LXVwbG9hZC1kcmFnLWljb24tYm94IHN2ZyB7XHJcbiAgICAgICAgY29sb3I6ICMxODkwZmY7XHJcbiAgICAgICAgbWluLXdpZHRoOiAyLjVyZW07XHJcbiAgICAgICAgbWluLWhlaWdodDogMi41cmVtO1xyXG4gICAgICB9XHJcbiAgICAgICNkZHp5LXVwbG9hZC13cmFwcGVyIC5kZHp5LXVwbG9hZC1kcmFnLXRpdGxlLWJveCBoMyB7XHJcbiAgICAgICAgY29sb3I6ICM4ODg7XHJcbiAgICAgIH1cclxuICAgICAgI2RkenktdXBsb2FkLXdyYXBwZXIgLmRkenktdXBsb2FkLWRyYWctZGVzY3JpcHRpb24tYm94IHAge1xyXG4gICAgICAgIGNvbG9yOiAjOTk5O1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMC44NzVyZW07XHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgICAvKiDmlofku7bliJfooajpg6jliIYgKi9cclxuICAgICAgI2RkenktdXBsb2FkLXdyYXBwZXIgLmRkenktdXBsb2FkLXNob3ctY29udGFpbmVyIHtcclxuICAgICAgICBtYXJnaW4tdG9wOiAwLjVyZW07XHJcbiAgICAgIH1cclxuICAgICAgI2RkenktdXBsb2FkLXdyYXBwZXIgLmRkenktdXBsb2FkLXNob3ctY29udGVudCB7XHJcblxyXG4gICAgICB9XHJcbiAgICAgICNkZHp5LXVwbG9hZC13cmFwcGVyIC5kZHp5LXVwbG9hZC1zaG93LWxpc3Qge1xyXG5cclxuICAgICAgfVxyXG4gICAgICAjZGR6eS11cGxvYWQtd3JhcHBlciAuZGR6eS11cGxvYWQtc2hvdy1pdGVtIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDAuNXJlbTtcclxuICAgICAgICBwYWRkaW5nOiAwLjI1cmVtIDAuNXJlbTtcclxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xyXG4gICAgICAgIGNvbG9yOiAjNjY2O1xyXG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAuM3MgZWFzZTtcclxuICAgICAgfVxyXG4gICAgICAjZGR6eS11cGxvYWQtd3JhcHBlciAuZGR6eS11cGxvYWQtc2hvdy1pdGVtOmhvdmVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjNmNGY1O1xyXG4gICAgICB9XHJcbiAgICAgICNkZHp5LXVwbG9hZC13cmFwcGVyIC5kZHp5LXVwbG9hZC1zaG93LWl0ZW0gc3ZnOmhvdmVyIHtcclxuICAgICAgICBjb2xvcjogIzE4OTBmZjtcclxuICAgICAgfVxyXG4gICAgICAjZGR6eS11cGxvYWQtd3JhcHBlciAuZGR6eS11cGxvYWQtc2hvdy1hY3Rpb24tYm94IHtcclxuICAgICAgICBmbGV4OiA4O1xyXG4gICAgICB9XHJcbiAgICAgICNkZHp5LXVwbG9hZC13cmFwcGVyIC5kZHp5LXVwbG9hZC1zaG93LWFjdGlvbiB7XHJcblxyXG4gICAgICB9XHJcbiAgICAgICNkZHp5LXVwbG9hZC13cmFwcGVyIC5kZHp5LXVwbG9hZC1zaG93LWFjdGlvbiA+IHNwYW4ge1xyXG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgfVxyXG4gICAgICAjZGR6eS11cGxvYWQtd3JhcHBlciAuZGR6eS11cGxvYWQtc2hvdy1hY3Rpb24tcHJldmlldyB7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDAuNXJlbTtcclxuICAgICAgfVxyXG4gICAgICAjZGR6eS11cGxvYWQtd3JhcHBlciAuZGR6eS11cGxvYWQtc2hvdy1hY3Rpb24tc2VuZCB7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDAuMjVyZW07XHJcbiAgICAgIH1cclxuICAgICAgI2RkenktdXBsb2FkLXdyYXBwZXIgLmRkenktdXBsb2FkLXNob3ctYWN0aW9uLW5hbWUge1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxcmVtO1xyXG4gICAgICB9XHJcbiAgICAgICNkZHp5LXVwbG9hZC13cmFwcGVyIC5kZHp5LXVwbG9hZC1zaG93LWFjdGlvbi1sb2FkaW5nIHtcclxuXHJcbiAgICAgIH1cclxuICAgICAgI2RkenktdXBsb2FkLXdyYXBwZXIgLmRkenktdXBsb2FkLXNob3ctY2xvc2UtYm94IHtcclxuICAgICAgICBmbGV4OiAxO1xyXG4gICAgICB9XHJcbiAgICAgICNkZHp5LXVwbG9hZC13cmFwcGVyIC5kZHp5LXVwbG9hZC1zaG93LWNsb3NlIHtcclxuICAgICAgICB0ZXh0LWFsaWduOiByaWdodDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyogQW5pbWF0aW9uICovXHJcbiAgICAgIEBrZXlmcmFtZXMgc2hvd0l0ZW1Mb2FkaW5nIHtcclxuICAgICAgICAwJSB7XHJcbiAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgMTAwJSB7XHJcbiAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLyogQWN0aXZlIGNsYXNzZXMgKi9cclxuICAgICAgI2RkenktdXBsb2FkLXdyYXBwZXIgLmRkenktdXBsb2FkLWRyYWctY29udGFpbmVyLWFjdGl2ZSB7XHJcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAjMTg5MGZmO1xyXG4gICAgICAgIGZpbHRlcjogYmx1cigxcHgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAjZGR6eS11cGxvYWQtd3JhcHBlciAuZGR6eS11cGxvYWQtc2hvdy1pdGVtLWluLWFuaW1hdGUge1xyXG4gICAgICAgIHRyYW5zaXRpb246IG5vbmU7XHJcbiAgICAgICAgb3BhY2l0eTogMDtcclxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICNkZHp5LXVwbG9hZC13cmFwcGVyIC5kZHp5LXVwbG9hZC1zaG93LWl0ZW0tb3V0LWFuaW1hdGUge1xyXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSk7XHJcbiAgICAgICAgb3BhY2l0eTogMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgI2RkenktdXBsb2FkLXdyYXBwZXIgLmRkenktdXBsb2FkLXNob3ctYWN0aW9uLWxvYWRpbmctYWN0aXZlIHtcclxuICAgICAgICBhbmltYXRpb246IHNob3dJdGVtTG9hZGluZyAuNXMgbGluZWFyIGluZmluaXRlO1xyXG4gICAgICB9XHJcbiAgICAgICNkZHp5LXVwbG9hZC13cmFwcGVyIC5kZHp5LXVwbG9hZC1zaG93LWFjdGlvbi1sb2FkaW5nLXN1Y2Nlc3Mge1xyXG4gICAgICAgIGFuaW1hdGlvbjogbm9uZTtcclxuICAgICAgICBjb2xvcjogIzUyYzQxYTtcclxuICAgICAgfVxyXG4gICAgICAjZGR6eS11cGxvYWQtd3JhcHBlciAuZGR6eS11cGxvYWQtc2hvdy1hY3Rpb24tbG9hZGluZy1mYWlsZCB7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBub25lO1xyXG4gICAgICAgIGNvbG9yOiAjZjUyMjJkO1xyXG4gICAgICB9XHJcblxyXG4gICAgYDtcclxuXHJcbiAgICByZXR1cm4gY3NzO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVNb3VudFN0eWxlKHRleHQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgbGV0IG9TdHlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3N0eWxlJyk7XHJcblxyXG4gICAgaWYgKG9TdHlsZSkge1xyXG4gICAgICBvU3R5bGUuaW5uZXJUZXh0ICs9IGBcclxuICAgICAgICAvKiBDcmVhdGUgYnkgRHJhZ2dlclVwbG9hZCAqL1xyXG4gICAgICAgICR7dGV4dH1cclxuICAgICAgYDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBvU3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpIGFzIEhUTUxTdHlsZUVsZW1lbnQ7XHJcbiAgICAgIG9TdHlsZS5pbm5lclRleHQgKz0gb1N0eWxlLmlubmVyVGV4dCArPSBgXHJcbiAgICAgICAgLyogQ3JlYXRlIGJ5IERyYWdnZXJVcGxvYWQgKi9cclxuICAgICAgICAke3RleHR9XHJcbiAgICAgIGA7O1xyXG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKG9TdHlsZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZURyYWdFbnRlcigpOiB2b2lkIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgb0NvbnRhaW5lcixcclxuICAgIH0gPSB0aGlzLnN0YXRlO1xyXG5cclxuICAgIHV0aWxpdHlET00uYWRkQ2xhc3Mob0NvbnRhaW5lciwgJ2RkenktdXBsb2FkLWRyYWctY29udGFpbmVyLWFjdGl2ZScpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVEcmFnTGVhdmUoKTogdm9pZCB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIG9Db250YWluZXIsXHJcbiAgICB9ID0gdGhpcy5zdGF0ZTtcclxuXHJcbiAgICB1dGlsaXR5RE9NLnJlbW92ZUNsYXNzKG9Db250YWluZXIsICdkZHp5LXVwbG9hZC1kcmFnLWNvbnRhaW5lci1hY3RpdmUnKTtcclxuICB9XHJcblxyXG5cclxuICAvKipcclxuICAgKiDlpITnkIbljZXpobnliJfooajov5vlnLrliqjnlLtcclxuICAgKi9cclxuICBwcml2YXRlIGhhbmRsZUxvY2FsSXRlbUFuaW1hdGVJbigpOiB2b2lkIHtcclxuICAgIGNvbnN0IG9TaG93SXRlbXMgPSB1dGlsaXR5RE9NLmdldEFsbEVsZSgnLmRkenktdXBsb2FkLXNob3ctaXRlbScpIGFzIEFycmF5TGlrZTxIVE1MTElFbGVtZW50PjtcclxuICAgIGNvbnN0IG9TaG93SXRlbSA9IG9TaG93SXRlbXNbb1Nob3dJdGVtcy5sZW5ndGggLSAxXTtcclxuXHJcbiAgICAvLyAhIFtCdWctZml4XSDop6PlhrPlpJrmlofku7bkuIrkvKDoh7PmnKzlnLDml7YsIOWPquaYvuekuuacgOWQjuS4gOS4quaWh+S7tueahOmXrumimFxyXG4gICAgQXJyYXkuZnJvbShvU2hvd0l0ZW1zKS5mb3JFYWNoKCh2KSA9PiB7XHJcbiAgICAgIHYgPT09IG9TaG93SXRlbVxyXG4gICAgICAgID8gKHV0aWxpdHlET00uYWRkQ2xhc3ModiwgJ2RkenktdXBsb2FkLXNob3ctaXRlbS1pbi1hbmltYXRlJykpXHJcbiAgICAgICAgOiAodXRpbGl0eURPTS5yZW1vdmVDbGFzcyh2LCAnZGR6eS11cGxvYWQtc2hvdy1pdGVtLWluLWFuaW1hdGUnKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdXRpbGl0eURPTS5yZW1vdmVDbGFzcyhvU2hvd0l0ZW0sICdkZHp5LXVwbG9hZC1zaG93LWl0ZW0taW4tYW5pbWF0ZScpO1xyXG4gICAgfSwgMCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDlpITnkIbljZXpobnliJfooajlh7rlnLrliqjnlLtcclxuICAgKi9cclxuICBwcml2YXRlIGhhbmRsZUxvY2FsSXRlbUFuaW1hdGVPdXQoXHJcbiAgICBjdXJyZW50SXRlbTogSFRNTExJRWxlbWVudCxcclxuICApOiB2b2lkIHtcclxuICAgIGNvbnN0IHsgb1Nob3dMaXN0IH0gPSB0aGlzLnN0YXRlO1xyXG5cclxuICAgIHV0aWxpdHlET00uYWRkQ2xhc3MoY3VycmVudEl0ZW0sICdkZHp5LXVwbG9hZC1zaG93LWl0ZW0tb3V0LWFuaW1hdGUnKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgb1Nob3dMaXN0LnJlbW92ZUNoaWxkKGN1cnJlbnRJdGVtKTtcclxuICAgIH0sIDMwMCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDlpITnkIbmnKzlnLDliJfooajpobnnp7vpmaRcclxuICAgKi9cclxuICBwcml2YXRlIGhhbmRsZUxvY2FsSXRlbVJlbW92ZSgpOiB2b2lkIHtcclxuICAgIGNvbnN0IG9TaG93SXRlbXMgPSB1dGlsaXR5RE9NXHJcbiAgICAgIC5nZXRBbGxFbGUoJy5kZHp5LXVwbG9hZC1zaG93LWl0ZW0nKSBhcyBBcnJheUxpa2U8SFRNTExJRWxlbWVudD47XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIG9uUmVtb3ZlQ2xpY2tIb29rLFxyXG4gICAgfSA9IERyYWdnZXJVcGxvYWQuZGVmYXVsdFByb3BzO1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBmaWxlcyxcclxuICAgIH0gPSB0aGlzLnN0YXRlO1xyXG5cclxuICAgIEFycmF5LmZyb20ob1Nob3dJdGVtcykuZm9yRWFjaCgobGkpID0+IHtcclxuICAgICAgY29uc3Qgb1Nob3dJdGVtQ2xvc2VCdG4gPSBsaVxyXG4gICAgICAgIC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkZHp5LXVwbG9hZC1zaG93LWNsb3NlJylbMF1cclxuICAgICAgICAuZmlyc3RFbGVtZW50Q2hpbGQgYXMgU1ZHQUVsZW1lbnQ7XHJcblxyXG4gICAgICBvU2hvd0l0ZW1DbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBjb25zdCBpbmRleDogbnVtYmVyID0gTnVtYmVyKHV0aWxpdHlET00uZ2V0QXR0cihsaSwgJ2RhdGEtaW5kZXgnKSk7XHJcbiAgICAgICAgY29uc3QgZmlsZTogRmlsZSA9IGZpbGVzW2luZGV4XTtcclxuXHJcbiAgICAgICAgLy8gPyDmiafooYznp7vpmaTpkqnlrZBcclxuICAgICAgICBvblJlbW92ZUNsaWNrSG9vayAmJiBvblJlbW92ZUNsaWNrSG9vayhmaWxlLCBmaWxlcyk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVMb2NhbEl0ZW1BbmltYXRlT3V0KGxpKTtcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDlpITnkIbmnKzlnLDliJfooajpobnpooTop4hcclxuICAgKi9cclxuICBwcml2YXRlIGhhbmRsZUxvY2FsSXRlbVByZXZpZXcoKTogdm9pZCB7XHJcbiAgICBjb25zdCBvU2hvd0l0ZW1zID0gdXRpbGl0eURPTVxyXG4gICAgICAuZ2V0QWxsRWxlKCcuZGR6eS11cGxvYWQtc2hvdy1pdGVtJykgYXMgQXJyYXlMaWtlPEhUTUxMSUVsZW1lbnQ+O1xyXG4gICAgY29uc3QgeyBmaWxlcyB9ID0gdGhpcy5zdGF0ZTtcclxuICAgIGNvbnN0IHsgb25QcmV2aWV3Q2xpY2tIb29rIH0gPSBEcmFnZ2VyVXBsb2FkLmRlZmF1bHRQcm9wcztcclxuXHJcbiAgICBBcnJheS5mcm9tKG9TaG93SXRlbXMpLmZvckVhY2goKGxpKSA9PiB7XHJcbiAgICAgIGNvbnN0IG9TaG93SXRlbVByZXZpZXdCdG4gPSBsaVxyXG4gICAgICAgIC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkZHp5LXVwbG9hZC1zaG93LWFjdGlvbi1wcmV2aWV3JylbMF0gYXMgSFRNTFNwYW5FbGVtZW50O1xyXG5cclxuICAgICAgb1Nob3dJdGVtUHJldmlld0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAvLyA/IOagueaNruW9k+WJjeeCueWHu+eahGxp55qE5LiL5qCH5om+5Yiw5a+55bqU55qEZmlsZVxyXG4gICAgICAgIGNvbnN0IGluZGV4OiBudW1iZXIgPSBOdW1iZXIodXRpbGl0eURPTS5nZXRBdHRyKGxpLCAnZGF0YS1pbmRleCcpKTtcclxuICAgICAgICBjb25zdCBmaWxlOiBGaWxlID0gZmlsZXNbaW5kZXhdO1xyXG5cclxuICAgICAgICAvLyA/IOaJp+ihjOmihOiniOmSqeWtkFxyXG4gICAgICAgIG9uUHJldmlld0NsaWNrSG9vayAmJiBvblByZXZpZXdDbGlja0hvb2soZmlsZSwgZmlsZXMpO1xyXG4gICAgICB9KTtcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDlpITnkIbmiJDlip/kuIrkvKDoh7PmnI3liqHlmahcclxuICAgKi9cclxuICBwcml2YXRlIGhhbmRsZUxvY2FsSXRlbVNlbmRTdWNjZXNzKFxyXG4gICAgc2hvd0l0ZW06IEhUTUxMSUVsZW1lbnQsXHJcbiAgICBmaWxlOiBGaWxlLFxyXG4gICAgZmlsZUxpc3Q6IEZpbGVbXSxcclxuICApOiB2b2lkIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgb25VcGxvYWRDbGlja1N1Y2Nlc3NIb29rLFxyXG4gICAgfSA9IERyYWdnZXJVcGxvYWQuZGVmYXVsdFByb3BzO1xyXG4gICAgY29uc3Qgb1Nob3dJdGVtTG9hZGluZ0J0biA9IHNob3dJdGVtXHJcbiAgICAgIC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkZHp5LXVwbG9hZC1zaG93LWFjdGlvbi1sb2FkaW5nJylbMF0gYXMgSFRNTFNwYW5FbGVtZW50O1xyXG5cclxuICAgIC8vID8g5aSE55CG5oiQ5Yqf5LiK5Lyg6Iez5pyN5Yqh5Zmo5pe255qEbG9hZGluZ+eKtuaAgVxyXG4gICAgdXRpbGl0eURPTVxyXG4gICAgICAuYWRkQ2xhc3Mob1Nob3dJdGVtTG9hZGluZ0J0biwgJ2RkenktdXBsb2FkLXNob3ctYWN0aW9uLWxvYWRpbmctc3VjY2VzcycpO1xyXG5cclxuICAgIC8vID8g5omn6KGM5oiQ5Yqf5LiK5Lyg6Iez5pyN5Yqh5Zmo55qE6ZKp5a2QXHJcbiAgICBvblVwbG9hZENsaWNrU3VjY2Vzc0hvb2sgJiYgb25VcGxvYWRDbGlja1N1Y2Nlc3NIb29rKGZpbGUsIGZpbGVMaXN0KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWkhOeQhuS4iuS8oOiHs+acjeWKoeWZqOWksei0pVxyXG4gICAqL1xyXG4gIHByaXZhdGUgaGFuZGxlTG9jYWxJdGVtU2VuZEZhaWxkKFxyXG4gICAgc2hvd0l0ZW06IEhUTUxMSUVsZW1lbnQsXHJcbiAgICBmaWxlOiBGaWxlLFxyXG4gICAgZmlsZUxpc3Q6IEZpbGVbXSxcclxuICApOiB2b2lkIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgb25VcGxvYWRDbGlja0ZhaWxIb29rLFxyXG4gICAgfSA9IERyYWdnZXJVcGxvYWQuZGVmYXVsdFByb3BzO1xyXG4gICAgY29uc3Qgb1Nob3dJdGVtTG9hZGluZ0J0biA9IHNob3dJdGVtXHJcbiAgICAgIC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkZHp5LXVwbG9hZC1zaG93LWFjdGlvbi1sb2FkaW5nJylbMF0gYXMgSFRNTFNwYW5FbGVtZW50O1xyXG5cclxuICAgIC8vID8g5aSE55CG5LiK5Lyg6Iez5pyN5Yqh5Zmo5aSx6LSl5pe255qEbG9hZGluZ+eKtuaAgVxyXG4gICAgdXRpbGl0eURPTVxyXG4gICAgICAuYWRkQ2xhc3Mob1Nob3dJdGVtTG9hZGluZ0J0biwgJ2RkenktdXBsb2FkLXNob3ctYWN0aW9uLWxvYWRpbmctZmFpbGQnKTtcclxuXHJcbiAgICAvLyA/IOaJp+ihjOS4iuS8oOiHs+acjeWKoeWZqOWksei0peeahOmSqeWtkFxyXG4gICAgb25VcGxvYWRDbGlja0ZhaWxIb29rICYmIG9uVXBsb2FkQ2xpY2tGYWlsSG9vayhmaWxlLCBmaWxlTGlzdCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDlpITnkIbmnKzlnLDliJfooajpobnkuIrkvKDoh7PmnI3liqHlmahcclxuICAgKi9cclxuICBwcml2YXRlIGhhbmRsZUxvY2FsSXRlbVNlbmQoKTogdm9pZCB7XHJcbiAgICBjb25zdCBvU2hvd0l0ZW1zID0gdXRpbGl0eURPTVxyXG4gICAgICAuZ2V0QWxsRWxlKCcuZGR6eS11cGxvYWQtc2hvdy1pdGVtJykgYXMgQXJyYXlMaWtlPEhUTUxMSUVsZW1lbnQ+O1xyXG4gICAgY29uc3QgeyBmaWxlcyB9ID0gdGhpcy5zdGF0ZTtcclxuICAgIGNvbnN0IHsgb25VcGxvYWRDbGlja0hvb2sgfSA9IERyYWdnZXJVcGxvYWQuZGVmYXVsdFByb3BzO1xyXG5cclxuICAgIEFycmF5LmZyb20ob1Nob3dJdGVtcykuZm9yRWFjaCgobGkpID0+IHtcclxuICAgICAgY29uc3Qgb1Nob3dJdGVtU2VuZEJ0biA9IGxpXHJcbiAgICAgICAgLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2RkenktdXBsb2FkLXNob3ctYWN0aW9uLXNlbmQnKVswXVxyXG4gICAgICAgIC5maXJzdEVsZW1lbnRDaGlsZCBhcyBTVkdBRWxlbWVudDtcclxuICAgICAgY29uc3Qgb1Nob3dJdGVtTG9hZGluZ0J0biA9IGxpXHJcbiAgICAgICAgLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2RkenktdXBsb2FkLXNob3ctYWN0aW9uLWxvYWRpbmcnKVswXSBhcyBIVE1MU3BhbkVsZW1lbnQ7XHJcblxyXG4gICAgICBvU2hvd0l0ZW1TZW5kQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluZGV4OiBudW1iZXIgPSBOdW1iZXIodXRpbGl0eURPTS5nZXRBdHRyKGxpLCAnZGF0YS1pbmRleCcpKTtcclxuICAgICAgICBjb25zdCBmaWxlOiBGaWxlID0gZmlsZXNbaW5kZXhdO1xyXG5cclxuICAgICAgICAvLyA/IOWkhOeQhuS4iuS8oOaXtueahGxvYWRpbmfnirbmgIFcclxuICAgICAgICB1dGlsaXR5RE9NXHJcbiAgICAgICAgICAuYWRkQ2xhc3Mob1Nob3dJdGVtTG9hZGluZ0J0biwgJ2RkenktdXBsb2FkLXNob3ctYWN0aW9uLWxvYWRpbmctYWN0aXZlJyk7XHJcblxyXG4gICAgICAgIC8vID8g5omn6KGM5LiK5Lyg6ZKp5a2QXHJcbiAgICAgICAgaWYgKG9uVXBsb2FkQ2xpY2tIb29rKSB7XHJcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBvblVwbG9hZENsaWNrSG9vayhmaWxlLCBmaWxlcyk7XHJcblxyXG4gICAgICAgICAgaWYgKCByZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlICkge1xyXG4gICAgICAgICAgICByZXN1bHRcclxuICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyA/IOaIkOWKn+S4iuS8oOiHs+i/nOeoi+acjeWKoeWZqFxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVMb2NhbEl0ZW1TZW5kU3VjY2VzcyhsaSwgZmlsZSwgZmlsZXMpO1xyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vID8g5LiK5Lyg6L+c56iL5pyN5Yqh5Zmo5aSx6LSlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUxvY2FsSXRlbVNlbmRGYWlsZChsaSwgZmlsZSwgZmlsZXMpO1xyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoIHJlc3VsdCApIHtcclxuICAgICAgICAgICAgICB0aGlzLmhhbmRsZUxvY2FsSXRlbVNlbmRTdWNjZXNzKGxpLCBmaWxlLCBmaWxlcyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5oYW5kbGVMb2NhbEl0ZW1TZW5kRmFpbGQobGksIGZpbGUsIGZpbGVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5aSE55CG5pys5Zyw5bGV56S655qE5Y2V6aG55YiX6KGo55u45YWzKOWFpeWcuuOAgemihOiniOOAgeS4iuS8oOOAgeenu+mZpOOAgeWHuuWcui4uLilcclxuICAgKi9cclxuICBwcml2YXRlIGhhbmRsZUxvY2FsSXRlbSgpOiB2b2lkIHtcclxuICAgIHRoaXMuaGFuZGxlTG9jYWxJdGVtQW5pbWF0ZUluKCk7XHJcbiAgICB0aGlzLmhhbmRsZUxvY2FsSXRlbVJlbW92ZSgpO1xyXG4gICAgdGhpcy5oYW5kbGVMb2NhbEl0ZW1QcmV2aWV3KCk7XHJcbiAgICB0aGlzLmhhbmRsZUxvY2FsSXRlbVNlbmQoKTtcclxuICB9XHJcblxyXG5cclxuICAvKipcclxuICAgKiDlpITnkIbmt7vliqDoh7PmnKzlnLDpooTop4jliJfooahcclxuICAgKiBAcGFyYW0gZmlsZSDljZXkuKrmlofku7blr7nosaFcclxuICAgKi9cclxuICBwcml2YXRlIGhhbmRsZUFwcGVuZFRvU2hvdyhmaWxlOiBGaWxlKTogdm9pZCB7XHJcbiAgICBjb25zdCB7IG9TaG93TGlzdCB9ID0gdGhpcy5zdGF0ZTtcclxuICAgIGNvbnN0IHsgbmFtZSB9ID0gZmlsZTtcclxuXHJcbiAgICBjb25zdCB0ZXh0ID0gYFxyXG4gICAgICA8bGkgY2xhc3M9XCJkZHp5LXVwbG9hZC1zaG93LWl0ZW1cIiBkYXRhLWluZGV4PSR7b1Nob3dMaXN0LmNoaWxkcmVuLmxlbmd0aH0+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImRkenktdXBsb2FkLXNob3ctYWN0aW9uLWJveFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRkenktdXBsb2FkLXNob3ctYWN0aW9uXCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGR6eS11cGxvYWQtc2hvdy1hY3Rpb24tbG9hZGluZ1wiPlxyXG4gICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgZGF0YS1pbmRleD0ke29TaG93TGlzdC5jaGlsZHJlbi5sZW5ndGh9PlxyXG4gICAgICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPVwiI2ljb24tTG9hZGluZ1wiPjwvdXNlPlxyXG4gICAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGR6eS11cGxvYWQtc2hvdy1hY3Rpb24tbmFtZVwiIHRpdGxlPVwi5Zu+54mH5ZCN56ewXCI+XHJcbiAgICAgICAgICAgICAgJHtuYW1lfVxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGR6eS11cGxvYWQtc2hvdy1hY3Rpb24tcHJldmlld1wiIHRpdGxlPVwi6aKE6KeIXCI+XHJcbiAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIiBhcmlhLWhpZGRlbj1cInRydWVcIiBkYXRhLWluZGV4PSR7b1Nob3dMaXN0LmNoaWxkcmVuLmxlbmd0aH0+XHJcbiAgICAgICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9XCIjaWNvbi1leWVcIj48L3VzZT5cclxuICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImRkenktdXBsb2FkLXNob3ctYWN0aW9uLXNlbmRcIiB0aXRsZT1cIuS4iuS8oFwiPlxyXG4gICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgZGF0YS1pbmRleD0ke29TaG93TGlzdC5jaGlsZHJlbi5sZW5ndGh9PlxyXG4gICAgICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPVwiI2ljb24tdXBsb2FkMVwiPjwvdXNlPlxyXG4gICAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGR6eS11cGxvYWQtc2hvdy1jbG9zZS1ib3hcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZHp5LXVwbG9hZC1zaG93LWNsb3NlXCIgdGl0bGU9XCLnp7vpmaRcIj5cclxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIiBhcmlhLWhpZGRlbj1cInRydWVcIiBkYXRhLWluZGV4PSR7b1Nob3dMaXN0LmNoaWxkcmVuLmxlbmd0aH0+XHJcbiAgICAgICAgICAgICAgPHVzZSAgeGxpbms6aHJlZj1cIiNpY29uLWV0LXdyb25nXCI+PC91c2U+XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvbGk+XHJcbiAgICBgO1xyXG5cclxuICAgIG9TaG93TGlzdC5pbm5lckhUTUwgKz0gdGV4dDtcclxuXHJcbiAgICB0aGlzLmhhbmRsZUxvY2FsSXRlbSgpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIOWkhOeQhua3u+WKoOiHs+aWh+S7tuaVsOe7hCwg5ZCO57ut5Lya55So5YiwXHJcbiAgICogQHBhcmFtIGZpbGUg5Y2V5Liq5paH5Lu25a+56LGhXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBoYW5kbGVBcHBlbmRUb0ZpbGVzKGZpbGU6IEZpbGUpOiB2b2lkIHtcclxuICAgIHRoaXMuc3RhdGUuZmlsZXMucHVzaChmaWxlKTtcclxuICB9XHJcblxyXG5cclxuICAvKipcclxuICAgKiDlpITnkIbmlofku7bkuIrkvKDliY3nmoTpkqnlrZAsIOagueaNrmBvbkJlZm9yZVVwbG9hZEhvb2tg6L+U5ZuedHJ1ZeaIlnJlc29sdmXmnaXmt7vliqDoh7PmnKzlnLDliJfooagsIOWPjeS5i+S4jea3u+WKoFxyXG4gICAqIEBwYXJhbSBmaWxlIOWNleS4quaWh+S7tuWvueixoVxyXG4gICAqIEBwYXJhbSBmaWxlcyDmlofku7bliJfooahcclxuICAgKi9cclxuICBwcml2YXRlIGhhbmRsZUJlZm9yZVVwbG9hZEhvb2soZmlsZTogRmlsZSwgZmlsZXM6IEZpbGVMaXN0KTogdm9pZCB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIG9uQmVmb3JlVXBsb2FkSG9vayxcclxuICAgIH0gPSBEcmFnZ2VyVXBsb2FkLmRlZmF1bHRQcm9wcztcclxuXHJcbiAgICBpZiAob25CZWZvcmVVcGxvYWRIb29rKSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IG9uQmVmb3JlVXBsb2FkSG9vayhmaWxlLCBBcnJheS5mcm9tKGZpbGVzKSk7XHJcblxyXG4gICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xyXG4gICAgICAgIHJlc3VsdFxyXG4gICAgICAgICAgLnRoZW4oKG5ld0ZpbGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKG5ld0ZpbGUgaW5zdGFuY2VvZiBGaWxlKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5oYW5kbGVBcHBlbmRUb0ZpbGVzKG5ld0ZpbGUpO1xyXG4gICAgICAgICAgICAgIHRoaXMuaGFuZGxlQXBwZW5kVG9TaG93KG5ld0ZpbGUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRoaXMuaGFuZGxlQXBwZW5kVG9GaWxlcyhmaWxlKTtcclxuICAgICAgICAgICAgICB0aGlzLmhhbmRsZUFwcGVuZFRvU2hvdyhmaWxlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaCgoKSA9PiB7IH0pXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgdGhpcy5oYW5kbGVBcHBlbmRUb0ZpbGVzKGZpbGUpO1xyXG4gICAgICAgICAgdGhpcy5oYW5kbGVBcHBlbmRUb1Nob3coZmlsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmhhbmRsZUFwcGVuZFRvRmlsZXMoZmlsZSk7XHJcbiAgICAgIHRoaXMuaGFuZGxlQXBwZW5kVG9TaG93KGZpbGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIHByaXZhdGUgaGFuZGxlRHJvcChlOiBEcmFnRXZlbnQpOiB2b2lkIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgb25DaGFuZ2VIb29rLFxyXG4gICAgfSA9IERyYWdnZXJVcGxvYWQuZGVmYXVsdFByb3BzO1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBvQ29udGFpbmVyLFxyXG4gICAgfSA9IHRoaXMuc3RhdGU7XHJcbiAgICBjb25zdCBkYXRhVHJhbnNmZXIgPSBlLmRhdGFUcmFuc2ZlciBhcyBEYXRhVHJhbnNmZXI7XHJcblxyXG4gICAgLy8gPyDmiafooYzmlofku7bmm7TmlLnpkqnlrZBcclxuICAgIG9uQ2hhbmdlSG9vayAmJiBvbkNoYW5nZUhvb2soZSk7XHJcblxyXG4gICAgdXRpbGl0eURPTS5yZW1vdmVDbGFzcyhvQ29udGFpbmVyLCAnZGR6eS11cGxvYWQtZHJhZy1jb250YWluZXItYWN0aXZlJyk7XHJcblxyXG4gICAgQXJyYXkuZnJvbShkYXRhVHJhbnNmZXIuZmlsZXMpLmZvckVhY2goKGZpbGUpID0+IHtcclxuICAgICAgdGhpcy5oYW5kbGVCZWZvcmVVcGxvYWRIb29rKGZpbGUsIGRhdGFUcmFuc2Zlci5maWxlcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlQ2hhbmdlKGU6IEV2ZW50KTogdm9pZCB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIG9uQ2hhbmdlSG9vayxcclxuICAgIH0gPSBEcmFnZ2VyVXBsb2FkLmRlZmF1bHRQcm9wcztcclxuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBjb25zdCBmaWxlTGlzdCA9IHRhcmdldC5maWxlcyBhcyBGaWxlTGlzdDtcclxuXHJcbiAgICAvLyA/IOaJp+ihjOaWh+S7tuabtOaUuemSqeWtkFxyXG4gICAgb25DaGFuZ2VIb29rICYmIG9uQ2hhbmdlSG9vayhlKTtcclxuXHJcbiAgICBBcnJheS5mcm9tKGZpbGVMaXN0KS5mb3JFYWNoKChmaWxlKSA9PiB7XHJcbiAgICAgIHRoaXMuaGFuZGxlQmVmb3JlVXBsb2FkSG9vayhmaWxlLCBmaWxlTGlzdCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWkhOeQhuaLluaLveW9ouW8j+S4iuS8oOWIsOacrOWcsFxyXG4gICAqL1xyXG4gIHByaXZhdGUgaGFuZGxlRHJhZ1VwbG9hZCgpOiB2b2lkIHtcclxuICAgIGNvbnN0IHsgb0NvbnRhaW5lciB9ID0gdGhpcy5zdGF0ZTtcclxuXHJcbiAgICAvLyA/IOino+WGs+a1j+iniOWZqOm7mOiupOaJk+W8gOmihOiniOeql+WPo1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBvQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsICgpID0+IHtcclxuICAgICAgdGhpcy5oYW5kbGVEcmFnRW50ZXIoKTtcclxuICAgIH0pO1xyXG4gICAgb0NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuaGFuZGxlRHJhZ0xlYXZlKCk7XHJcbiAgICB9KTtcclxuICAgIG9Db250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChlKSA9PiB7XHJcbiAgICAgIHRoaXMuaGFuZGxlRHJvcChlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5aSE55CG54K55Ye75LiK5Lyg5Yiw5pys5ZywXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBoYW5kbGVDbGlja1VwbG9hZCgpOiB2b2lkIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgb0NvbnRhaW5lcixcclxuICAgICAgb0xhYmVsLFxyXG4gICAgICBvSW5wdXQsXHJcbiAgICB9ID0gdGhpcy5zdGF0ZTtcclxuXHJcbiAgICAvLyA/IOino+WGs29uZHJhZ+WSjG9uY2xpY2vlhrLnqoEsIOWvvOiHtOaXoOazleW8uei1t+aWh+S7tumAieahhueahOmXrumimFxyXG4gICAgb0NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKCkgPT4ge1xyXG4gICAgICBvTGFiZWwuY2xpY2soKTtcclxuICAgIH0pO1xyXG5cclxuICAgIG9JbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xyXG4gICAgICB0aGlzLmhhbmRsZUNoYW5nZShlKTtcclxuICAgIH0pO1xyXG4gIH1cclxufSIsIi8qKlxyXG4gKiBAbmFtZSBVcGxvYWRcclxuICogQGRlc2NyaXB0aW9uIOaWh+S7tuS4iuS8oOe7hOS7tiwg55uu5YmN6K6h5YiS5Y+q5a6e546wYOaLluaLveS4iuS8oGBcclxuICovXHJcblxyXG5pbXBvcnQge1xyXG4gIERyYWdnZXJVcGxvYWQgYXMgRHJhZ2dlcixcclxufSBmcm9tICcuL2RyYWdnZXItdXBsb2FkL0RyYWdnZXJVcGxvYWQnO1xyXG5cclxuZXhwb3J0IGNvbnN0IFVwbG9hZCA9IHtcclxuICBEcmFnZ2VyLFxyXG59OyIsImltcG9ydCB7IFVwbG9hZCB9IGZyb20gJy4vZGR6eS9idXNpbmVzcy91cGxvYWQvaW5kZXgnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgVXBsb2FkLkRyYWdnZXIiXSwic291cmNlUm9vdCI6IiJ9