var Tab=function(n){var e={};function t(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return n[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=n,t.c=e,t.d=function(n,e,a){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:a})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var i in n)t.d(a,i,function(e){return n[e]}.bind(null,i));return a},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=0)}([function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t(1);e.default=a.Tab},function(n,e,t){"use strict";var a=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0});var i=a(t(2)),r=function(){function n(n){this.__init(n)}return n.prototype.__init=function(n){this.__initSettings(n),this.render()},n.prototype.__initSettings=function(e){var t=n.defaultConfig;for(var a in e)if(e.hasOwnProperty(a)){var i=Reflect.get(e,a);Reflect.set(t,a,i)}},n.prototype.render=function(){this.handleMount(),this.handleSetStyle(),this.handleMouse()},n.prototype.handleMount=function(){var e=n.defaultConfig.container,t=i.default.getEle(e);if(!t)throw new TypeError("Invalid container you have passed!");var a=document.createElement("div");a.innerHTML=this.handleCreateDOMTree(),t.appendChild(a)},n.prototype.handleSetStyle=function(){var e=n.defaultConfig,t=e.tabBarGap,a=e.dataSource,r=e.tabBarStyle,o=e.tabBarLineStyle,l=e.container,s=i.default.getAllEle(".yyg-nav-item-icon"),c=i.default.getEle(".yyg-nav-item"),d=i.default.getEle("style");if(!d){var u=i.default.getEle("head");d=document.createElement("style"),u.appendChild(d)}a.forEach(function(n,e){n.tabPaneTitle.icon?(s[e].innerHTML=n.tabPaneTitle.icon,i.default.setCss(s[e],{flex:.6,"text-align":"right"})):i.default.setCss(s[e],{display:"none"})}),d.innerText+="\n      "+l+" ul, li, p, h1, h2, h3 {\n        margin: 0;\n        padding: 0;\n      }\n      "+l+" ul {\n        list-style-type: none;\n      }\n      "+l+" .yyg-tabs-wrapper {\n        width: 100%;\n        height: 100%;\n      }\n      "+l+" .yyg-tabs-main {\n        box-sizing: border-box;\n        padding: 10px 0;\n      }\n      "+l+" .yyg-tabs-main-bar {\n\n      }\n      "+l+" .yyg-bar-nav-container {\n        box-sizing: border-box;\n        height: 50px;\n        border-bottom: 1px solid #ccc;\n        line-height: 47px;\n      }\n      "+l+" .yyg-nav-list-box {\n        display: flex;\n      }\n      "+l+" .yyg-nav-item {\n        flex: 1;\n        display: flex;\n        margin-right: "+t+"px;\n        text-align: center;\n        color: "+(r.color||"#5a5a5a")+";\n        font-size: "+(r["font-size"]||14)+"px;\n        cursor: pointer;\n        user-select: none;\n        transition: all .3s ease-in;\n      }\n      /*\n        bar-item\n      */\n     "+l+" .yyg-nav-item-icon {\n        flex: 0;\n        font-size: 12px;\n      }\n      .yyg-nav-item-text {\n        flex: 1;\n      }\n      "+l+" .yyg-nav-line-box {\n        width: "+(c.clientWidth/a.length-t)+"px;\n        height: "+(o.height||3)+"px;\n        background-color: "+(o["background-color"]||"#1890ff")+";\n        transition: all .3s ease-in;\n      }\n\n      /* ÂÜÖÂÆπÊ°Ü */\n      "+l+" .yyg-tabs-main-bar {\n\n      }\n      "+l+" .yyg-content-tabpane-container {\n        overflow: hidden;\n        box-sizing: border-box;\n        padding: 5px 0;\n      }\n      "+l+" .yyg-tabpane-list {\n        width: "+100*a.length+"%;\n      }\n      "+l+" .yyg-tabpane-item {\n        float: left;\n        width: "+100/a.length+"%;\n      }\n\n      /* type */\n      "+l+" .yyg-nav-item-line {\n\n      }\n      "+l+" .yyg-nav-item-card {\n        border: 1px solid #e8e8e8;\n        border-bottom: 0;\n        border-radius: 4px 4px 0 0;\n        background-color: "+(r["background-color"]||"#fafafa")+";\n      }\n\n      /* Ê¥ªÂä®Ê†∑ÂºèÁ±ª */\n      "+l+" .yyg-nav-item-card-active {\n        background-color: "+(r.backgroundColorActive||"#fff")+";\n        color: "+(r.colorActive||"#1890ff")+";\n      }\n      "+l+" .yyg-nav-item-line-active {\n        color: "+(r.colorActive||"#1890ff")+";\n      }\n\n      /* animated */\n      "+l+" .yyg-tabpane-list-animated {\n        transition: all .2s ease-in-out;\n      }\n    "},n.prototype.handleMouse=function(){var e=n.defaultConfig,t=e.mouse,a=e.tabBarGap,r=e.type,o=e.defaultActiveKey,l=e.animated,s=e.onTabClick,c=e.onChange,d=i.default.getEle(".yyg-tabpane-list"),u=i.default.getEle(".yyg-content-tabpane-container"),f=i.default.getAllEle(".yyg-nav-item"),y=i.default.getEle(".yyg-nav-line-box"),g="line"===r?"yyg-nav-item-line-active":"yyg-nav-item-card-active",v=l?"yyg-tabpane-list-animated":"yyg-tabpane-list-noanimated";y&&i.default.setCss(y,{transform:"translateX("+(y.clientWidth*(o-1)+a*(o-1))+"px)"}),i.default.addClass(f[o-1],g).setCss(d,{transform:"translateX("+-(o-1)*u.clientWidth+"px)"}).addClass(d,v),f.forEach(function(n,e){n.addEventListener(t,function(){s&&s(),c&&c(i.default.getAttr(n,"data-id")),f.forEach(function(n){i.default.removeClass(n,g)}),y&&i.default.setCss(y,{transform:"translateX("+(y.clientWidth*e+a*e)+"px)"}),i.default.addClass(n,g).setCss(d,{transform:"translateX("+-e*u.clientWidth+"px)"})})})},n.prototype.handleCreateDOMTree=function(){var e=n.defaultConfig,t=e.dataSource,a=e.type,i="",r="";0!==t.length&&t.forEach(function(n,e){i+='\n          <li class="yyg-nav-item '+("line"===a?"yyg-nav-item-line":"yyg-nav-item-card")+'" data-id='+(e+1)+'>\n            <div class="yyg-nav-item-icon">\n              '+n.tabPaneTitle.icon+'\n            </div>\n            <div class="yyg-nav-item-text">\n              '+n.tabPaneTitle.text+"\n            </div>\n          </li>\n        ",r+='\n          <li class="yyg-tabpane-item" data-id='+(e+1)+'>\n            <div class="yyg-tabpane-item-content">\n              '+n.tabPaneContent.text+"\n            </div>\n          </li>\n        "});return'\n      <div class="yyg-tabs-wrapper">\n        <div class="yyg-tabs-main">\n          \x3c!-- ÂØºËà™ÂÆπÂô® --\x3e\n          <div class="yyg-tabs-main-bar">\n            <div class="yyg-bar-nav-container">\n              <ul class="yyg-nav-list-box">\n                '+i+"\n              </ul>\n              "+("line"===a?'\n      <div class="yyg-nav-line-box">\n        <span class="yyg-nav-line"></span>\n      </div>\n    ':"")+'\n            </div>\n          </div>\n          \x3c!-- ÂÜÖÂÆπÂÆπÂô® --\x3e\n          <div class="yyg-tabs-main-content">\n            <div class="yyg-content-tabpane-container">\n              <ul class="yyg-tabpane-list">\n                '+r+"\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    "},n.defaultConfig={container:"body",dataSource:[{tabPaneTitle:{text:"Èù¢Êùø‰∏Ä",icon:"üòÇ"},tabPaneContent:{text:"ÂÜÖÂÆπÂå∫Âùó‰∏Ä"}},{tabPaneTitle:{text:"Èù¢Êùø‰∫å",icon:"üòò"},tabPaneContent:{text:"ÂÜÖÂÆπÂå∫Âùó‰∫å"}},{tabPaneTitle:{text:"Èù¢Êùø‰∏â",icon:"üòç"},tabPaneContent:{text:"ÂÜÖÂÆπÂå∫Âùó‰∏â"}}],type:"line",mouse:"mouseenter",defaultActiveKey:1,tabBarGap:8,tabBarStyle:{"background-color":"#fafafa",color:"#5a5a5a","font-size":14,backgroundColorActive:"#fff",colorActive:"#1890ff"},tabBarLineStyle:{"background-color":"#1890ff",height:3},animated:!0,onTabClick:function(){},onChange:function(n){}},n}();e.Tab=r},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={getEle:function(n){return document.querySelector(n)},getAllEle:function(n){return document.querySelectorAll(n)},setAttr:function(n,e){for(var t in e)n.setAttribute(t,e[t]);return this},setCss:function(n,e){for(var t in e)if(e.hasOwnProperty(t)){var a=e[t];n.style.cssText+=t+": "+a+";"}return this},getFullRandom:function(n,e){return~~(Math.random()*(e-n)+n)},getAnyRandom:function(n,e){return Math.random()*(e-n)+n},getRadian:function(n){return Math.PI/180*n},getAttr:function(n,e){return n.getAttribute(e)},addClass:function(n,e){return n&&n.classList.add(e),this},removeClass:function(n,e){return n&&n.classList.remove(e),this},throttle:function(n,e){var t=Date.now();return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];var r=Date.now();r-t>n&&(e.apply(globalThis,a),t=r)}},isDOM:function(n){return n&&"object"==typeof n&&1===n.nodeType},isFunction:function(n){return"function"==typeof n},traversalDOMWithBFS:function(n,e){if(!this.isDOM(n))throw new TypeError("Require a DOM element");for(var t=[n];t.length;){var a=t.shift();e&&e(a);var i=a.children;t.push.apply(t,Array.from(i))}},traversalDOMWithDFS:function(n,e){if(!this.isDOM(n))throw new TypeError("Require a DOM element");e&&e(n),function n(t){if(0===t.length)return;for(var a=0,i=void 0;i=t[a++];)e&&e(i),n(i.children)}(n.children)},traversalDOMWithNodeIterator:function(n,e){if(!this.isDOM(n))throw new TypeError("Require a DOM element");for(var t=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT),a=null;a=t.nextNode();)e&&e(a)},traversalDOMWithTreeWalker:function(n,e){if(!this.isDOM(n))throw new TypeError("Require a DOM element");for(var t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT),a=null;a=t.nextNode();)e&&e(a)}};e.default=a}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9UYWIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vVGFiLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL1RhYi8uL3NyYy9kZHp5L2J1c2luZXNzL3RhYnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vVGFiLy4vc3JjL2RkenkvdXRpbGl0eS9kb20vaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJpbmRleF8xIiwiZGVmYXVsdCIsIlRhYiIsIl9faW1wb3J0RGVmYXVsdCIsImNvbmZpZyIsInRoaXMiLCJfX2luaXQiLCJfX2luaXRTZXR0aW5ncyIsInJlbmRlciIsImRlZmF1bHRDb25maWciLCJSZWZsZWN0Iiwic2V0IiwiaGFuZGxlTW91bnQiLCJoYW5kbGVTZXRTdHlsZSIsImhhbmRsZU1vdXNlIiwiY29udGFpbmVyIiwib0NvbnRhaW5lciIsImdldEVsZSIsIlR5cGVFcnJvciIsIm9UZW1wRGl2IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiaGFuZGxlQ3JlYXRlRE9NVHJlZSIsImFwcGVuZENoaWxkIiwiX2EiLCJ0YWJCYXJHYXAiLCJkYXRhU291cmNlIiwidGFiQmFyU3R5bGUiLCJ0YWJCYXJMaW5lU3R5bGUiLCJvSWNvbkJveEFyciIsImdldEFsbEVsZSIsIm9OYXZJdGVtIiwib1N0eWxlIiwib0hlYWQiLCJmb3JFYWNoIiwiaXRlbSIsImluZGV4IiwidGFiUGFuZVRpdGxlIiwiaWNvbiIsInNldENzcyIsImZsZXgiLCJ0ZXh0LWFsaWduIiwiZGlzcGxheSIsImlubmVyVGV4dCIsImNsaWVudFdpZHRoIiwibGVuZ3RoIiwibW91c2UiLCJ0eXBlIiwiZGVmYXVsdEFjdGl2ZUtleSIsImFuaW1hdGVkIiwib25UYWJDbGljayIsIm9uQ2hhbmdlIiwicGFuZUxpc3QiLCJwYW5lTGlzdFBhcmVudCIsImJhckl0ZW1zIiwibGluZUJveCIsIndoaWNoVHlwZUFjdGl2ZUNsYXNzIiwid2hpY2hBbmltYXRlZENsYXNzIiwidHJhbnNmb3JtIiwiYWRkQ2xhc3MiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0QXR0ciIsIml0ZSIsInJlbW92ZUNsYXNzIiwibmF2U3RyIiwiY29udGVudFN0ciIsInRleHQiLCJ0YWJQYW5lQ29udGVudCIsImJhY2tncm91bmQtY29sb3IiLCJjb2xvciIsImZvbnQtc2l6ZSIsImJhY2tncm91bmRDb2xvckFjdGl2ZSIsImNvbG9yQWN0aXZlIiwiaGVpZ2h0IiwiX2FjdGl2ZUtleSIsInV0aWxpdHlET00iLCJzaWduIiwicXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzZXRBdHRyIiwiZWxlIiwib3B0aW9ucyIsInNldEF0dHJpYnV0ZSIsImVsZW1lbnQiLCJzdHlsZSIsImNzc1RleHQiLCJnZXRGdWxsUmFuZG9tIiwibWluIiwibWF4IiwiTWF0aCIsInJhbmRvbSIsImdldEFueVJhbmRvbSIsImdldFJhZGlhbiIsImFuZ2xlIiwiUEkiLCJnZXRBdHRyaWJ1dGUiLCJlbCIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsInRocm90dGxlIiwidGltZXN0YW1wIiwiY2FsbGJhY2siLCJsYXN0Q2xpY2tUaW1lIiwiRGF0ZSIsIm5vdyIsImFyZ3MiLCJfaSIsImFyZ3VtZW50cyIsImN1cnJlbnRDbGlja1RpbWUiLCJhcHBseSIsImdsb2JhbFRoaXMiLCJpc0RPTSIsIm5vZGUiLCJub2RlVHlwZSIsImlzRnVuY3Rpb24iLCJ0cmF2ZXJzYWxET01XaXRoQkZTIiwicXVldWUiLCJzaGlmdCIsImNoaWxkcmVuIiwicHVzaCIsIkFycmF5IiwiZnJvbSIsInRyYXZlcnNhbERPTVdpdGhERlMiLCJfYWlkZWRUcmF2ZXJzYWwiLCJldmVyeSIsInRyYXZlcnNhbERPTVdpdGhOb2RlSXRlcmF0b3IiLCJub2RlSXRlcmF0b3IiLCJjcmVhdGVOb2RlSXRlcmF0b3IiLCJOb2RlRmlsdGVyIiwiU0hPV19FTEVNRU5UIiwiY3VycmVudE5vZGUiLCJuZXh0Tm9kZSIsInRyYXZlcnNhbERPTVdpdGhUcmVlV2Fsa2VyIiwidHJlZVdhbGtlciIsImNyZWF0ZVRyZWVXYWxrZXIiXSwibWFwcGluZ3MiOiJvQkFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBMERBLE9BckRBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNC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QWVJLE1BQU1DLEtBQUtILE1BUzlCSSxvQkFBQSxTQUFvQjlHLEVBQVd5RixHQUM3QixJQUFLbkcsS0FBSzZHLE1BQU1uRyxHQUNkLE1BQU0sSUFBSUcsVUFBVSx5QkFHdEJzRixHQUFZQSxFQUFTekYsR0FJckIsU0FBUytHLEVBQWdCTCxHQUN2QixHQUF3QixJQUFwQkEsRUFBUzNFLE9BQ1gsT0FHRixJQUFLLElBQUk5RSxFQUFJLEVBQUcrSixPQUFLLEVBQUVBLEVBQVFOLEVBQVN6SixNQUN0Q3dJLEdBQVlBLEVBQVN1QixHQUNyQkQsRUFBZ0JDLEVBQU1OLFVBVDFCSyxDQUFnQi9HLEVBQVUwRyxXQW1CNUJPLDZCQUFBLFNBQTZCakgsRUFBV3lGLEdBQ3RDLElBQUtuRyxLQUFLNkcsTUFBTW5HLEdBQ2QsTUFBTSxJQUFJRyxVQUFVLHlCQVN0QixJQU5BLElBQU0rRyxFQUE2QjdHLFNBQVM4RyxtQkFDMUNuSCxFQUNBb0gsV0FBV0MsY0FFVEMsRUFBMkIsS0FFdkJBLEVBQWNKLEVBQWFLLFlBQ2pDOUIsR0FBWUEsRUFBUzZCLElBU3pCRSwyQkFBQSxTQUEyQnhILEVBQVd5RixHQUNwQyxJQUFLbkcsS0FBSzZHLE1BQU1uRyxHQUNkLE1BQU0sSUFBSUcsVUFBVSx5QkFTdEIsSUFOQSxJQUFNc0gsRUFBeUJwSCxTQUFTcUgsaUJBQ3RDMUgsRUFDQW9ILFdBQVdDLGNBRVRDLEVBQTJCLEtBRXRCQSxFQUFjRyxFQUFXRixZQUNoQzlCLEdBQVlBLEVBQVc2QixLQU03QnZLLEVBQUFtQyxRQUFlMkUiLCJmaWxlIjoiZGR6eS5UYWIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQge1xyXG4gIFRhYixcclxufSBmcm9tICcuL2RkenkvYnVzaW5lc3MvdGFicy9pbmRleCc7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVGFiOyIsImltcG9ydCB1dGlsaXR5RE9NIGZyb20gJy4uLy4uL3V0aWxpdHkvZG9tL2luZGV4JztcclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElUYWJDb25maWdQcm9wcyB7XHJcbiAgY29udGFpbmVyPzogc3RyaW5nO1xyXG4gIGRhdGFTb3VyY2U/OiBJVGFiRGF0YVNvdXJjZVtdO1xyXG4gIHR5cGU/OiBJVGFiVHlwZUVmZmVjdDtcclxuICBtb3VzZT86IElUYWJNb3VzZUVmZmVjdDtcclxuICBkZWZhdWx0QWN0aXZlS2V5PzogbnVtYmVyO1xyXG4gIHRhYkJhckdhcD86IG51bWJlcjtcclxuICB0YWJCYXJTdHlsZT86IElUYWJCYXJTdHlsZTtcclxuICB0YWJCYXJMaW5lU3R5bGU/OiBJVGFiQmFyTGluZVN0eWxlO1xyXG4gIGFuaW1hdGVkPzogYm9vbGVhbjtcclxuICBvbkNoYW5nZT86IChhY3RpdmVLZXk6IG51bWJlciB8IHN0cmluZykgPT4gdm9pZDtcclxuICBvblRhYkNsaWNrPzogKCkgPT4gdm9pZDtcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIElUYWJEYXRhU291cmNlIHtcclxuICB0YWJQYW5lVGl0bGU6IHtcclxuICAgIGljb24/OiBzdHJpbmcsXHJcbiAgICB0ZXh0Pzogc3RyaW5nLFxyXG4gIH0sXHJcbiAgdGFiUGFuZUNvbnRlbnQ6IHtcclxuICAgIHRleHQ/OiBzdHJpbmcsXHJcbiAgfSxcclxufTtcclxuZXhwb3J0IGludGVyZmFjZSBJVGFiQmFyU3R5bGUge1xyXG4gICdiYWNrZ3JvdW5kLWNvbG9yJz86IHN0cmluZztcclxuICBjb2xvcj86IHN0cmluZztcclxuICAnZm9udC1zaXplJz86IG51bWJlcjtcclxuICAnZm9udC1mYW1pbHknPzogc3RyaW5nO1xyXG4gIGJhY2tncm91bmRDb2xvckFjdGl2ZT86IHN0cmluZztcclxuICBjb2xvckFjdGl2ZT86IHN0cmluZztcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIElUYWJCYXJMaW5lU3R5bGUge1xyXG4gICdiYWNrZ3JvdW5kLWNvbG9yJz86IHN0cmluZztcclxuICBoZWlnaHQ/OiBudW1iZXI7XHJcbn1cclxuZXhwb3J0IHR5cGUgSVRhYlR5cGVFZmZlY3QgPSAnbGluZScgfCAnY2FyZCc7XHJcbmV4cG9ydCB0eXBlIElUYWJNb3VzZUVmZmVjdCA9ICdtb3VzZWVudGVyJyB8ICdjbGljayc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFRhYiB7XHJcbiAgcHVibGljIHN0YXRpYyBkZWZhdWx0Q29uZmlnID0ge1xyXG4gICAgY29udGFpbmVyOiAnYm9keScsXHJcbiAgICBkYXRhU291cmNlOiBbXHJcbiAgICAgIHtcclxuICAgICAgICB0YWJQYW5lVGl0bGU6IHtcclxuICAgICAgICAgIHRleHQ6ICfpnaLmnb/kuIAnLFxyXG4gICAgICAgICAgaWNvbjogJ/CfmIInLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGFiUGFuZUNvbnRlbnQ6IHtcclxuICAgICAgICAgIHRleHQ6ICflhoXlrrnljLrlnZfkuIAnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICB0YWJQYW5lVGl0bGU6IHtcclxuICAgICAgICAgIHRleHQ6ICfpnaLmnb/kuownLFxyXG4gICAgICAgICAgaWNvbjogJ/CfmJgnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGFiUGFuZUNvbnRlbnQ6IHtcclxuICAgICAgICAgIHRleHQ6ICflhoXlrrnljLrlnZfkuownLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICB0YWJQYW5lVGl0bGU6IHtcclxuICAgICAgICAgIHRleHQ6ICfpnaLmnb/kuIknLFxyXG4gICAgICAgICAgaWNvbjogJ/CfmI0nLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGFiUGFuZUNvbnRlbnQ6IHtcclxuICAgICAgICAgIHRleHQ6ICflhoXlrrnljLrlnZfkuIknLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH1cclxuICAgIF0sXHJcbiAgICB0eXBlOiAnbGluZScsXHJcbiAgICBtb3VzZTogJ21vdXNlZW50ZXInLFxyXG4gICAgZGVmYXVsdEFjdGl2ZUtleTogMSxcclxuICAgIHRhYkJhckdhcDogOCxcclxuICAgIHRhYkJhclN0eWxlOiB7XHJcbiAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJyNmYWZhZmEnLFxyXG4gICAgICBjb2xvcjogJyM1YTVhNWEnLFxyXG4gICAgICAnZm9udC1zaXplJzogMTQsXHJcbiAgICAgIGJhY2tncm91bmRDb2xvckFjdGl2ZTogJyNmZmYnLFxyXG4gICAgICBjb2xvckFjdGl2ZTogJyMxODkwZmYnLFxyXG4gICAgfSxcclxuICAgIHRhYkJhckxpbmVTdHlsZToge1xyXG4gICAgICAnYmFja2dyb3VuZC1jb2xvcic6ICcjMTg5MGZmJyxcclxuICAgICAgaGVpZ2h0OiAzLFxyXG4gICAgfSxcclxuICAgIGFuaW1hdGVkOiB0cnVlLFxyXG4gICAgb25UYWJDbGljazogKCkgPT4gdm9pZCAwLFxyXG4gICAgb25DaGFuZ2U6IChfYWN0aXZlS2V5OiBzdHJpbmcgfCBudW1iZXIpID0+IHZvaWQgMCxcclxuICB9XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihcclxuICAgIGNvbmZpZzogSVRhYkNvbmZpZ1Byb3BzLFxyXG4gICkge1xyXG4gICAgdGhpcy5fX2luaXQoY29uZmlnKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX19pbml0KFxyXG4gICAgY29uZmlnOiBJVGFiQ29uZmlnUHJvcHMsXHJcbiAgKTogdm9pZCB7XHJcbiAgICB0aGlzLl9faW5pdFNldHRpbmdzKGNvbmZpZyk7XHJcbiAgICB0aGlzLnJlbmRlcigpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Yid5aeL5YyW6YWN572u6aG5XHJcbiAgICogQHBhcmFtIGNvbmZpZyDphY3nva7poblcclxuICAgKi9cclxuICBwcml2YXRlIF9faW5pdFNldHRpbmdzKFxyXG4gICAgY29uZmlnOiBJVGFiQ29uZmlnUHJvcHMsXHJcbiAgKTogdm9pZCB7XHJcbiAgICBjb25zdCB7IGRlZmF1bHRDb25maWcgfSA9IFRhYjtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBjb25maWcpIHtcclxuICAgICAgaWYgKGNvbmZpZy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBSZWZsZWN0LmdldChjb25maWcsIGtleSk7XHJcbiAgICAgICAgUmVmbGVjdC5zZXQoZGVmYXVsdENvbmZpZywga2V5LCB2YWx1ZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVuZGVyKCk6IHZvaWQge1xyXG4gICAgdGhpcy5oYW5kbGVNb3VudCgpO1xyXG4gICAgdGhpcy5oYW5kbGVTZXRTdHlsZSgpO1xyXG4gICAgdGhpcy5oYW5kbGVNb3VzZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5oyC6L29XHJcbiAgICovXHJcbiAgcHJpdmF0ZSBoYW5kbGVNb3VudCgpOiB2b2lkIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgY29udGFpbmVyLFxyXG4gICAgfSA9IFRhYi5kZWZhdWx0Q29uZmlnO1xyXG4gICAgY29uc3Qgb0NvbnRhaW5lciA9IHV0aWxpdHlET00uZ2V0RWxlKGNvbnRhaW5lcik7XHJcblxyXG4gICAgaWYgKG9Db250YWluZXIpIHtcclxuICAgICAgY29uc3Qgb1RlbXBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgb1RlbXBEaXYuaW5uZXJIVE1MID0gdGhpcy5oYW5kbGVDcmVhdGVET01UcmVlKCk7XHJcbiAgICAgIG9Db250YWluZXIuYXBwZW5kQ2hpbGQob1RlbXBEaXYpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBjb250YWluZXIgeW91IGhhdmUgcGFzc2VkIScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Yid5aeL5YyW5qC35byPXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBoYW5kbGVTZXRTdHlsZSgpOiB2b2lkIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgdGFiQmFyR2FwLFxyXG4gICAgICBkYXRhU291cmNlLFxyXG4gICAgICB0YWJCYXJTdHlsZSxcclxuICAgICAgdGFiQmFyTGluZVN0eWxlLFxyXG4gICAgICBjb250YWluZXIsXHJcbiAgICB9ID0gVGFiLmRlZmF1bHRDb25maWc7XHJcbiAgICBjb25zdCBvSWNvbkJveEFyciA9IHV0aWxpdHlET01cclxuICAgICAgLmdldEFsbEVsZSgnLnl5Zy1uYXYtaXRlbS1pY29uJykgYXMgYW55O1xyXG4gICAgY29uc3Qgb05hdkl0ZW0gPSB1dGlsaXR5RE9NXHJcbiAgICAgIC5nZXRFbGUoJy55eWctbmF2LWl0ZW0nKSBhcyBIVE1MTElFbGVtZW50O1xyXG4gICAgbGV0IG9TdHlsZSA9IHV0aWxpdHlET01cclxuICAgICAgLmdldEVsZSgnc3R5bGUnKTtcclxuXHJcbiAgICBpZiAoIW9TdHlsZSkge1xyXG4gICAgICBjb25zdCBvSGVhZCA9IHV0aWxpdHlET00uZ2V0RWxlKCdoZWFkJykgYXMgSFRNTEhlYWRFbGVtZW50O1xyXG4gICAgICBvU3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xyXG5cclxuICAgICAgb0hlYWQuYXBwZW5kQ2hpbGQob1N0eWxlKTtcclxuICAgIH1cclxuXHJcbiAgICBkYXRhU291cmNlLmZvckVhY2goKGl0ZW06IElUYWJEYXRhU291cmNlLCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgIGlmIChpdGVtLnRhYlBhbmVUaXRsZS5pY29uKSB7XHJcbiAgICAgICAgb0ljb25Cb3hBcnJbaW5kZXhdLmlubmVySFRNTCA9IGl0ZW0udGFiUGFuZVRpdGxlLmljb247XHJcbiAgICAgICAgdXRpbGl0eURPTS5zZXRDc3Mob0ljb25Cb3hBcnJbaW5kZXhdLCB7XHJcbiAgICAgICAgICBmbGV4OiAuNixcclxuICAgICAgICAgICd0ZXh0LWFsaWduJzogJ3JpZ2h0JyxcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB1dGlsaXR5RE9NLnNldENzcyhvSWNvbkJveEFycltpbmRleF0sIHtcclxuICAgICAgICAgIGRpc3BsYXk6ICdub25lJyxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIG9TdHlsZS5pbm5lclRleHQgKz0gYFxyXG4gICAgICAke2NvbnRhaW5lcn0gdWwsIGxpLCBwLCBoMSwgaDIsIGgzIHtcclxuICAgICAgICBtYXJnaW46IDA7XHJcbiAgICAgICAgcGFkZGluZzogMDtcclxuICAgICAgfVxyXG4gICAgICAke2NvbnRhaW5lcn0gdWwge1xyXG4gICAgICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcclxuICAgICAgfVxyXG4gICAgICAke2NvbnRhaW5lcn0gLnl5Zy10YWJzLXdyYXBwZXIge1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgfVxyXG4gICAgICAke2NvbnRhaW5lcn0gLnl5Zy10YWJzLW1haW4ge1xyXG4gICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgICAgcGFkZGluZzogMTBweCAwO1xyXG4gICAgICB9XHJcbiAgICAgICR7Y29udGFpbmVyfSAueXlnLXRhYnMtbWFpbi1iYXIge1xyXG5cclxuICAgICAgfVxyXG4gICAgICAke2NvbnRhaW5lcn0gLnl5Zy1iYXItbmF2LWNvbnRhaW5lciB7XHJcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgICAgICBoZWlnaHQ6IDUwcHg7XHJcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjY2M7XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6IDQ3cHg7XHJcbiAgICAgIH1cclxuICAgICAgJHtjb250YWluZXJ9IC55eWctbmF2LWxpc3QtYm94IHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICB9XHJcbiAgICAgICR7Y29udGFpbmVyfSAueXlnLW5hdi1pdGVtIHtcclxuICAgICAgICBmbGV4OiAxO1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAke3RhYkJhckdhcH1weDtcclxuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgY29sb3I6ICR7dGFiQmFyU3R5bGVbJ2NvbG9yJ10gfHwgJyM1YTVhNWEnfTtcclxuICAgICAgICBmb250LXNpemU6ICR7dGFiQmFyU3R5bGVbJ2ZvbnQtc2l6ZSddIHx8IDE0fXB4O1xyXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcclxuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgLjNzIGVhc2UtaW47XHJcbiAgICAgIH1cclxuICAgICAgLypcclxuICAgICAgICBiYXItaXRlbVxyXG4gICAgICAqL1xyXG4gICAgICR7Y29udGFpbmVyfSAueXlnLW5hdi1pdGVtLWljb24ge1xyXG4gICAgICAgIGZsZXg6ICR7MH07XHJcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgICB9XHJcbiAgICAgIC55eWctbmF2LWl0ZW0tdGV4dCB7XHJcbiAgICAgICAgZmxleDogMTtcclxuICAgICAgfVxyXG4gICAgICAke2NvbnRhaW5lcn0gLnl5Zy1uYXYtbGluZS1ib3gge1xyXG4gICAgICAgIHdpZHRoOiAke29OYXZJdGVtLmNsaWVudFdpZHRoIC8gZGF0YVNvdXJjZS5sZW5ndGggLSB0YWJCYXJHYXB9cHg7XHJcbiAgICAgICAgaGVpZ2h0OiAke3RhYkJhckxpbmVTdHlsZVsnaGVpZ2h0J10gfHwgM31weDtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RhYkJhckxpbmVTdHlsZVsnYmFja2dyb3VuZC1jb2xvciddIHx8ICcjMTg5MGZmJ307XHJcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIC4zcyBlYXNlLWluO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKiDlhoXlrrnmoYYgKi9cclxuICAgICAgJHtjb250YWluZXJ9IC55eWctdGFicy1tYWluLWJhciB7XHJcblxyXG4gICAgICB9XHJcbiAgICAgICR7Y29udGFpbmVyfSAueXlnLWNvbnRlbnQtdGFicGFuZS1jb250YWluZXIge1xyXG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgICAgICBwYWRkaW5nOiA1cHggMDtcclxuICAgICAgfVxyXG4gICAgICAke2NvbnRhaW5lcn0gLnl5Zy10YWJwYW5lLWxpc3Qge1xyXG4gICAgICAgIHdpZHRoOiAke2RhdGFTb3VyY2UubGVuZ3RoICogMTAwfSU7XHJcbiAgICAgIH1cclxuICAgICAgJHtjb250YWluZXJ9IC55eWctdGFicGFuZS1pdGVtIHtcclxuICAgICAgICBmbG9hdDogbGVmdDtcclxuICAgICAgICB3aWR0aDogJHsxMDAgLyBkYXRhU291cmNlLmxlbmd0aH0lO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKiB0eXBlICovXHJcbiAgICAgICR7Y29udGFpbmVyfSAueXlnLW5hdi1pdGVtLWxpbmUge1xyXG5cclxuICAgICAgfVxyXG4gICAgICAke2NvbnRhaW5lcn0gLnl5Zy1uYXYtaXRlbS1jYXJkIHtcclxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZThlOGU4O1xyXG4gICAgICAgIGJvcmRlci1ib3R0b206IDA7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4IDRweCAwIDA7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0YWJCYXJTdHlsZVsnYmFja2dyb3VuZC1jb2xvciddIHx8ICcjZmFmYWZhJ307XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qIOa0u+WKqOagt+W8j+exuyAqL1xyXG4gICAgICAke2NvbnRhaW5lcn0gLnl5Zy1uYXYtaXRlbS1jYXJkLWFjdGl2ZSB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0YWJCYXJTdHlsZVsnYmFja2dyb3VuZENvbG9yQWN0aXZlJ10gfHwgJyNmZmYnfTtcclxuICAgICAgICBjb2xvcjogJHt0YWJCYXJTdHlsZVsnY29sb3JBY3RpdmUnXSB8fCAnIzE4OTBmZid9O1xyXG4gICAgICB9XHJcbiAgICAgICR7Y29udGFpbmVyfSAueXlnLW5hdi1pdGVtLWxpbmUtYWN0aXZlIHtcclxuICAgICAgICBjb2xvcjogJHt0YWJCYXJTdHlsZVsnY29sb3JBY3RpdmUnXSB8fCAnIzE4OTBmZid9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKiBhbmltYXRlZCAqL1xyXG4gICAgICAke2NvbnRhaW5lcn0gLnl5Zy10YWJwYW5lLWxpc3QtYW5pbWF0ZWQge1xyXG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAuMnMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgIH1cclxuICAgIGA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDpvKDmoIfphY3nva7pobnnm7jlhbNcclxuICAgKi9cclxuICBwcml2YXRlIGhhbmRsZU1vdXNlKCk6IHZvaWQge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBtb3VzZSxcclxuICAgICAgdGFiQmFyR2FwLFxyXG4gICAgICB0eXBlLFxyXG4gICAgICBkZWZhdWx0QWN0aXZlS2V5LFxyXG4gICAgICBhbmltYXRlZCxcclxuICAgICAgb25UYWJDbGljayxcclxuICAgICAgb25DaGFuZ2UsXHJcbiAgICB9ID0gVGFiLmRlZmF1bHRDb25maWc7XHJcbiAgICBjb25zdCBwYW5lTGlzdCA9IHV0aWxpdHlET01cclxuICAgICAgLmdldEVsZSgnLnl5Zy10YWJwYW5lLWxpc3QnKSBhcyBIVE1MVUxpc3RFbGVtZW50O1xyXG4gICAgLy8gVE9ETzog6Kej5Yaz5rua5Yqo6Led56a7YnVnLCDkvb/nlKhgcGFuZUxpc3Rg54i257qn5a695bqmXHJcbiAgICBjb25zdCBwYW5lTGlzdFBhcmVudCA9IHV0aWxpdHlET01cclxuICAgICAgLmdldEVsZSgnLnl5Zy1jb250ZW50LXRhYnBhbmUtY29udGFpbmVyJykgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBjb25zdCBiYXJJdGVtcyA9IHV0aWxpdHlET01cclxuICAgICAgLmdldEFsbEVsZSgnLnl5Zy1uYXYtaXRlbScpIGFzIE5vZGVMaXN0T2Y8SFRNTExJRWxlbWVudD47XHJcbiAgICBjb25zdCBsaW5lQm94ID0gdXRpbGl0eURPTVxyXG4gICAgICAuZ2V0RWxlKCcueXlnLW5hdi1saW5lLWJveCcpO1xyXG5cclxuICAgIC8vIFRPRE86IOWIpOaWreS4jeWQjHR5cGXkuI3lkIxhY3RpdmXmoLflvI9cclxuICAgIGNvbnN0IHdoaWNoVHlwZUFjdGl2ZUNsYXNzOiBzdHJpbmcgPSB0eXBlID09PSAnbGluZSdcclxuICAgICAgPyAneXlnLW5hdi1pdGVtLWxpbmUtYWN0aXZlJ1xyXG4gICAgICA6ICd5eWctbmF2LWl0ZW0tY2FyZC1hY3RpdmUnO1xyXG4gICAgLy8gVE9ETzog5piv5ZCm5YW35pyJ5Yqo55S75pWI5p6cXHJcbiAgICBjb25zdCB3aGljaEFuaW1hdGVkQ2xhc3M6IHN0cmluZyA9IGFuaW1hdGVkXHJcbiAgICAgID8gJ3l5Zy10YWJwYW5lLWxpc3QtYW5pbWF0ZWQnXHJcbiAgICAgIDogJ3l5Zy10YWJwYW5lLWxpc3Qtbm9hbmltYXRlZCc7XHJcblxyXG5cclxuICAgIGxpbmVCb3ggJiYgdXRpbGl0eURPTS5zZXRDc3MobGluZUJveCwge1xyXG4gICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGVYKCR7XHJcbiAgICAgICAgbGluZUJveC5jbGllbnRXaWR0aCAqIChkZWZhdWx0QWN0aXZlS2V5IC0gMSkgKyB0YWJCYXJHYXAgKiAoZGVmYXVsdEFjdGl2ZUtleSAtIDEpXHJcbiAgICAgIH1weClgLFxyXG4gICAgfSk7XHJcblxyXG4gICAgdXRpbGl0eURPTVxyXG4gICAgICAuYWRkQ2xhc3MoXHJcbiAgICAgICAgYmFySXRlbXNbZGVmYXVsdEFjdGl2ZUtleSAtIDFdLFxyXG4gICAgICAgIHdoaWNoVHlwZUFjdGl2ZUNsYXNzXHJcbiAgICAgIClcclxuICAgICAgLnNldENzcyhwYW5lTGlzdCwge1xyXG4gICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVgoJHstKGRlZmF1bHRBY3RpdmVLZXkgLSAxKSAqIHBhbmVMaXN0UGFyZW50LmNsaWVudFdpZHRofXB4KWAsXHJcbiAgICAgIH0pXHJcbiAgICAgIC5hZGRDbGFzcyhwYW5lTGlzdCwgd2hpY2hBbmltYXRlZENsYXNzKTtcclxuXHJcbiAgICBiYXJJdGVtcy5mb3JFYWNoKChpdGVtOiBIVE1MTElFbGVtZW50LCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihtb3VzZSwgKCkgPT4ge1xyXG4gICAgICAgIC8vIOmSqeWtkFxyXG4gICAgICAgIG9uVGFiQ2xpY2sgJiYgb25UYWJDbGljaygpO1xyXG4gICAgICAgIG9uQ2hhbmdlICYmIG9uQ2hhbmdlKFxyXG4gICAgICAgICAgdXRpbGl0eURPTS5nZXRBdHRyKGl0ZW0sICdkYXRhLWlkJykgYXMgc3RyaW5nLFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGJhckl0ZW1zLmZvckVhY2goKGl0ZTogSFRNTExJRWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgdXRpbGl0eURPTS5yZW1vdmVDbGFzcyhpdGUsIHdoaWNoVHlwZUFjdGl2ZUNsYXNzKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBsaW5lQm94ICYmIHV0aWxpdHlET00uc2V0Q3NzKGxpbmVCb3gsIHtcclxuICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVgoJHtcclxuICAgICAgICAgICAgbGluZUJveC5jbGllbnRXaWR0aCAqIGluZGV4ICsgdGFiQmFyR2FwICogaW5kZXhcclxuICAgICAgICAgIH1weClgLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB1dGlsaXR5RE9NXHJcbiAgICAgICAgICAuYWRkQ2xhc3MoaXRlbSwgd2hpY2hUeXBlQWN0aXZlQ2xhc3MpXHJcbiAgICAgICAgICAuc2V0Q3NzKHBhbmVMaXN0LCB7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVgoJHstaW5kZXggKiBwYW5lTGlzdFBhcmVudC5jbGllbnRXaWR0aH1weClgLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZUNyZWF0ZURPTVRyZWUoKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgZGF0YVNvdXJjZSxcclxuICAgICAgdHlwZSxcclxuICAgIH0gPSBUYWIuZGVmYXVsdENvbmZpZztcclxuICAgIGxldCBuYXZTdHI6IHN0cmluZyA9ICcnO1xyXG4gICAgbGV0IGNvbnRlbnRTdHI6IHN0cmluZyA9ICcnO1xyXG5cclxuICAgIGlmIChkYXRhU291cmNlLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICBkYXRhU291cmNlLmZvckVhY2goKGl0ZW06IElUYWJEYXRhU291cmNlLCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgbmF2U3RyICs9IGBcclxuICAgICAgICAgIDxsaSBjbGFzcz1cInl5Zy1uYXYtaXRlbSAke1xyXG4gICAgICAgICAgICB0eXBlID09PSAnbGluZScgPyAneXlnLW5hdi1pdGVtLWxpbmUnIDogJ3l5Zy1uYXYtaXRlbS1jYXJkJ1xyXG4gICAgICAgICAgfVwiIGRhdGEtaWQ9JHtpbmRleCArIDF9PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwieXlnLW5hdi1pdGVtLWljb25cIj5cclxuICAgICAgICAgICAgICAke2l0ZW0udGFiUGFuZVRpdGxlLmljb259XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwieXlnLW5hdi1pdGVtLXRleHRcIj5cclxuICAgICAgICAgICAgICAke2l0ZW0udGFiUGFuZVRpdGxlLnRleHR9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9saT5cclxuICAgICAgICBgO1xyXG4gICAgICAgIGNvbnRlbnRTdHIgKz0gYFxyXG4gICAgICAgICAgPGxpIGNsYXNzPVwieXlnLXRhYnBhbmUtaXRlbVwiIGRhdGEtaWQ9JHtpbmRleCArIDF9PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwieXlnLXRhYnBhbmUtaXRlbS1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgJHtpdGVtLnRhYlBhbmVDb250ZW50LnRleHR9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9saT5cclxuICAgICAgICBgO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBuYXZCb3R0b21MaW5lU3RyOiBzdHJpbmcgPSBgXHJcbiAgICAgIDxkaXYgY2xhc3M9XCJ5eWctbmF2LWxpbmUtYm94XCI+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJ5eWctbmF2LWxpbmVcIj48L3NwYW4+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxuXHJcbiAgICBjb25zdCBodG1sOiBzdHJpbmcgPSBgXHJcbiAgICAgIDxkaXYgY2xhc3M9XCJ5eWctdGFicy13cmFwcGVyXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInl5Zy10YWJzLW1haW5cIj5cclxuICAgICAgICAgIDwhLS0g5a+86Iiq5a655ZmoIC0tPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInl5Zy10YWJzLW1haW4tYmFyXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ5eWctYmFyLW5hdi1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJ5eWctbmF2LWxpc3QtYm94XCI+XHJcbiAgICAgICAgICAgICAgICAke25hdlN0cn1cclxuICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICR7dHlwZSA9PT0gJ2xpbmUnID8gbmF2Qm90dG9tTGluZVN0ciA6ICcnfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPCEtLSDlhoXlrrnlrrnlmaggLS0+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwieXlnLXRhYnMtbWFpbi1jb250ZW50XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ5eWctY29udGVudC10YWJwYW5lLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cInl5Zy10YWJwYW5lLWxpc3RcIj5cclxuICAgICAgICAgICAgICAgICR7Y29udGVudFN0cn1cclxuICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIGA7XHJcblxyXG4gICAgcmV0dXJuIGh0bWw7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGludGVyZmFjZSBJU3RhdGljUGFpcnMge1xyXG4gIFtrZXk6IHN0cmluZ106IGFueTtcclxufTtcclxuZXhwb3J0IGludGVyZmFjZSBJVXRpbGl0eURPTVByb3BzIHtcclxuICBnZXRFbGUoc2lnbjogc3RyaW5nKTogSFRNTEVsZW1lbnQgfCBudWxsO1xyXG4gIGdldEFsbEVsZShzaWduOiBzdHJpbmcpOiBBcnJheUxpa2U8SFRNTEVsZW1lbnQ+IHwgbnVsbDtcclxuICBzZXRBdHRyKGVsZTogSFRNTEVsZW1lbnQsIG9wdGlvbnM6IElTdGF0aWNQYWlycyk6IE9taXRUaGlzUGFyYW1ldGVyPElVdGlsaXR5RE9NUHJvcHM+O1xyXG4gIHNldENzcyhlbGU6IEhUTUxFbGVtZW50LCBvcHRpb25zOiBJU3RhdGljUGFpcnMpOiBPbWl0VGhpc1BhcmFtZXRlcjxJVXRpbGl0eURPTVByb3BzPjtcclxuICBnZXRSYWRpYW4oYW5nbGU6IG51bWJlcik6IG51bWJlcjtcclxuICBnZXRBdHRyKGVsZTogSFRNTEVsZW1lbnQsIGtleTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbDtcclxuICBhZGRDbGFzcyhlbDogSFRNTEVsZW1lbnQsIGNsYXNzTmFtZTogc3RyaW5nKTogT21pdFRoaXNQYXJhbWV0ZXI8SVV0aWxpdHlET01Qcm9wcz47XHJcbiAgcmVtb3ZlQ2xhc3MoZWw6IEhUTUxFbGVtZW50LCBjbGFzc05hbWU6IHN0cmluZyk6IE9taXRUaGlzUGFyYW1ldGVyPElVdGlsaXR5RE9NUHJvcHM+O1xyXG4gIHRocm90dGxlKHRpbWU6IG51bWJlciwgY2FsbGJhY2s6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCk6IHZvaWQ7XHJcbiAgZ2V0RnVsbFJhbmRvbShtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIsXHJcbiAgZ2V0QW55UmFuZG9tKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlcjtcclxuXHJcbiAgaXNET00obm9kZTogYW55KTogYm9vbGVhbjtcclxuICBpc0Z1bmN0aW9uKGVsOiBhbnkpOiBib29sZWFuO1xyXG5cclxuICB0cmF2ZXJzYWxET01XaXRoQkZTKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGNhbGxiYWNrOiAobm9kZTogSFRNTEVsZW1lbnQpID0+IHZvaWQpOiB2b2lkO1xyXG4gIHRyYXZlcnNhbERPTVdpdGhERlMoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgY2FsbGJhY2s6IChub2RlOiBIVE1MRWxlbWVudCkgPT4gdm9pZCk6IHZvaWQ7XHJcbiAgdHJhdmVyc2FsRE9NV2l0aE5vZGVJdGVyYXRvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBjYWxsYmFjazogKG5vZGU6IEhUTUxFbGVtZW50KSA9PiB2b2lkKTogdm9pZDtcclxuICB0cmF2ZXJzYWxET01XaXRoVHJlZVdhbGtlcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBjYWxsYmFjazogKG5vZGU6IEhUTUxFbGVtZW50KSA9PiB2b2lkKTogdm9pZDtcclxufTtcclxuXHJcblxyXG5jb25zdCB1dGlsaXR5RE9NOiBJVXRpbGl0eURPTVByb3BzID0ge1xyXG4gIC8qKlxyXG4gICAqIOiOt+WPluaMh+WumuWNleS4qkRPTeWFg+e0oFxyXG4gICAqIEBwYXJhbSBzaWduIOS7u+aEj+mAieaLqeWZqFxyXG4gICAqL1xyXG4gIGdldEVsZShzaWduKSB7XHJcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzaWduKTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDojrflj5bmjIflrprnmoTmiYDmnIlET03lhYPntKBcclxuICAgKiBAcGFyYW0gc2lnbiDku7vmhI/pgInmi6nlmahcclxuICAgKi9cclxuICBnZXRBbGxFbGUoc2lnbikge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2lnbik7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog6K6+572u5Y2V5LiqRE9N5bGe5oCnXHJcbiAgICogQHBhcmFtIGVsZSDnm67moIdET01cclxuICAgKiBAcGFyYW0gb3B0aW9ucyDlsZ7mgKfplK7lgLzlr7lcclxuICAgKi9cclxuICBzZXRBdHRyKGVsZSwgb3B0aW9ucykge1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb3B0aW9ucykge1xyXG4gICAgICBlbGUuc2V0QXR0cmlidXRlKGtleSwgb3B0aW9uc1trZXldKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDorr7nva7ljZXkuKpET03moLflvI9cclxuICAgKiBAcGFyYW0gZWxlIOebruagh0RPTVxyXG4gICAqIEBwYXJhbSBvcHRpb25zIOagt+W8j+mUruWAvOWvuVxyXG4gICAqL1xyXG4gIHNldENzcyhlbGUsIG9wdGlvbnMpIHtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMpIHtcclxuICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBvcHRpb25zW2tleV07XHJcbiAgICAgICAgZWxlLnN0eWxlLmNzc1RleHQgKz0gYCR7a2V5fTogJHtlbGVtZW50fTtgO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+W5oyH5a6a6IyD5Zu05YaF55qE6ZqP5py65pW05pWwXHJcbiAgICogQHBhcmFtIG1pbiDlsI/ovrnnlYxcclxuICAgKiBAcGFyYW0gbWF4IOWkp+i+ueeVjFxyXG4gICAqL1xyXG4gIGdldEZ1bGxSYW5kb20obWluLCBtYXgpIHtcclxuICAgIHJldHVybiB+fihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW4pO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPluaMh+WumuiMg+WbtOWGheeahOmaj+acuuS7u+aEj+aVsFxyXG4gICAqIEBwYXJhbSBtaW4g5bCP6L6555WMXHJcbiAgICogQHBhcmFtIG1heCDlpKfovrnnlYxcclxuICAgKi9cclxuICBnZXRBbnlSYW5kb20obWluLCBtYXgpIHtcclxuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW47XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog6KeS5bqm6L2s5byn5bqmXHJcbiAgICogQHBhcmFtIGFuZ2xlIOinkuW6puWAvFxyXG4gICAqL1xyXG4gIGdldFJhZGlhbihhbmdsZSkge1xyXG4gICAgcmV0dXJuIChNYXRoLlBJIC8gMTgwKSAqIGFuZ2xlO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPlkRPTeeahOeJueWumuWxnuaAp+WAvFxyXG4gICAqIEBwYXJhbSBlbGUg55uu5qCHRE9NXHJcbiAgICogQHBhcmFtIGtleSDlsZ7mgKflkI1cclxuICAgKi9cclxuICBnZXRBdHRyKGVsZSwga2V5KSB7XHJcbiAgICByZXR1cm4gZWxlLmdldEF0dHJpYnV0ZShrZXkpO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOaMh+WumkRPTea3u+WKoOWNleS4quexu+WQjVxyXG4gICAqIEBwYXJhbSBlbCDnm67moIdET01cclxuICAgKiBAcGFyYW0gY2xhc3NOYW1lIOexu+WQjVxyXG4gICAqL1xyXG4gIGFkZENsYXNzKGVsLCBjbGFzc05hbWUpIHtcclxuICAgIGVsICYmIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDnp7vlh7rmjIflrppET03lhYPntKDnmoTljZXkuKrnsbvlkI1cclxuICAgKiBAcGFyYW0gZWwg55uu5qCHRE9NXHJcbiAgICogQHBhcmFtIGNsYXNzTmFtZSDnsbvlkI1cclxuICAgKi9cclxuICByZW1vdmVDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XHJcbiAgICBlbCAmJiBlbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog6IqC5rWB5Ye95pWwXHJcbiAgICogQHBhcmFtIHRpbWVzdGFtcCDml7bpl7TmiLNcclxuICAgKiBAcGFyYW0gY2FsbGJhY2sg5omn6KGM5Zue6LCDXHJcbiAgICovXHJcbiAgdGhyb3R0bGUodGltZXN0YW1wLCBjYWxsYmFjaykge1xyXG4gICAgbGV0IGxhc3RDbGlja1RpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgIHJldHVybiAoLi4uYXJnczogYW55W10pID0+IHtcclxuICAgICAgY29uc3QgY3VycmVudENsaWNrVGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICBpZiAoY3VycmVudENsaWNrVGltZSAtIGxhc3RDbGlja1RpbWUgPiB0aW1lc3RhbXApe1xyXG4gICAgICAgIGNhbGxiYWNrLmFwcGx5PFRoaXNUeXBlPGFueT4sIGFueVtdLCBhbnk+KGdsb2JhbFRoaXMsIGFyZ3MpO1xyXG4gICAgICAgIGxhc3RDbGlja1RpbWUgPSBjdXJyZW50Q2xpY2tUaW1lO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIOajgOafpeaYr+WQpkRPTeWFg+e0oFxyXG4gICAqIEBwYXJhbSBub2RlIOaMh+Wumuebruagh1xyXG4gICAqL1xyXG4gIGlzRE9NKG5vZGUpIHtcclxuICAgIHJldHVybiBub2RlXHJcbiAgICAgICYmIHR5cGVvZiBub2RlID09PSAnb2JqZWN0J1xyXG4gICAgICAmJiBub2RlLm5vZGVUeXBlID09PSAxO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOajgOafpeaYr+WQpuWHveaVsFxyXG4gICAqIEBwYXJhbSBlbGUg5Lu75oSP5YC8XHJcbiAgICovXHJcbiAgaXNGdW5jdGlvbihlbGUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgZWxlID09PSAnZnVuY3Rpb24nO1xyXG4gIH0sXHJcblxyXG5cclxuICAvKipcclxuICAgKiBCRlPpgY3ljobmjIflrppET03oioLngrlcclxuICAgKiBAcGFyYW0gY29udGFpbmVyIOmBjeWOhueahERPTeWuueWZqFxyXG4gICAqIEBwYXJhbSBjYWxsYmFjayDlm57osINcclxuICAgKi9cclxuICB0cmF2ZXJzYWxET01XaXRoQkZTKGNvbnRhaW5lciwgY2FsbGJhY2spIHtcclxuICAgIGlmICghdGhpcy5pc0RPTShjb250YWluZXIpKSB7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1JlcXVpcmUgYSBET00gZWxlbWVudCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHF1ZXVlOiBFbGVtZW50W10gPSBbY29udGFpbmVyXTtcclxuXHJcbiAgICB3aGlsZSAocXVldWUubGVuZ3RoKSB7XHJcbiAgICAgIGNvbnN0IG5vZGUgPSAocXVldWUuc2hpZnQoKSBhcyBIVE1MRWxlbWVudCk7XHJcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKG5vZGUpO1xyXG5cclxuICAgICAgY29uc3QgY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuIGFzIEFycmF5TGlrZTxFbGVtZW50PjtcclxuICAgICAgcXVldWUucHVzaCguLi4oQXJyYXkuZnJvbShjaGlsZHJlbikpKTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBERlPpgY3ljobmjIflrppET03oioLngrlcclxuICAgKiBAcGFyYW0gY29udGFpbmVyIOmBjeWOhueahERPTeWuueWZqFxyXG4gICAqIEBwYXJhbSBjYWxsYmFjayDlm57osINcclxuICAgKi9cclxuICB0cmF2ZXJzYWxET01XaXRoREZTKGNvbnRhaW5lciwgY2FsbGJhY2spIHtcclxuICAgIGlmICghdGhpcy5pc0RPTShjb250YWluZXIpKSB7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1JlcXVpcmUgYSBET00gZWxlbWVudCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGNvbnRhaW5lcik7XHJcblxyXG4gICAgX2FpZGVkVHJhdmVyc2FsKGNvbnRhaW5lci5jaGlsZHJlbik7XHJcblxyXG4gICAgZnVuY3Rpb24gX2FpZGVkVHJhdmVyc2FsKGNoaWxkcmVuOiBIVE1MQ29sbGVjdGlvbikge1xyXG4gICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMCwgZXZlcnk7IGV2ZXJ5ID0gY2hpbGRyZW5baSsrXTspIHtcclxuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhldmVyeSBhcyBIVE1MRWxlbWVudCk7XHJcbiAgICAgICAgX2FpZGVkVHJhdmVyc2FsKGV2ZXJ5LmNoaWxkcmVuKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIE5vZGVJdGVyYXRvcumBjeWOhuaMh+WumkRPTeiKgueCuVxyXG4gICAqIEBwYXJhbSBjb250YWluZXIg6YGN5Y6G55qERE9N5a655ZmoXHJcbiAgICogQHBhcmFtIGNhbGxiYWNrIOaJp+ihjOWbnuiwg1xyXG4gICAqL1xyXG4gIHRyYXZlcnNhbERPTVdpdGhOb2RlSXRlcmF0b3IoY29udGFpbmVyLCBjYWxsYmFjaykge1xyXG4gICAgaWYgKCF0aGlzLmlzRE9NKGNvbnRhaW5lcikpIHtcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUmVxdWlyZSBhIERPTSBlbGVtZW50Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgbm9kZUl0ZXJhdG9yOiBOb2RlSXRlcmF0b3IgPSBkb2N1bWVudC5jcmVhdGVOb2RlSXRlcmF0b3IoXHJcbiAgICAgIGNvbnRhaW5lcixcclxuICAgICAgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQsXHJcbiAgICApO1xyXG4gICAgbGV0IGN1cnJlbnROb2RlOiBOb2RlIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgd2hpbGUgKChjdXJyZW50Tm9kZSA9IG5vZGVJdGVyYXRvci5uZXh0Tm9kZSgpKSkge1xyXG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhjdXJyZW50Tm9kZSBhcyBIVE1MRWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogVHJlZVdhbGtlcumBjeWOhuaMh+WumkRPTeiKgueCuVxyXG4gICAqIEBwYXJhbSBjb250YWluZXIg6YGN5Y6G55qERE9N5a655ZmoXHJcbiAgICogQHBhcmFtIGNhbGxiYWNrIOaJp+ihjOWbnuiwg1xyXG4gICAqL1xyXG4gIHRyYXZlcnNhbERPTVdpdGhUcmVlV2Fsa2VyKGNvbnRhaW5lciwgY2FsbGJhY2spIHtcclxuICAgIGlmICghdGhpcy5pc0RPTShjb250YWluZXIpKSB7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1JlcXVpcmUgYSBET00gZWxlbWVudCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRyZWVXYWxrZXI6IFRyZWVXYWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKFxyXG4gICAgICBjb250YWluZXIsXHJcbiAgICAgIE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5ULFxyXG4gICAgKTtcclxuICAgIGxldCBjdXJyZW50Tm9kZTogTm9kZSB8IG51bGwgPSBudWxsO1xyXG5cclxuICAgIHdoaWxlICgoIGN1cnJlbnROb2RlID0gdHJlZVdhbGtlci5uZXh0Tm9kZSgpICkpIHtcclxuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKCBjdXJyZW50Tm9kZSBhcyBIVE1MRWxlbWVudCApKTtcclxuICAgIH1cclxuICB9LFxyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHV0aWxpdHlET007Il0sInNvdXJjZVJvb3QiOiIifQ==