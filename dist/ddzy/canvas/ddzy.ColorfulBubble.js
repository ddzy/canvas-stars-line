var ColorfulBubble=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.default=r.ColorfulBubble},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(2)),a=n(3),u=function(){function e(t){this.el=document.createElement("canvas"),this.pen=this.el.getContext("2d"),this.bubbleArr=[],this.mousePoint={x:e.defaultConfig.cvsWidth&&2*e.defaultConfig.cvsWidth,y:e.defaultConfig.cvsHeight&&2*e.defaultConfig.cvsHeight},this.__init__(t)}return e.prototype.__init__=function(e){this._initConfig(e),this._initCanvas(),this.render()},e.prototype._initConfig=function(t){for(var n in t){var r=Reflect.get(t,n);Reflect.set(e.defaultConfig,n,r)}},e.prototype._initCanvas=function(){this._initCanvasElAndPen(),this._initCanvasDefaultStyle()},e.prototype._initCanvasElAndPen=function(){var t=e.defaultConfig.container;if(!t)throw new TypeError("Please enter an valid container 游냥游냥游냥");var n=o.default.getEle(t);if(!n||1!==n.nodeType||"canvas"!==n.localName)throw new Error("Please enter an valid container 游냥游냥游냥");this.el=n,this.pen=this.el.getContext("2d")},e.prototype._initCanvasDefaultStyle=function(){var t=this.el,n=e.defaultConfig,r=n.cvsBgColor,i=n.cvsWidth,a=n.cvsHeight;o.default.setCss(t,{display:"block","background-color":r}),o.default.setAttr(t,{width:i,height:a})},e.prototype.handleCreateBubble=function(){var t=e.defaultConfig,n=new a.Bubble(r({},t,{pen:this.pen,mousePoint:this.mousePoint}));this.bubbleArr.push(n),n.draw()},e.prototype.handleMoveBubble=function(){var t=this,n=e.defaultConfig,r=n.cvsWidth,i=n.cvsHeight;this.pen.clearRect(0,0,r,i),this.bubbleArr.forEach(function(e){e.move(),e.draw()}),window.requestAnimationFrame(function(){t.handleMoveBubble()})},e.prototype.handleStretchBubbleByMouse=function(){var t=this,n=e.defaultConfig,r=n.cvsWidth,i=n.cvsHeight;this.el.addEventListener("mousemove",function(e){t.mousePoint.x=e.clientX,t.mousePoint.y=e.clientY}),this.el.addEventListener("mouseleave",function(){t.mousePoint.x=2*r,t.mousePoint.y=2*i})},e.prototype.render=function(){for(var t=e.defaultConfig,n=t.bubbleNum,r=t.allowMouse,i=0;i<n;i++)this.handleCreateBubble();this.handleMoveBubble(),r&&this.handleStretchBubbleByMouse()},e.defaultConfig={container:"body",cvsWidth:500,cvsHeight:500,cvsBgColor:"#000",bubbleNum:20,bubbleScaleRange:{min:3,max:5},bubbleExpandRange:50,bubbleOpacity:1,bubbleSpeed:1,bubbleColorArr:["#1890ff","#f5222d","#fa8c16","#faad14","#fadb14","#a0d911","#52c41a","#13c2c2","#2f5418","#722ed1","#eb2f96","#fa541c"],allowMouse:!0},e}();t.ColorfulBubble=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={getEle:function(e){return document.querySelector(e)},getAllEle:function(e){return document.querySelectorAll(e)},setAttr:function(e,t){for(var n in t)e.setAttribute(n,t[n]);return this},setCss:function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];e.style.cssText+=n+": "+r+";"}return this},getFullRandom:function(e,t){return~~(Math.random()*(t-e)+e)},getAnyRandom:function(e,t){return Math.random()*(t-e)+e},getRadian:function(e){return Math.PI/180*e},getAttr:function(e,t){return e.getAttribute(t)},addClass:function(e,t){return e&&e.classList.add(t),this},removeClass:function(e,t){return e&&e.classList.remove(t),this},throttle:function(e,t){var n=Date.now();return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=Date.now();o-n>e&&(t.apply(globalThis,r),n=o)}},isDOM:function(e){return e&&"object"==typeof e&&1===e.nodeType},isFunction:function(e){return"function"==typeof e},traversalDOMWithBFS:function(e,t){if(!this.isDOM(e))throw new TypeError("Require a DOM element");for(var n=[e];n.length;){var r=n.shift();t&&t(r);var i=r.children;n.push.apply(n,Array.from(i))}},traversalDOMWithDFS:function(e,t){if(!this.isDOM(e))throw new TypeError("Require a DOM element");t&&t(e),function e(n){if(0===n.length)return;for(var r=0,i=void 0;i=n[r++];)t&&t(i),e(i.children)}(e.children)},traversalDOMWithNodeIterator:function(e,t){if(!this.isDOM(e))throw new TypeError("Require a DOM element");for(var n=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT),r=null;r=n.nextNode();)t&&t(r)},traversalDOMWithTreeWalker:function(e,t){if(!this.isDOM(e))throw new TypeError("Require a DOM element");for(var n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT),r=null;r=n.nextNode();)t&&t(r)}};t.default=r},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(4)),o=function(){function e(t){var n=t.pen,r=t.cvsWidth,o=t.cvsHeight,a=t.bubbleSpeed,u=t.bubbleColorArr,l=t.bubbleScaleRange,s=t.bubbleOpacity,c=t.bubbleExpandRange,f=t.mousePoint;this.pen=n,this.cvsWidth=r,this.cvsHeight=o,this.centerPoint={x:i.default.getAnyRandom(0,r),y:i.default.getAnyRandom(0,o)},this.distance={x:i.default.getAnyRandom(-a,a),y:i.default.getAnyRandom(-a,a)},this.color=u[i.default.getFullRandom(0,u.length)],this.radius=i.default.getAnyRandom(l&&l.min,l&&l.max),this.opacity=s,e.BUBBLE_INITIAL_RADIUS=this.radius,this.bubbleExpandRange=c,this.mousePoint=f}return e.prototype.draw=function(){var e=this,t=e.pen,n=e.centerPoint,r=e.color,o=e.radius,a=e.opacity;t.save(),t.beginPath(),t.globalAlpha=a,t.fillStyle=r,t.arc(n.x,n.y,o,0,i.default.getRadian(360)),t.fill(),t.closePath(),t.restore()},e.prototype.move=function(){var t=this,n=t.cvsWidth,r=t.cvsHeight,i=t.mousePoint,o=t.bubbleExpandRange,a=t.centerPoint,u=t.distance,l=t.radius,s=Math.pow(a.x-i.x,2),c=Math.pow(a.y-i.y,2),f=Math.pow(s+c,.5);a.x+=u.x,a.y+=u.y,this.distance.x=a.x<l||a.x>n-l?-this.distance.x:this.distance.x,this.distance.y=a.y<l||a.y>r-l?-this.distance.y:this.distance.y,f<=o?this.radius+=1:f>o&&this.radius>e.BUBBLE_INITIAL_RADIUS&&(this.radius-=1)},e}();t.Bubble=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={getFullRandom:function(e,t){return~~(Math.random()*(t-e)+e)},getAnyRandom:function(e,t){return Math.random()*(t-e)+e},getRadian:function(e){return Math.PI/180*e}};t.default=r}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db2xvcmZ1bEJ1YmJsZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9Db2xvcmZ1bEJ1YmJsZS8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9Db2xvcmZ1bEJ1YmJsZS8uL3NyYy9kZHp5L2NhbnZhcy9jb2xvcmZ1bC1idWJibGUvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vQ29sb3JmdWxCdWJibGUvLi9zcmMvZGR6eS91dGlsaXR5L2RvbS9pbmRleC50cyIsIndlYnBhY2s6Ly9Db2xvcmZ1bEJ1YmJsZS8uL3NyYy9kZHp5L2NhbnZhcy9jb2xvcmZ1bC1idWJibGUvYnViYmxlL2J1YmJsZS50cyIsIndlYnBhY2s6Ly9Db2xvcmZ1bEJ1YmJsZS8uL3NyYy9kZHp5L3V0aWxpdHkvbnVtYmVyL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiaW5kZXhfMSIsImRlZmF1bHQiLCJDb2xvcmZ1bEJ1YmJsZSIsIl9faW1wb3J0RGVmYXVsdCIsImJ1YmJsZV8xIiwiY29uZmlnIiwidGhpcyIsImVsIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwicGVuIiwiZ2V0Q29udGV4dCIsImJ1YmJsZUFyciIsIm1vdXNlUG9pbnQiLCJ4IiwiZGVmYXVsdENvbmZpZyIsImN2c1dpZHRoIiwieSIsImN2c0hlaWdodCIsIl9faW5pdF9fIiwiX2luaXRDb25maWciLCJfaW5pdENhbnZhcyIsInJlbmRlciIsIlJlZmxlY3QiLCJzZXQiLCJfaW5pdENhbnZhc0VsQW5kUGVuIiwiX2luaXRDYW52YXNEZWZhdWx0U3R5bGUiLCJjb250YWluZXIiLCJUeXBlRXJyb3IiLCJvQ29udGFpbmVyIiwiZ2V0RWxlIiwibm9kZVR5cGUiLCJsb2NhbE5hbWUiLCJFcnJvciIsIl9hIiwiY3ZzQmdDb2xvciIsInNldENzcyIsImRpc3BsYXkiLCJiYWNrZ3JvdW5kLWNvbG9yIiwic2V0QXR0ciIsIndpZHRoIiwiaGVpZ2h0IiwiaGFuZGxlQ3JlYXRlQnViYmxlIiwiYnViYmxlIiwiQnViYmxlIiwiX19hc3NpZ24iLCJwdXNoIiwiZHJhdyIsImhhbmRsZU1vdmVCdWJibGUiLCJfdGhpcyIsImNsZWFyUmVjdCIsImZvckVhY2giLCJ2IiwibW92ZSIsIndpbmRvdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImhhbmRsZVN0cmV0Y2hCdWJibGVCeU1vdXNlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJjbGllbnRYIiwiY2xpZW50WSIsImJ1YmJsZU51bSIsImFsbG93TW91c2UiLCJidWJibGVTY2FsZVJhbmdlIiwibWluIiwibWF4IiwiYnViYmxlRXhwYW5kUmFuZ2UiLCJidWJibGVPcGFjaXR5IiwiYnViYmxlU3BlZWQiLCJidWJibGVDb2xvckFyciIsInV0aWxpdHlET00iLCJzaWduIiwicXVlcnlTZWxlY3RvciIsImdldEFsbEVsZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbGUiLCJvcHRpb25zIiwic2V0QXR0cmlidXRlIiwiZWxlbWVudCIsInN0eWxlIiwiY3NzVGV4dCIsImdldEZ1bGxSYW5kb20iLCJNYXRoIiwicmFuZG9tIiwiZ2V0QW55UmFuZG9tIiwiZ2V0UmFkaWFuIiwiYW5nbGUiLCJQSSIsImdldEF0dHIiLCJnZXRBdHRyaWJ1dGUiLCJhZGRDbGFzcyIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZUNsYXNzIiwicmVtb3ZlIiwidGhyb3R0bGUiLCJ0aW1lc3RhbXAiLCJjYWxsYmFjayIsImxhc3RDbGlja1RpbWUiLCJEYXRlIiwibm93IiwiYXJncyIsIl9pIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY3VycmVudENsaWNrVGltZSIsImFwcGx5IiwiZ2xvYmFsVGhpcyIsImlzRE9NIiwibm9kZSIsImlzRnVuY3Rpb24iLCJ0cmF2ZXJzYWxET01XaXRoQkZTIiwicXVldWUiLCJzaGlmdCIsImNoaWxkcmVuIiwiQXJyYXkiLCJmcm9tIiwidHJhdmVyc2FsRE9NV2l0aERGUyIsIl9haWRlZFRyYXZlcnNhbCIsImV2ZXJ5IiwidHJhdmVyc2FsRE9NV2l0aE5vZGVJdGVyYXRvciIsIm5vZGVJdGVyYXRvciIsImNyZWF0ZU5vZGVJdGVyYXRvciIsIk5vZGVGaWx0ZXIiLCJTSE9XX0VMRU1FTlQiLCJjdXJyZW50Tm9kZSIsIm5leHROb2RlIiwidHJhdmVyc2FsRE9NV2l0aFRyZWVXYWxrZXIiLCJ0cmVlV2Fsa2VyIiwiY3JlYXRlVHJlZVdhbGtlciIsImNlbnRlclBvaW50IiwiZGlzdGFuY2UiLCJjb2xvciIsInJhZGl1cyIsIm9wYWNpdHkiLCJCVUJCTEVfSU5JVElBTF9SQURJVVMiLCJzYXZlIiwiYmVnaW5QYXRoIiwiZ2xvYmFsQWxwaGEiLCJmaWxsU3R5bGUiLCJhcmMiLCJmaWxsIiwiY2xvc2VQYXRoIiwicmVzdG9yZSIsIm1vdXNlVG9CdWJibGVEaXN0YW5jZVgiLCJwb3ciLCJtb3VzZVRvQnViYmxlRGlzdGFuY2VZIiwibW91c2VUb0J1YmJsZURpc3RhbmNlIiwidXRpbGl0eU51bWJlciJdLCJtYXBwaW5ncyI6IitCQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFM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QUFtQyxRQUFlb0oiLCJmaWxlIjoiZGR6eS5Db2xvcmZ1bEJ1YmJsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCB7XHJcbiAgQ29sb3JmdWxCdWJibGUsXHJcbn0gZnJvbSAnLi9kZHp5L2NhbnZhcy9jb2xvcmZ1bC1idWJibGUvaW5kZXgnO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbG9yZnVsQnViYmxlOyIsImltcG9ydCB1dGlsaXR5RE9NIGZyb20gJy4uLy4uL3V0aWxpdHkvZG9tL2luZGV4JztcclxuaW1wb3J0IHsgQnViYmxlIH0gZnJvbSAnLi9idWJibGUvYnViYmxlJztcclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElDb2xvcmZ1bEJ1YmJsZUNvbmZpZ1Byb3BzIHtcclxuICBjb250YWluZXI/OiBzdHJpbmc7XHJcbiAgY3ZzV2lkdGg/OiBudW1iZXI7XHJcbiAgY3ZzSGVpZ2h0PzogbnVtYmVyO1xyXG4gIGN2c0JnQ29sb3I/OiBzdHJpbmc7XHJcbiAgYnViYmxlTnVtPzogbnVtYmVyO1xyXG4gIGJ1YmJsZVNjYWxlUmFuZ2U/OiBJU3RhdGljQ29sb3JmdWxCdWJibGVTY2FsZVJhbmdlUGFyYW1zO1xyXG4gIGJ1YmJsZUV4cGFuZFJhbmdlPzogbnVtYmVyO1xyXG4gIGJ1YmJsZU9wYWNpdHk/OiBudW1iZXI7XHJcbiAgYnViYmxlU3BlZWQ/OiBudW1iZXI7XHJcbiAgYWxsb3dNb3VzZT86IGJvb2xlYW47XHJcbiAgYnViYmxlQ29sb3JBcnI/OiBzdHJpbmdbXTtcclxufTtcclxuZXhwb3J0IGludGVyZmFjZSBJU3RhdGljQ29sb3JmdWxCdWJibGVTY2FsZVJhbmdlUGFyYW1zIHtcclxuICBtaW46IG51bWJlcixcclxuICBtYXg6IG51bWJlcixcclxufTtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQ29sb3JmdWxCdWJibGUge1xyXG5cclxuICBwdWJsaWMgc3RhdGljIGRlZmF1bHRDb25maWcgPSB7XHJcbiAgICBjb250YWluZXI6ICdib2R5JyxcclxuICAgIGN2c1dpZHRoOiA1MDAsXHJcbiAgICBjdnNIZWlnaHQ6IDUwMCxcclxuICAgIGN2c0JnQ29sb3I6ICcjMDAwJyxcclxuICAgIGJ1YmJsZU51bTogMjAsXHJcbiAgICBidWJibGVTY2FsZVJhbmdlOiB7XHJcbiAgICAgIG1pbjogMyxcclxuICAgICAgbWF4OiA1LFxyXG4gICAgfSxcclxuICAgIGJ1YmJsZUV4cGFuZFJhbmdlOiA1MCxcclxuICAgIGJ1YmJsZU9wYWNpdHk6IDEsXHJcbiAgICBidWJibGVTcGVlZDogMSxcclxuICAgIGJ1YmJsZUNvbG9yQXJyOiBbXHJcbiAgICAgICcjMTg5MGZmJywgJyNmNTIyMmQnLCAnI2ZhOGMxNicsICcjZmFhZDE0JyxcclxuICAgICAgJyNmYWRiMTQnLCAnI2EwZDkxMScsICcjNTJjNDFhJywgJyMxM2MyYzInLFxyXG4gICAgICAnIzJmNTQxOCcsICcjNzIyZWQxJywgJyNlYjJmOTYnLCAnI2ZhNTQxYycsXHJcbiAgICBdLFxyXG4gICAgYWxsb3dNb3VzZTogdHJ1ZSxcclxuICB9O1xyXG5cclxuICBwcml2YXRlIGVsOiBIVE1MQ2FudmFzRWxlbWVudCA9IChcclxuICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXHJcbiAgKTtcclxuICBwcml2YXRlIHBlbiA9IChcclxuICAgIHRoaXMuZWwuZ2V0Q29udGV4dCgnMmQnKSBhcyBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkRcclxuICApO1xyXG5cclxuICBwcml2YXRlIGJ1YmJsZUFycjogQnViYmxlW10gPSBbXTtcclxuICBwcml2YXRlIG1vdXNlUG9pbnQ6IHtcclxuICAgIHg6IG51bWJlcixcclxuICAgIHk6IG51bWJlcixcclxuICB9ID0ge1xyXG4gICAgeDogQ29sb3JmdWxCdWJibGUuZGVmYXVsdENvbmZpZy5jdnNXaWR0aCAmJiBDb2xvcmZ1bEJ1YmJsZS5kZWZhdWx0Q29uZmlnLmN2c1dpZHRoICogMixcclxuICAgIHk6IENvbG9yZnVsQnViYmxlLmRlZmF1bHRDb25maWcuY3ZzSGVpZ2h0ICYmIENvbG9yZnVsQnViYmxlLmRlZmF1bHRDb25maWcuY3ZzSGVpZ2h0ICogMixcclxuICB9O1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoXHJcbiAgICBjb25maWc6IElDb2xvcmZ1bEJ1YmJsZUNvbmZpZ1Byb3BzLFxyXG4gICkge1xyXG4gICAgdGhpcy5fX2luaXRfXyhjb25maWcpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfX2luaXRfXyhcclxuICAgIGNvbmZpZzogSUNvbG9yZnVsQnViYmxlQ29uZmlnUHJvcHMsXHJcbiAgKTogdm9pZCB7XHJcbiAgICB0aGlzLl9pbml0Q29uZmlnKGNvbmZpZyk7XHJcbiAgICB0aGlzLl9pbml0Q2FudmFzKCk7XHJcbiAgICB0aGlzLnJlbmRlcigpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfaW5pdENvbmZpZyhcclxuICAgIGNvbmZpZzogSUNvbG9yZnVsQnViYmxlQ29uZmlnUHJvcHMsXHJcbiAgKTogdm9pZCB7XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBjb25maWcpIHtcclxuICAgICAgY29uc3QgdmFsdWUgPSBSZWZsZWN0LmdldChjb25maWcsIGtleSk7XHJcbiAgICAgIFJlZmxlY3Quc2V0KENvbG9yZnVsQnViYmxlLmRlZmF1bHRDb25maWcsIGtleSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Yid5aeL5YyWY2FudmFz55u45YWzXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBfaW5pdENhbnZhcygpOiB2b2lkIHtcclxuICAgIHRoaXMuX2luaXRDYW52YXNFbEFuZFBlbigpO1xyXG4gICAgdGhpcy5faW5pdENhbnZhc0RlZmF1bHRTdHlsZSgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfaW5pdENhbnZhc0VsQW5kUGVuKCk6IHZvaWQge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBjb250YWluZXIsXHJcbiAgICB9ID0gQ29sb3JmdWxCdWJibGUuZGVmYXVsdENvbmZpZztcclxuXHJcbiAgICBpZiAoIGNvbnRhaW5lciApIHtcclxuICAgICAgbGV0IG9Db250YWluZXIgPSB1dGlsaXR5RE9NLmdldEVsZShjb250YWluZXIpO1xyXG5cclxuICAgICAgaWYgKCBvQ29udGFpbmVyICYmIG9Db250YWluZXIubm9kZVR5cGUgPT09IDEgJiYgb0NvbnRhaW5lci5sb2NhbE5hbWUgPT09ICdjYW52YXMnICkge1xyXG4gICAgICAgIHRoaXMuZWwgPSAob0NvbnRhaW5lciBhcyBIVE1MQ2FudmFzRWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5wZW4gPSAoXHJcbiAgICAgICAgICB0aGlzLmVsLmdldENvbnRleHQoJzJkJykgYXMgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEXHJcbiAgICAgICAgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBlbnRlciBhbiB2YWxpZCBjb250YWluZXIg8J+Qt/CfkLfwn5C3JylcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUGxlYXNlIGVudGVyIGFuIHZhbGlkIGNvbnRhaW5lciDwn5C38J+Qt/CfkLcnKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Yid5aeL5YyWY2FudmFz6buY6K6k5qC35byPXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBfaW5pdENhbnZhc0RlZmF1bHRTdHlsZSgpOiB2b2lkIHtcclxuICAgIGNvbnN0IHsgZWwgfSA9IHRoaXM7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGN2c0JnQ29sb3IsXHJcbiAgICAgIGN2c1dpZHRoLFxyXG4gICAgICBjdnNIZWlnaHQsXHJcbiAgICB9ID0gQ29sb3JmdWxCdWJibGUuZGVmYXVsdENvbmZpZztcclxuXHJcbiAgICB1dGlsaXR5RE9NLnNldENzcyhlbCwge1xyXG4gICAgICBkaXNwbGF5OiAnYmxvY2snLFxyXG4gICAgICAnYmFja2dyb3VuZC1jb2xvcic6IGN2c0JnQ29sb3IsXHJcbiAgICB9KTtcclxuICAgIHV0aWxpdHlET00uc2V0QXR0cihlbCwge1xyXG4gICAgICB3aWR0aDogY3ZzV2lkdGgsXHJcbiAgICAgIGhlaWdodDogY3ZzSGVpZ2h0LFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDlrp7kvovljJbmjIflrprmsJTms6FcclxuICAgKi9cclxuICBwcml2YXRlIGhhbmRsZUNyZWF0ZUJ1YmJsZSgpOiB2b2lkIHtcclxuICAgIGNvbnN0IGRlZmF1bHRDb25maWcgPSBDb2xvcmZ1bEJ1YmJsZS5kZWZhdWx0Q29uZmlnO1xyXG5cclxuICAgIGNvbnN0IGJ1YmJsZTogQnViYmxlID0gbmV3IEJ1YmJsZSh7XHJcbiAgICAgIC4uLmRlZmF1bHRDb25maWcsXHJcbiAgICAgIHBlbjogdGhpcy5wZW4sXHJcbiAgICAgIG1vdXNlUG9pbnQ6IHRoaXMubW91c2VQb2ludCxcclxuICAgIH0pO1xyXG4gICAgdGhpcy5idWJibGVBcnIucHVzaChidWJibGUpO1xyXG4gICAgYnViYmxlLmRyYXcoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlTW92ZUJ1YmJsZSgpOiB2b2lkIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgY3ZzV2lkdGgsXHJcbiAgICAgIGN2c0hlaWdodCxcclxuICAgIH0gPSBDb2xvcmZ1bEJ1YmJsZS5kZWZhdWx0Q29uZmlnO1xyXG5cclxuICAgIHRoaXMucGVuLmNsZWFyUmVjdCgwLCAwLCBjdnNXaWR0aCwgY3ZzSGVpZ2h0KTtcclxuICAgIHRoaXMuYnViYmxlQXJyLmZvckVhY2goKHYpID0+IHtcclxuICAgICAgdi5tb3ZlKCk7XHJcbiAgICAgIHYuZHJhdygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuaGFuZGxlTW92ZUJ1YmJsZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZVN0cmV0Y2hCdWJibGVCeU1vdXNlKCk6IHZvaWQge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBjdnNXaWR0aCxcclxuICAgICAgY3ZzSGVpZ2h0LFxyXG4gICAgfSA9IENvbG9yZnVsQnViYmxlLmRlZmF1bHRDb25maWc7XHJcblxyXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZSkgPT4ge1xyXG4gICAgICB0aGlzLm1vdXNlUG9pbnQueCA9IGUuY2xpZW50WDtcclxuICAgICAgdGhpcy5tb3VzZVBvaW50LnkgPSBlLmNsaWVudFk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMubW91c2VQb2ludC54ID0gY3ZzV2lkdGggKiAyO1xyXG4gICAgICB0aGlzLm1vdXNlUG9pbnQueSA9IGN2c0hlaWdodCAqIDI7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZW5kZXIoKTogdm9pZCB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGJ1YmJsZU51bSxcclxuICAgICAgYWxsb3dNb3VzZSxcclxuICAgIH0gPSBDb2xvcmZ1bEJ1YmJsZS5kZWZhdWx0Q29uZmlnO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnViYmxlTnVtOyBpKyspIHtcclxuICAgICAgdGhpcy5oYW5kbGVDcmVhdGVCdWJibGUoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmhhbmRsZU1vdmVCdWJibGUoKTtcclxuXHJcbiAgICBhbGxvd01vdXNlICYmIHRoaXMuaGFuZGxlU3RyZXRjaEJ1YmJsZUJ5TW91c2UoKTtcclxuICB9XHJcbn0iLCJleHBvcnQgaW50ZXJmYWNlIElTdGF0aWNQYWlycyB7XHJcbiAgW2tleTogc3RyaW5nXTogYW55O1xyXG59O1xyXG5leHBvcnQgaW50ZXJmYWNlIElVdGlsaXR5RE9NUHJvcHMge1xyXG4gIGdldEVsZShzaWduOiBzdHJpbmcpOiBIVE1MRWxlbWVudCB8IG51bGw7XHJcbiAgZ2V0QWxsRWxlKHNpZ246IHN0cmluZyk6IEFycmF5TGlrZTxIVE1MRWxlbWVudD4gfCBudWxsO1xyXG4gIHNldEF0dHIoZWxlOiBIVE1MRWxlbWVudCwgb3B0aW9uczogSVN0YXRpY1BhaXJzKTogT21pdFRoaXNQYXJhbWV0ZXI8SVV0aWxpdHlET01Qcm9wcz47XHJcbiAgc2V0Q3NzKGVsZTogSFRNTEVsZW1lbnQsIG9wdGlvbnM6IElTdGF0aWNQYWlycyk6IE9taXRUaGlzUGFyYW1ldGVyPElVdGlsaXR5RE9NUHJvcHM+O1xyXG4gIGdldFJhZGlhbihhbmdsZTogbnVtYmVyKTogbnVtYmVyO1xyXG4gIGdldEF0dHIoZWxlOiBIVE1MRWxlbWVudCwga2V5OiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsO1xyXG4gIGFkZENsYXNzKGVsOiBIVE1MRWxlbWVudCwgY2xhc3NOYW1lOiBzdHJpbmcpOiBPbWl0VGhpc1BhcmFtZXRlcjxJVXRpbGl0eURPTVByb3BzPjtcclxuICByZW1vdmVDbGFzcyhlbDogSFRNTEVsZW1lbnQsIGNsYXNzTmFtZTogc3RyaW5nKTogT21pdFRoaXNQYXJhbWV0ZXI8SVV0aWxpdHlET01Qcm9wcz47XHJcbiAgdGhyb3R0bGUodGltZTogbnVtYmVyLCBjYWxsYmFjazogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkKTogdm9pZDtcclxuICBnZXRGdWxsUmFuZG9tKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlcixcclxuICBnZXRBbnlSYW5kb20obWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyO1xyXG5cclxuICBpc0RPTShub2RlOiBhbnkpOiBib29sZWFuO1xyXG4gIGlzRnVuY3Rpb24oZWw6IGFueSk6IGJvb2xlYW47XHJcblxyXG4gIHRyYXZlcnNhbERPTVdpdGhCRlMoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgY2FsbGJhY2s6IChub2RlOiBIVE1MRWxlbWVudCkgPT4gdm9pZCk6IHZvaWQ7XHJcbiAgdHJhdmVyc2FsRE9NV2l0aERGUyhjb250YWluZXI6IEhUTUxFbGVtZW50LCBjYWxsYmFjazogKG5vZGU6IEhUTUxFbGVtZW50KSA9PiB2b2lkKTogdm9pZDtcclxuICB0cmF2ZXJzYWxET01XaXRoTm9kZUl0ZXJhdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGNhbGxiYWNrOiAobm9kZTogSFRNTEVsZW1lbnQpID0+IHZvaWQpOiB2b2lkO1xyXG4gIHRyYXZlcnNhbERPTVdpdGhUcmVlV2Fsa2VyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGNhbGxiYWNrOiAobm9kZTogSFRNTEVsZW1lbnQpID0+IHZvaWQpOiB2b2lkO1xyXG59O1xyXG5cclxuXHJcbmNvbnN0IHV0aWxpdHlET006IElVdGlsaXR5RE9NUHJvcHMgPSB7XHJcbiAgLyoqXHJcbiAgICog6I635Y+W5oyH5a6a5Y2V5LiqRE9N5YWD57SgXHJcbiAgICogQHBhcmFtIHNpZ24g5Lu75oSP6YCJ5oup5ZmoXHJcbiAgICovXHJcbiAgZ2V0RWxlKHNpZ24pIHtcclxuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNpZ24pO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPluaMh+WumueahOaJgOaciURPTeWFg+e0oFxyXG4gICAqIEBwYXJhbSBzaWduIOS7u+aEj+mAieaLqeWZqFxyXG4gICAqL1xyXG4gIGdldEFsbEVsZShzaWduKSB7XHJcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzaWduKTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDorr7nva7ljZXkuKpET03lsZ7mgKdcclxuICAgKiBAcGFyYW0gZWxlIOebruagh0RPTVxyXG4gICAqIEBwYXJhbSBvcHRpb25zIOWxnuaAp+mUruWAvOWvuVxyXG4gICAqL1xyXG4gIHNldEF0dHIoZWxlLCBvcHRpb25zKSB7XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvcHRpb25zKSB7XHJcbiAgICAgIGVsZS5zZXRBdHRyaWJ1dGUoa2V5LCBvcHRpb25zW2tleV0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOiuvue9ruWNleS4qkRPTeagt+W8j1xyXG4gICAqIEBwYXJhbSBlbGUg55uu5qCHRE9NXHJcbiAgICogQHBhcmFtIG9wdGlvbnMg5qC35byP6ZSu5YC85a+5XHJcbiAgICovXHJcbiAgc2V0Q3NzKGVsZSwgb3B0aW9ucykge1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb3B0aW9ucykge1xyXG4gICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IG9wdGlvbnNba2V5XTtcclxuICAgICAgICBlbGUuc3R5bGUuY3NzVGV4dCArPSBgJHtrZXl9OiAke2VsZW1lbnR9O2A7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDojrflj5bmjIflrprojIPlm7TlhoXnmoTpmo/mnLrmlbTmlbBcclxuICAgKiBAcGFyYW0gbWluIOWwj+i+ueeVjFxyXG4gICAqIEBwYXJhbSBtYXgg5aSn6L6555WMXHJcbiAgICovXHJcbiAgZ2V0RnVsbFJhbmRvbShtaW4sIG1heCkge1xyXG4gICAgcmV0dXJuIH5+KE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbik7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+W5oyH5a6a6IyD5Zu05YaF55qE6ZqP5py65Lu75oSP5pWwXHJcbiAgICogQHBhcmFtIG1pbiDlsI/ovrnnlYxcclxuICAgKiBAcGFyYW0gbWF4IOWkp+i+ueeVjFxyXG4gICAqL1xyXG4gIGdldEFueVJhbmRvbShtaW4sIG1heCkge1xyXG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDop5LluqbovazlvKfluqZcclxuICAgKiBAcGFyYW0gYW5nbGUg6KeS5bqm5YC8XHJcbiAgICovXHJcbiAgZ2V0UmFkaWFuKGFuZ2xlKSB7XHJcbiAgICByZXR1cm4gKE1hdGguUEkgLyAxODApICogYW5nbGU7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+WRE9N55qE54m55a6a5bGe5oCn5YC8XHJcbiAgICogQHBhcmFtIGVsZSDnm67moIdET01cclxuICAgKiBAcGFyYW0ga2V5IOWxnuaAp+WQjVxyXG4gICAqL1xyXG4gIGdldEF0dHIoZWxlLCBrZXkpIHtcclxuICAgIHJldHVybiBlbGUuZ2V0QXR0cmlidXRlKGtleSk7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog5oyH5a6aRE9N5re75Yqg5Y2V5Liq57G75ZCNXHJcbiAgICogQHBhcmFtIGVsIOebruagh0RPTVxyXG4gICAqIEBwYXJhbSBjbGFzc05hbWUg57G75ZCNXHJcbiAgICovXHJcbiAgYWRkQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xyXG4gICAgZWwgJiYgZWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOenu+WHuuaMh+WumkRPTeWFg+e0oOeahOWNleS4quexu+WQjVxyXG4gICAqIEBwYXJhbSBlbCDnm67moIdET01cclxuICAgKiBAcGFyYW0gY2xhc3NOYW1lIOexu+WQjVxyXG4gICAqL1xyXG4gIHJlbW92ZUNsYXNzKGVsLCBjbGFzc05hbWUpIHtcclxuICAgIGVsICYmIGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDoioLmtYHlh73mlbBcclxuICAgKiBAcGFyYW0gdGltZXN0YW1wIOaXtumXtOaIs1xyXG4gICAqIEBwYXJhbSBjYWxsYmFjayDmiafooYzlm57osINcclxuICAgKi9cclxuICB0aHJvdHRsZSh0aW1lc3RhbXAsIGNhbGxiYWNrKSB7XHJcbiAgICBsZXQgbGFzdENsaWNrVGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgcmV0dXJuICguLi5hcmdzOiBhbnlbXSkgPT4ge1xyXG4gICAgICBjb25zdCBjdXJyZW50Q2xpY2tUaW1lID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgIGlmIChjdXJyZW50Q2xpY2tUaW1lIC0gbGFzdENsaWNrVGltZSA+IHRpbWVzdGFtcCl7XHJcbiAgICAgICAgY2FsbGJhY2suYXBwbHk8VGhpc1R5cGU8YW55PiwgYW55W10sIGFueT4oZ2xvYmFsVGhpcywgYXJncyk7XHJcbiAgICAgICAgbGFzdENsaWNrVGltZSA9IGN1cnJlbnRDbGlja1RpbWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICog5qOA5p+l5piv5ZCmRE9N5YWD57SgXHJcbiAgICogQHBhcmFtIG5vZGUg5oyH5a6a55uu5qCHXHJcbiAgICovXHJcbiAgaXNET00obm9kZSkge1xyXG4gICAgcmV0dXJuIG5vZGVcclxuICAgICAgJiYgdHlwZW9mIG5vZGUgPT09ICdvYmplY3QnXHJcbiAgICAgICYmIG5vZGUubm9kZVR5cGUgPT09IDE7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog5qOA5p+l5piv5ZCm5Ye95pWwXHJcbiAgICogQHBhcmFtIGVsZSDku7vmhI/lgLxcclxuICAgKi9cclxuICBpc0Z1bmN0aW9uKGVsZSkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBlbGUgPT09ICdmdW5jdGlvbic7XHJcbiAgfSxcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIEJGU+mBjeWOhuaMh+WumkRPTeiKgueCuVxyXG4gICAqIEBwYXJhbSBjb250YWluZXIg6YGN5Y6G55qERE9N5a655ZmoXHJcbiAgICogQHBhcmFtIGNhbGxiYWNrIOWbnuiwg1xyXG4gICAqL1xyXG4gIHRyYXZlcnNhbERPTVdpdGhCRlMoY29udGFpbmVyLCBjYWxsYmFjaykge1xyXG4gICAgaWYgKCF0aGlzLmlzRE9NKGNvbnRhaW5lcikpIHtcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUmVxdWlyZSBhIERPTSBlbGVtZW50Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcXVldWU6IEVsZW1lbnRbXSA9IFtjb250YWluZXJdO1xyXG5cclxuICAgIHdoaWxlIChxdWV1ZS5sZW5ndGgpIHtcclxuICAgICAgY29uc3Qgbm9kZSA9IChxdWV1ZS5zaGlmdCgpIGFzIEhUTUxFbGVtZW50KTtcclxuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sobm9kZSk7XHJcblxyXG4gICAgICBjb25zdCBjaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW4gYXMgQXJyYXlMaWtlPEVsZW1lbnQ+O1xyXG4gICAgICBxdWV1ZS5wdXNoKC4uLihBcnJheS5mcm9tKGNoaWxkcmVuKSkpO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIERGU+mBjeWOhuaMh+WumkRPTeiKgueCuVxyXG4gICAqIEBwYXJhbSBjb250YWluZXIg6YGN5Y6G55qERE9N5a655ZmoXHJcbiAgICogQHBhcmFtIGNhbGxiYWNrIOWbnuiwg1xyXG4gICAqL1xyXG4gIHRyYXZlcnNhbERPTVdpdGhERlMoY29udGFpbmVyLCBjYWxsYmFjaykge1xyXG4gICAgaWYgKCF0aGlzLmlzRE9NKGNvbnRhaW5lcikpIHtcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUmVxdWlyZSBhIERPTSBlbGVtZW50Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soY29udGFpbmVyKTtcclxuXHJcbiAgICBfYWlkZWRUcmF2ZXJzYWwoY29udGFpbmVyLmNoaWxkcmVuKTtcclxuXHJcbiAgICBmdW5jdGlvbiBfYWlkZWRUcmF2ZXJzYWwoY2hpbGRyZW46IEhUTUxDb2xsZWN0aW9uKSB7XHJcbiAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwLCBldmVyeTsgZXZlcnkgPSBjaGlsZHJlbltpKytdOykge1xyXG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGV2ZXJ5IGFzIEhUTUxFbGVtZW50KTtcclxuICAgICAgICBfYWlkZWRUcmF2ZXJzYWwoZXZlcnkuY2hpbGRyZW4pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogTm9kZUl0ZXJhdG9y6YGN5Y6G5oyH5a6aRE9N6IqC54K5XHJcbiAgICogQHBhcmFtIGNvbnRhaW5lciDpgY3ljobnmoRET03lrrnlmahcclxuICAgKiBAcGFyYW0gY2FsbGJhY2sg5omn6KGM5Zue6LCDXHJcbiAgICovXHJcbiAgdHJhdmVyc2FsRE9NV2l0aE5vZGVJdGVyYXRvcihjb250YWluZXIsIGNhbGxiYWNrKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNET00oY29udGFpbmVyKSkge1xyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdSZXF1aXJlIGEgRE9NIGVsZW1lbnQnKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBub2RlSXRlcmF0b3I6IE5vZGVJdGVyYXRvciA9IGRvY3VtZW50LmNyZWF0ZU5vZGVJdGVyYXRvcihcclxuICAgICAgY29udGFpbmVyLFxyXG4gICAgICBOb2RlRmlsdGVyLlNIT1dfRUxFTUVOVCxcclxuICAgICk7XHJcbiAgICBsZXQgY3VycmVudE5vZGU6IE5vZGUgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgICB3aGlsZSAoKGN1cnJlbnROb2RlID0gbm9kZUl0ZXJhdG9yLm5leHROb2RlKCkpKSB7XHJcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGN1cnJlbnROb2RlIGFzIEhUTUxFbGVtZW50KTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBUcmVlV2Fsa2Vy6YGN5Y6G5oyH5a6aRE9N6IqC54K5XHJcbiAgICogQHBhcmFtIGNvbnRhaW5lciDpgY3ljobnmoRET03lrrnlmahcclxuICAgKiBAcGFyYW0gY2FsbGJhY2sg5omn6KGM5Zue6LCDXHJcbiAgICovXHJcbiAgdHJhdmVyc2FsRE9NV2l0aFRyZWVXYWxrZXIoY29udGFpbmVyLCBjYWxsYmFjaykge1xyXG4gICAgaWYgKCF0aGlzLmlzRE9NKGNvbnRhaW5lcikpIHtcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUmVxdWlyZSBhIERPTSBlbGVtZW50Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdHJlZVdhbGtlcjogVHJlZVdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoXHJcbiAgICAgIGNvbnRhaW5lcixcclxuICAgICAgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQsXHJcbiAgICApO1xyXG4gICAgbGV0IGN1cnJlbnROb2RlOiBOb2RlIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgd2hpbGUgKCggY3VycmVudE5vZGUgPSB0cmVlV2Fsa2VyLm5leHROb2RlKCkgKSkge1xyXG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygoIGN1cnJlbnROb2RlIGFzIEhUTUxFbGVtZW50ICkpO1xyXG4gICAgfVxyXG4gIH0sXHJcbn07XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXRpbGl0eURPTTsiLCJpbXBvcnQgdXRpbGl0eU51bWJlciBmcm9tICcuLi8uLi8uLi91dGlsaXR5L251bWJlci9pbmRleCc7XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJQnViYmxlUHJvcHMge1xyXG4gIHBlbjogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxyXG4gIGN2c1dpZHRoOiBudW1iZXI7XHJcbiAgY3ZzSGVpZ2h0OiBudW1iZXI7XHJcbiAgYnViYmxlU3BlZWQ6IG51bWJlcjtcclxuICBidWJibGVDb2xvckFycjogc3RyaW5nW107XHJcbiAgYnViYmxlU2NhbGVSYW5nZToge1xyXG4gICAgbWluOiBudW1iZXIsXHJcbiAgICBtYXg6IG51bWJlcixcclxuICB9O1xyXG4gIGJ1YmJsZU9wYWNpdHk6IG51bWJlcjtcclxuICBidWJibGVFeHBhbmRSYW5nZTogbnVtYmVyO1xyXG4gIG1vdXNlUG9pbnQ6IHtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1YmJsZSB7XHJcbiAgLy8g5rCU5rOh5Yid5aeL5Y2K5b6EXHJcbiAgcHJpdmF0ZSBzdGF0aWMgQlVCQkxFX0lOSVRJQUxfUkFESVVTOiBudW1iZXI7XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgcGVuOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgY3ZzV2lkdGg6IG51bWJlcjtcclxuICBwcml2YXRlIHJlYWRvbmx5IGN2c0hlaWdodDogbnVtYmVyO1xyXG5cclxuICAvLyDkuK3lv4PngrnlnZDmoIdcclxuICBwcml2YXRlIHJlYWRvbmx5IGNlbnRlclBvaW50OiB7XHJcbiAgICB4OiBudW1iZXIsXHJcbiAgICB5OiBudW1iZXIsXHJcbiAgfVxyXG4gIC8vIOenu+WKqOi3neemu1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgZGlzdGFuY2U6IHtcclxuICAgIHg6IG51bWJlcixcclxuICAgIHk6IG51bWJlcixcclxuICB9XHJcbiAgLy8g5rCU5rOh6aKc6ImyXHJcbiAgcHJpdmF0ZSByZWFkb25seSBjb2xvcjogc3RyaW5nXHJcbiAgLy8g5rCU5rOh5Y2K5b6EXHJcbiAgcHJpdmF0ZSByYWRpdXM6IG51bWJlclxyXG4gIC8vIOawlOazoemAj+aYjuW6plxyXG4gIHByaXZhdGUgcmVhZG9ubHkgb3BhY2l0eTogbnVtYmVyXHJcbiAgLy8g5rCU5rOh5Ly457yp6IyD5Zu0XHJcbiAgcHJpdmF0ZSByZWFkb25seSBidWJibGVFeHBhbmRSYW5nZTogbnVtYmVyO1xyXG4gIC8vIOm8oOagh+W9k+WJjeWdkOagh1xyXG4gIC8vICEgVE9ETyDogIPomZHmj5Dlj5boh7PlhajlsYDlj5jph49cclxuICBwcml2YXRlIHJlYWRvbmx5IG1vdXNlUG9pbnQ6IHtcclxuICAgIHg6IG51bWJlcixcclxuICAgIHk6IG51bWJlcixcclxuICB9O1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoXHJcbiAgICBjb25maWc6IElCdWJibGVQcm9wcyxcclxuICApIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgcGVuLFxyXG4gICAgICBjdnNXaWR0aCxcclxuICAgICAgY3ZzSGVpZ2h0LFxyXG4gICAgICBidWJibGVTcGVlZCxcclxuICAgICAgYnViYmxlQ29sb3JBcnIsXHJcbiAgICAgIGJ1YmJsZVNjYWxlUmFuZ2UsXHJcbiAgICAgIGJ1YmJsZU9wYWNpdHksXHJcbiAgICAgIGJ1YmJsZUV4cGFuZFJhbmdlLFxyXG4gICAgICBtb3VzZVBvaW50LFxyXG4gICAgfSA9IGNvbmZpZztcclxuXHJcbiAgICB0aGlzLnBlbiA9IHBlbjtcclxuICAgIHRoaXMuY3ZzV2lkdGggPSBjdnNXaWR0aDtcclxuICAgIHRoaXMuY3ZzSGVpZ2h0ID0gY3ZzSGVpZ2h0O1xyXG5cclxuICAgIHRoaXMuY2VudGVyUG9pbnQgPSB7XHJcbiAgICAgIHg6IHV0aWxpdHlOdW1iZXIuZ2V0QW55UmFuZG9tKFxyXG4gICAgICAgIDAsXHJcbiAgICAgICAgY3ZzV2lkdGgsXHJcbiAgICAgICksXHJcbiAgICAgIHk6IHV0aWxpdHlOdW1iZXIuZ2V0QW55UmFuZG9tKFxyXG4gICAgICAgIDAsXHJcbiAgICAgICAgY3ZzSGVpZ2h0LFxyXG4gICAgICApLFxyXG4gICAgfTtcclxuICAgIHRoaXMuZGlzdGFuY2UgPSB7XHJcbiAgICAgIHg6IHV0aWxpdHlOdW1iZXIuZ2V0QW55UmFuZG9tKC1idWJibGVTcGVlZCwgYnViYmxlU3BlZWQpLFxyXG4gICAgICB5OiB1dGlsaXR5TnVtYmVyLmdldEFueVJhbmRvbSgtYnViYmxlU3BlZWQsIGJ1YmJsZVNwZWVkKSxcclxuICAgIH07XHJcbiAgICB0aGlzLmNvbG9yID0gYnViYmxlQ29sb3JBcnJbXHJcbiAgICAgIHV0aWxpdHlOdW1iZXIuZ2V0RnVsbFJhbmRvbSgwLCBidWJibGVDb2xvckFyci5sZW5ndGgpXHJcbiAgICBdO1xyXG4gICAgdGhpcy5yYWRpdXMgPSB1dGlsaXR5TnVtYmVyLmdldEFueVJhbmRvbShcclxuICAgICAgYnViYmxlU2NhbGVSYW5nZSAmJiBidWJibGVTY2FsZVJhbmdlLm1pbixcclxuICAgICAgYnViYmxlU2NhbGVSYW5nZSAmJiBidWJibGVTY2FsZVJhbmdlLm1heCxcclxuICAgICk7XHJcbiAgICB0aGlzLm9wYWNpdHkgPSBidWJibGVPcGFjaXR5O1xyXG4gICAgQnViYmxlLkJVQkJMRV9JTklUSUFMX1JBRElVUyA9IHRoaXMucmFkaXVzO1xyXG4gICAgdGhpcy5idWJibGVFeHBhbmRSYW5nZSA9IGJ1YmJsZUV4cGFuZFJhbmdlO1xyXG4gICAgdGhpcy5tb3VzZVBvaW50ID0gbW91c2VQb2ludDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkcmF3KCk6IHZvaWQge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBwZW4sXHJcbiAgICAgIGNlbnRlclBvaW50LFxyXG4gICAgICBjb2xvcixcclxuICAgICAgcmFkaXVzLFxyXG4gICAgICBvcGFjaXR5LFxyXG4gICAgfSA9IHRoaXM7XHJcblxyXG4gICAgcGVuLnNhdmUoKTtcclxuICAgIHBlbi5iZWdpblBhdGgoKTtcclxuICAgIHBlbi5nbG9iYWxBbHBoYSA9IG9wYWNpdHk7XHJcbiAgICBwZW4uZmlsbFN0eWxlID0gY29sb3I7XHJcbiAgICBwZW4uYXJjKFxyXG4gICAgICBjZW50ZXJQb2ludC54LFxyXG4gICAgICBjZW50ZXJQb2ludC55LFxyXG4gICAgICByYWRpdXMsXHJcbiAgICAgIDAsXHJcbiAgICAgIHV0aWxpdHlOdW1iZXIuZ2V0UmFkaWFuKDM2MCksXHJcbiAgICApO1xyXG4gICAgcGVuLmZpbGwoKTtcclxuICAgIHBlbi5jbG9zZVBhdGgoKTtcclxuICAgIHBlbi5yZXN0b3JlKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgbW92ZSgpOiB2b2lkIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgY3ZzV2lkdGgsXHJcbiAgICAgIGN2c0hlaWdodCxcclxuICAgICAgbW91c2VQb2ludCxcclxuICAgICAgYnViYmxlRXhwYW5kUmFuZ2UsXHJcbiAgICAgIGNlbnRlclBvaW50LFxyXG4gICAgICBkaXN0YW5jZSxcclxuICAgICAgcmFkaXVzLFxyXG4gICAgfSA9IHRoaXM7XHJcblxyXG4gICAgLy8g6byg5qCHIC0g55CD5Lit5b+DIOi3neemu1xyXG4gICAgY29uc3QgbW91c2VUb0J1YmJsZURpc3RhbmNlWDogbnVtYmVyID0gTWF0aFxyXG4gICAgICAucG93KGNlbnRlclBvaW50LnggLSBtb3VzZVBvaW50LngsIDIpO1xyXG4gICAgY29uc3QgbW91c2VUb0J1YmJsZURpc3RhbmNlWTogbnVtYmVyID0gTWF0aFxyXG4gICAgICAucG93KGNlbnRlclBvaW50LnkgLSBtb3VzZVBvaW50LnksIDIpO1xyXG4gICAgY29uc3QgbW91c2VUb0J1YmJsZURpc3RhbmNlOiBudW1iZXIgPSBNYXRoXHJcbiAgICAgIC5wb3cobW91c2VUb0J1YmJsZURpc3RhbmNlWCArIG1vdXNlVG9CdWJibGVEaXN0YW5jZVksIC41KVxyXG5cclxuICAgIGNlbnRlclBvaW50LnggKz0gZGlzdGFuY2UueDtcclxuICAgIGNlbnRlclBvaW50LnkgKz0gZGlzdGFuY2UueTtcclxuXHJcbiAgICAvLyDnorDmkp7mo4DmtYtcclxuICAgIHRoaXMuZGlzdGFuY2UueCA9IGNlbnRlclBvaW50LnggPCByYWRpdXNcclxuICAgICAgfHwgY2VudGVyUG9pbnQueCA+IGN2c1dpZHRoIC0gcmFkaXVzXHJcbiAgICAgID8gLXRoaXMuZGlzdGFuY2UueFxyXG4gICAgICA6IHRoaXMuZGlzdGFuY2UueDtcclxuICAgIHRoaXMuZGlzdGFuY2UueSA9IGNlbnRlclBvaW50LnkgPCByYWRpdXNcclxuICAgICAgfHwgY2VudGVyUG9pbnQueSA+IGN2c0hlaWdodCAtIHJhZGl1c1xyXG4gICAgICA/IC10aGlzLmRpc3RhbmNlLnlcclxuICAgICAgOiB0aGlzLmRpc3RhbmNlLnk7XHJcblxyXG4gICAgLy8g57yp5pS+5qOA5rWLXHJcbiAgICBpZiAobW91c2VUb0J1YmJsZURpc3RhbmNlIDw9IGJ1YmJsZUV4cGFuZFJhbmdlKSB7XHJcbiAgICAgIHRoaXMucmFkaXVzICs9IDE7XHJcbiAgICB9IGVsc2UgaWYgKFxyXG4gICAgICBtb3VzZVRvQnViYmxlRGlzdGFuY2UgPiBidWJibGVFeHBhbmRSYW5nZVxyXG4gICAgICAmJiB0aGlzLnJhZGl1cyA+IEJ1YmJsZS5CVUJCTEVfSU5JVElBTF9SQURJVVNcclxuICAgICkge1xyXG4gICAgICB0aGlzLnJhZGl1cyAtPSAxO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgaW50ZXJmYWNlIElVdGlsaXR5TnVtYmVyUHJvcHMge1xyXG4gIGdldFJhZGlhbihhbmdsZTogbnVtYmVyKTogbnVtYmVyO1xyXG4gIGdldEZ1bGxSYW5kb20obWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyLFxyXG4gIGdldEFueVJhbmRvbShtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXI7XHJcbn07XHJcblxyXG5jb25zdCB1dGlsaXR5TnVtYmVyOiBJVXRpbGl0eU51bWJlclByb3BzID0ge1xyXG5cclxuICAvKipcclxuICAgKiDojrflj5bmjIflrprojIPlm7TlhoXnmoTpmo/mnLrmlbTmlbBcclxuICAgKiBAcGFyYW0gbWluIOWwj+i+ueeVjFxyXG4gICAqIEBwYXJhbSBtYXgg5aSn6L6555WMXHJcbiAgICovXHJcbiAgZ2V0RnVsbFJhbmRvbShtaW4sIG1heCkge1xyXG4gICAgcmV0dXJuIH5+KE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbik7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+W5oyH5a6a6IyD5Zu05YaF55qE6ZqP5py65Lu75oSP5pWwXHJcbiAgICogQHBhcmFtIG1pbiDlsI/ovrnnlYxcclxuICAgKiBAcGFyYW0gbWF4IOWkp+i+ueeVjFxyXG4gICAqL1xyXG4gIGdldEFueVJhbmRvbShtaW4sIG1heCkge1xyXG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDop5LluqbovazlvKfluqZcclxuICAgKiBAcGFyYW0gYW5nbGUg6KeS5bqm5YC8XHJcbiAgICovXHJcbiAgZ2V0UmFkaWFuKGFuZ2xlKSB7XHJcbiAgICByZXR1cm4gKE1hdGguUEkgLyAxODApICogYW5nbGU7XHJcbiAgfSxcclxuXHJcbn07XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXRpbGl0eU51bWJlcjsiXSwic291cmNlUm9vdCI6IiJ9