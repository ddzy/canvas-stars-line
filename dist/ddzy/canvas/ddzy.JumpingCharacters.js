var JumpingCharacters=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1);e.default=r.JumpingCharacters},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(2)),o=i(n(3)),l=n(4),s=function(){function t(t){this.el=document.createElement("canvas"),this.pen=this.el.getContext("2d"),this.mousePoint={x:0,y:0},this.saveCharactersArr=[],this.timer=0,this.__init__(t)}return t.prototype.__init__=function(t){this._initConfig(t),this._initCanvas(),this.render()},t.prototype._initConfig=function(e){for(var n in e)if(e.hasOwnProperty(n)){var r=Reflect.get(e,n);Reflect.set(t.defaultConfig,n,r)}},t.prototype._initCanvas=function(){this._initCanvasElAndPen(),this._initCanvasDefaultStyle()},t.prototype._initCanvasElAndPen=function(){var e=t.defaultConfig.container;if(!e)throw new TypeError("Please enter an valid container...");var n=a.default.getEle(e);if(!n||1!==n.nodeType||"canvas"!==n.localName)throw new Error("Please enter an valid container...");this.el=n,this.pen=this.el.getContext("2d")},t.prototype._initCanvasDefaultStyle=function(){var e=this.el,n=t.defaultConfig,r=n.cvsBgColor,i=n.cvsWidth,o=n.cvsHeight;a.default.setCss(e,{display:"block","background-color":r}),a.default.setAttr(e,{width:i,height:o})},t.prototype.aidedHandleTick=function(){var e=this.pen,n=this.saveCharactersArr,r=t.defaultConfig,i=r.cvsWidth,a=r.cvsHeight;e.clearRect(0,0,i,a);for(var o=0,l=n;o<l.length;o++){var s=l[o];s.handleDraw(),s.handleMove()}},t.prototype.aidedHandleCancelTimer=function(){clearInterval(this.timer)},t.prototype.handleCreateCharacter=function(){var e=this.pen,n=this.saveCharactersArr,i=this.mousePoint,a=this.aidedHandleCancelTimer,s=t.defaultConfig,u=s.text,c=s.textColor,f=new l.Character(r({},s,{text:u[o.default.getFullRandom(0,u.length)],textColor:c[o.default.getFullRandom(0,c.length)],pen:e,mousePoint:i,handleCancelTimer:a}));n[0]=f},t.prototype.handleAnimateCharacter=function(){var t=this;this.aidedHandleCancelTimer(),this.timer=setInterval(function(){t.aidedHandleTick()},1e3/60)},t.prototype.render=function(){var t=this,e=this.el,n=this.mousePoint;e.addEventListener("click",function(e){n.x=e.clientX,n.y=e.clientY,t.handleCreateCharacter(),t.handleAnimateCharacter()},!1)},t.defaultConfig={container:"body",cvsWidth:500,cvsHeight:500,cvsBgColor:"#000",text:["富强","民主","文明","和谐","自由","平等","公正","法治","爱国","敬业","诚信","友善"],textColor:["#1890ff","#f5222d","#fa8c16","#faad14","#fadb14","#a0d911","#52c41a","#13c2c2","#2f5418","#722ed1","#eb2f96","#fa541c"],textSize:16,safeDistance:20,initialOpacity:1,speed:1},t}();e.JumpingCharacters=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={getEle:function(t){return document.querySelector(t)},getAllEle:function(t){return document.querySelectorAll(t)},setAttr:function(t,e){for(var n in e)t.setAttribute(n,e[n]);return this},setCss:function(t,e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t.style.cssText+=n+": "+r+";"}return this},getFullRandom:function(t,e){return~~(Math.random()*(e-t)+t)},getAnyRandom:function(t,e){return Math.random()*(e-t)+t},getRadian:function(t){return Math.PI/180*t},getAttr:function(t,e){return t.getAttribute(e)},addClass:function(t,e){return t&&t.classList.add(e),this},removeClass:function(t,e){return t&&t.classList.remove(e),this},throttle:function(t,e){var n=Date.now();return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=Date.now();a-n>t&&(e.apply(globalThis,r),n=a)}},isDOM:function(t){return t&&"object"==typeof t&&1===t.nodeType},isFunction:function(t){return"function"==typeof t},traversalDOMWithBFS:function(t,e){if(!this.isDOM(t))throw new TypeError("Require a DOM element");for(var n=[t];n.length;){var r=n.shift();e&&e(r);var i=r.children;n.push.apply(n,Array.from(i))}},traversalDOMWithDFS:function(t,e){if(!this.isDOM(t))throw new TypeError("Require a DOM element");e&&e(t),function t(n){if(0===n.length)return;for(var r=0,i=void 0;i=n[r++];)e&&e(i),t(i.children)}(t.children)},traversalDOMWithNodeIterator:function(t,e){if(!this.isDOM(t))throw new TypeError("Require a DOM element");for(var n=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),r=null;r=n.nextNode();)e&&e(r)},traversalDOMWithTreeWalker:function(t,e){if(!this.isDOM(t))throw new TypeError("Require a DOM element");for(var n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT),r=null;r=n.nextNode();)e&&e(r)}};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={getFullRandom:function(t,e){return~~(Math.random()*(e-t)+t)},getAnyRandom:function(t,e){return Math.random()*(e-t)+t},getRadian:function(t){return Math.PI/180*t}};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){var e=t.initialOpacity,n=t.textSize,r=t.textColor,i=t.text,a=t.speed,o=t.safeDistance,l=t.pen,s=t.mousePoint,u=t.handleCancelTimer;this.pen=l,this.text=i,this.textColor=r,this.safeDistance=o,this.mousePoint=s,this.opacity=e,this.textSize=n,this.speed=a,this.handleCancelTimer=u,this.__init__()}return t.prototype.__init__=function(){this.handleDraw()},t.prototype.handleDraw=function(){var t=this,e=t.pen,n=t.text,r=t.textColor,i=t.textSize,a=t.mousePoint;this.opacity<=0&&(this.opacity=0,this.handleCancelTimer()),e.save(),e.beginPath(),e.fillStyle=r,e.font=i+"px 'Fira Code Regular'",e.textAlign="center",e.textBaseline="middle",e.globalAlpha=this.opacity,e.fillText(n,a.x,a.y),e.closePath(),e.restore()},t.prototype.handleMove=function(){this.mousePoint.y-=this.speed,this.opacity-=.01},t}();e.Character=r}]).default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9KdW1waW5nQ2hhcmFjdGVycy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9KdW1waW5nQ2hhcmFjdGVycy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9KdW1waW5nQ2hhcmFjdGVycy8uL3NyYy9kZHp5L2NhbnZhcy9qdW1waW5nLWNoYXJhY3RlcnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vSnVtcGluZ0NoYXJhY3RlcnMvLi9zcmMvZGR6eS91dGlsaXR5L2RvbS9pbmRleC50cyIsIndlYnBhY2s6Ly9KdW1waW5nQ2hhcmFjdGVycy8uL3NyYy9kZHp5L3V0aWxpdHkvbnVtYmVyL2luZGV4LnRzIiwid2VicGFjazovL0p1bXBpbmdDaGFyYWN0ZXJzLy4vc3JjL2RkenkvY2FudmFzL2p1bXBpbmctY2hhcmFjdGVycy9jaGFyYWN0ZXIvQ2hhcmFjdGVyLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiaW5kZXhfMSIsImRlZmF1bHQiLCJKdW1waW5nQ2hhcmFjdGVycyIsIl9faW1wb3J0RGVmYXVsdCIsImluZGV4XzIiLCJDaGFyYWN0ZXJfMSIsImNvbmZpZyIsInRoaXMiLCJlbCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInBlbiIsImdldENvbnRleHQiLCJtb3VzZVBvaW50IiwieCIsInkiLCJzYXZlQ2hhcmFjdGVyc0FyciIsInRpbWVyIiwiX19pbml0X18iLCJfaW5pdENvbmZpZyIsIl9pbml0Q2FudmFzIiwicmVuZGVyIiwiUmVmbGVjdCIsInNldCIsImRlZmF1bHRDb25maWciLCJfaW5pdENhbnZhc0VsQW5kUGVuIiwiX2luaXRDYW52YXNEZWZhdWx0U3R5bGUiLCJjb250YWluZXIiLCJUeXBlRXJyb3IiLCJvQ29udGFpbmVyIiwiZ2V0RWxlIiwibm9kZVR5cGUiLCJsb2NhbE5hbWUiLCJFcnJvciIsIl9hIiwiY3ZzQmdDb2xvciIsImN2c1dpZHRoIiwiY3ZzSGVpZ2h0Iiwic2V0Q3NzIiwiZGlzcGxheSIsImJhY2tncm91bmQtY29sb3IiLCJzZXRBdHRyIiwid2lkdGgiLCJoZWlnaHQiLCJhaWRlZEhhbmRsZVRpY2siLCJfYiIsImNsZWFyUmVjdCIsIl9pIiwic2F2ZUNoYXJhY3RlcnNBcnJfMSIsImxlbmd0aCIsImNoYXJhY3RlciIsImhhbmRsZURyYXciLCJoYW5kbGVNb3ZlIiwiYWlkZWRIYW5kbGVDYW5jZWxUaW1lciIsImNsZWFySW50ZXJ2YWwiLCJoYW5kbGVDcmVhdGVDaGFyYWN0ZXIiLCJ0ZXh0IiwidGV4dENvbG9yIiwiQ2hhcmFjdGVyIiwiX19hc3NpZ24iLCJnZXRGdWxsUmFuZG9tIiwiaGFuZGxlQ2FuY2VsVGltZXIiLCJoYW5kbGVBbmltYXRlQ2hhcmFjdGVyIiwiX3RoaXMiLCJzZXRJbnRlcnZhbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiY2xpZW50WCIsImNsaWVudFkiLCJ0ZXh0U2l6ZSIsInNhZmVEaXN0YW5jZSIsImluaXRpYWxPcGFjaXR5Iiwic3BlZWQiLCJ1dGlsaXR5RE9NIiwic2lnbiIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRBbGxFbGUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWxlIiwib3B0aW9ucyIsInNldEF0dHJpYnV0ZSIsImVsZW1lbnQiLCJzdHlsZSIsImNzc1RleHQiLCJtaW4iLCJtYXgiLCJNYXRoIiwicmFuZG9tIiwiZ2V0QW55UmFuZG9tIiwiZ2V0UmFkaWFuIiwiYW5nbGUiLCJQSSIsImdldEF0dHIiLCJnZXRBdHRyaWJ1dGUiLCJhZGRDbGFzcyIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZUNsYXNzIiwicmVtb3ZlIiwidGhyb3R0bGUiLCJ0aW1lc3RhbXAiLCJjYWxsYmFjayIsImxhc3RDbGlja1RpbWUiLCJEYXRlIiwibm93IiwiYXJncyIsImFyZ3VtZW50cyIsImN1cnJlbnRDbGlja1RpbWUiLCJhcHBseSIsImdsb2JhbFRoaXMiLCJpc0RPTSIsIm5vZGUiLCJpc0Z1bmN0aW9uIiwidHJhdmVyc2FsRE9NV2l0aEJGUyIsInF1ZXVlIiwic2hpZnQiLCJjaGlsZHJlbiIsInB1c2giLCJBcnJheSIsImZyb20iLCJ0cmF2ZXJzYWxET01XaXRoREZTIiwiX2FpZGVkVHJhdmVyc2FsIiwiZXZlcnkiLCJ0cmF2ZXJzYWxET01XaXRoTm9kZUl0ZXJhdG9yIiwibm9kZUl0ZXJhdG9yIiwiY3JlYXRlTm9kZUl0ZXJhdG9yIiwiTm9kZUZpbHRlciIsIlNIT1dfRUxFTUVOVCIsImN1cnJlbnROb2RlIiwibmV4dE5vZGUiLCJ0cmF2ZXJzYWxET01XaXRoVHJlZVdhbGtlciIsInRyZWVXYWxrZXIiLCJjcmVhdGVUcmVlV2Fsa2VyIiwidXRpbGl0eU51bWJlciIsIm9wYWNpdHkiLCJzYXZlIiwiYmVnaW5QYXRoIiwiZmlsbFN0eWxlIiwiZm9udCIsInRleHRBbGlnbiIsInRleHRCYXNlbGluZSIsImdsb2JhbEFscGhhIiwiZmlsbFRleHQiLCJjbG9zZVBhdGgiLCJyZXN0b3JlIl0sIm1hcHBpbmdzIjoia0NBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFB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LFFBQ3ZCNUgsRUFBSW9JLFNBQ0Z2RixFQUNBM0MsRUFBV0MsRUFDWEQsRUFBV0UsR0FHYkosRUFBSXFJLFlBQ0pySSxFQUFJc0ksV0FHQ3ZGLEVBQUE5RCxVQUFBd0QsV0FBUCxXQUVJN0MsS0FBQU0sV0FHU0UsR0FBS1IsS0FBS2lFLE1BQ3JCakUsS0FBS2dJLFNBQVcsS0FHcEI3RSxFQXhGQSxHQUFhNUYsRUFBQTRGIiwiZmlsZSI6Ikp1bXBpbmdDaGFyYWN0ZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0IHtcclxuICBKdW1waW5nQ2hhcmFjdGVyc1xyXG59IGZyb20gJy4vZGR6eS9jYW52YXMvanVtcGluZy1jaGFyYWN0ZXJzL2luZGV4JztcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBKdW1waW5nQ2hhcmFjdGVyczsiLCJpbXBvcnQgdXRpbGl0eURPTSBmcm9tICcuLi8uLi91dGlsaXR5L2RvbS9pbmRleCc7XHJcbmltcG9ydCB1dGlsaXR5TnVtYmVyIGZyb20gJy4uLy4uL3V0aWxpdHkvbnVtYmVyL2luZGV4JztcclxuaW1wb3J0IHsgQ2hhcmFjdGVyIH0gZnJvbSAnLi9jaGFyYWN0ZXIvQ2hhcmFjdGVyJztcclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElKdW1waW5nQ2hhcmFjdGVyc1Byb3BzIHtcclxuICBjb250YWluZXI6IHN0cmluZztcclxuICBjdnNXaWR0aD86IG51bWJlcjtcclxuICBjdnNIZWlnaHQ/OiBudW1iZXI7XHJcbiAgY3ZzQmdDb2xvcj86IHN0cmluZztcclxuICB0ZXh0Pzogc3RyaW5nW107XHJcbiAgdGV4dENvbG9yPzogc3RyaW5nW107XHJcbiAgdGV4dFNpemU/OiBudW1iZXI7XHJcbiAgc2FmZURpc3RhbmNlPzogbnVtYmVyO1xyXG4gIGluaXRpYWxPcGFjaXR5PzogMTtcclxuICBzcGVlZD86IG51bWJlcjtcclxufTtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgSnVtcGluZ0NoYXJhY3RlcnMge1xyXG5cclxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGRlZmF1bHRDb25maWcgPSB7XHJcbiAgICBjb250YWluZXI6ICdib2R5JyxcclxuICAgIGN2c1dpZHRoOiA1MDAsXHJcbiAgICBjdnNIZWlnaHQ6IDUwMCxcclxuICAgIGN2c0JnQ29sb3I6ICcjMDAwJyxcclxuICAgIHRleHQ6IFtcclxuICAgICAgJ+WvjOW8uicsICfmsJHkuLsnLCAn5paH5piOJywgJ+WSjOiwkCcsXHJcbiAgICAgICfoh6rnlLEnLCAn5bmz562JJywgJ+WFrOatoycsICfms5XmsrsnLFxyXG4gICAgICAn54ix5Zu9JywgJ+aVrOS4micsICfor5rkv6EnLCAn5Y+L5ZaEJyxcclxuICAgIF0sXHJcbiAgICB0ZXh0Q29sb3I6IFtcclxuICAgICAgJyMxODkwZmYnLCAnI2Y1MjIyZCcsICcjZmE4YzE2JywgJyNmYWFkMTQnLFxyXG4gICAgICAnI2ZhZGIxNCcsICcjYTBkOTExJywgJyM1MmM0MWEnLCAnIzEzYzJjMicsXHJcbiAgICAgICcjMmY1NDE4JywgJyM3MjJlZDEnLCAnI2ViMmY5NicsICcjZmE1NDFjJyxcclxuICAgIF0sXHJcbiAgICB0ZXh0U2l6ZTogMTYsXHJcbiAgICBzYWZlRGlzdGFuY2U6IDIwLFxyXG4gICAgaW5pdGlhbE9wYWNpdHk6IDEsXHJcbiAgICBzcGVlZDogMSxcclxuICB9O1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoXHJcbiAgICBjb25maWc6IElKdW1waW5nQ2hhcmFjdGVyc1Byb3BzLFxyXG4gICkge1xyXG4gICAgdGhpcy5fX2luaXRfXyhjb25maWcpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBlbDogSFRNTENhbnZhc0VsZW1lbnQgPSAoXHJcbiAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxyXG4gICk7XHJcbiAgcHJpdmF0ZSBwZW4gPSAoXHJcbiAgICB0aGlzLmVsLmdldENvbnRleHQoJzJkJykgYXMgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEXHJcbiAgKTtcclxuICBwcml2YXRlIHJlYWRvbmx5IG1vdXNlUG9pbnQ6IHtcclxuICAgIHg6IG51bWJlcixcclxuICAgIHk6IG51bWJlcixcclxuICB9ID0ge1xyXG4gICAgeDogMCxcclxuICAgIHk6IDAsXHJcbiAgfTtcclxuICBwcml2YXRlIHJlYWRvbmx5IHNhdmVDaGFyYWN0ZXJzQXJyOiBDaGFyYWN0ZXJbXSA9IFtdO1xyXG5cclxuICBwcml2YXRlIHRpbWVyOiBhbnkgPSAwO1xyXG5cclxuXHJcbiAgcHJpdmF0ZSBfX2luaXRfXyhcclxuICAgIGNvbmZpZzogSUp1bXBpbmdDaGFyYWN0ZXJzUHJvcHMsXHJcbiAgKTogdm9pZCB7XHJcbiAgICB0aGlzLl9pbml0Q29uZmlnKGNvbmZpZyk7XHJcbiAgICB0aGlzLl9pbml0Q2FudmFzKCk7XHJcbiAgICB0aGlzLnJlbmRlcigpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Yid5aeL5YyW6YWN572u6aG5XHJcbiAgICogQHBhcmFtIGNvbmZpZyDkvKDlhaXphY3nva5cclxuICAgKi9cclxuICBwcml2YXRlIF9pbml0Q29uZmlnKFxyXG4gICAgY29uZmlnOiBJSnVtcGluZ0NoYXJhY3RlcnNQcm9wcyxcclxuICApOiB2b2lkIHtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIGNvbmZpZykge1xyXG4gICAgICBpZiAoY29uZmlnLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IFJlZmxlY3QuZ2V0KGNvbmZpZywga2V5KTtcclxuICAgICAgICBSZWZsZWN0LnNldChKdW1waW5nQ2hhcmFjdGVycy5kZWZhdWx0Q29uZmlnLCBrZXksIHZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Yid5aeL5YyWY2FudmFz55u45YWzXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBfaW5pdENhbnZhcygpOiB2b2lkIHtcclxuICAgIHRoaXMuX2luaXRDYW52YXNFbEFuZFBlbigpO1xyXG4gICAgdGhpcy5faW5pdENhbnZhc0RlZmF1bHRTdHlsZSgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfaW5pdENhbnZhc0VsQW5kUGVuKCk6IHZvaWQge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBjb250YWluZXIsXHJcbiAgICB9ID0gSnVtcGluZ0NoYXJhY3RlcnMuZGVmYXVsdENvbmZpZztcclxuXHJcbiAgICBpZiAoIGNvbnRhaW5lciApIHtcclxuICAgICAgbGV0IG9Db250YWluZXIgPSB1dGlsaXR5RE9NLmdldEVsZShjb250YWluZXIpO1xyXG5cclxuICAgICAgaWYgKCBvQ29udGFpbmVyICYmIG9Db250YWluZXIubm9kZVR5cGUgPT09IDEgJiYgb0NvbnRhaW5lci5sb2NhbE5hbWUgPT09ICdjYW52YXMnICkge1xyXG4gICAgICAgIHRoaXMuZWwgPSAob0NvbnRhaW5lciBhcyBIVE1MQ2FudmFzRWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5wZW4gPSAoXHJcbiAgICAgICAgICB0aGlzLmVsLmdldENvbnRleHQoJzJkJykgYXMgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEXHJcbiAgICAgICAgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBlbnRlciBhbiB2YWxpZCBjb250YWluZXIuLi4nKVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQbGVhc2UgZW50ZXIgYW4gdmFsaWQgY29udGFpbmVyLi4uJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgX2luaXRDYW52YXNEZWZhdWx0U3R5bGUoKTogdm9pZCB7XHJcbiAgICBjb25zdCB7IGVsIH0gPSB0aGlzO1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBjdnNCZ0NvbG9yLFxyXG4gICAgICBjdnNXaWR0aCxcclxuICAgICAgY3ZzSGVpZ2h0LFxyXG4gICAgfSA9IEp1bXBpbmdDaGFyYWN0ZXJzLmRlZmF1bHRDb25maWc7XHJcblxyXG4gICAgdXRpbGl0eURPTS5zZXRDc3MoZWwsIHtcclxuICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcclxuICAgICAgJ2JhY2tncm91bmQtY29sb3InOiBjdnNCZ0NvbG9yLFxyXG4gICAgfSk7XHJcbiAgICB1dGlsaXR5RE9NLnNldEF0dHIoZWwsIHtcclxuICAgICAgd2lkdGg6IGN2c1dpZHRoLFxyXG4gICAgICBoZWlnaHQ6IGN2c0hlaWdodCxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhaWRlZEhhbmRsZVRpY2soKTogdm9pZCB7XHJcbiAgICBjb25zdCB7IHBlbiwgc2F2ZUNoYXJhY3RlcnNBcnIgfSA9IHRoaXM7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGN2c1dpZHRoLFxyXG4gICAgICBjdnNIZWlnaHQsXHJcbiAgICB9ID0gSnVtcGluZ0NoYXJhY3RlcnMuZGVmYXVsdENvbmZpZztcclxuXHJcbiAgICBwZW4uY2xlYXJSZWN0KDAsIDAsIGN2c1dpZHRoLCBjdnNIZWlnaHQpO1xyXG5cclxuICAgIGZvciAoY29uc3QgY2hhcmFjdGVyIG9mIHNhdmVDaGFyYWN0ZXJzQXJyKSB7XHJcbiAgICAgIGNoYXJhY3Rlci5oYW5kbGVEcmF3KCk7XHJcbiAgICAgIGNoYXJhY3Rlci5oYW5kbGVNb3ZlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFpZGVkSGFuZGxlQ2FuY2VsVGltZXIoKTogdm9pZCB7XHJcbiAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVDcmVhdGVDaGFyYWN0ZXIoKTogdm9pZCB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIHBlbixcclxuICAgICAgc2F2ZUNoYXJhY3RlcnNBcnIsXHJcbiAgICAgIG1vdXNlUG9pbnQsXHJcbiAgICAgIGFpZGVkSGFuZGxlQ2FuY2VsVGltZXIsXHJcbiAgICB9ID0gdGhpcztcclxuICAgIGNvbnN0IHsgZGVmYXVsdENvbmZpZyB9ID0gSnVtcGluZ0NoYXJhY3RlcnNcclxuICAgIGNvbnN0IHtcclxuICAgICAgdGV4dCxcclxuICAgICAgdGV4dENvbG9yLFxyXG4gICAgfSA9IGRlZmF1bHRDb25maWc7XHJcblxyXG4gICAgY29uc3QgY2hhcmFjdGVyID0gbmV3IENoYXJhY3Rlcih7XHJcbiAgICAgIC4uLmRlZmF1bHRDb25maWcsXHJcbiAgICAgIHRleHQ6IHRleHRbdXRpbGl0eU51bWJlci5nZXRGdWxsUmFuZG9tKFxyXG4gICAgICAgIDAsXHJcbiAgICAgICAgdGV4dC5sZW5ndGgsXHJcbiAgICAgICldLFxyXG4gICAgICB0ZXh0Q29sb3I6IHRleHRDb2xvclt1dGlsaXR5TnVtYmVyLmdldEZ1bGxSYW5kb20oXHJcbiAgICAgICAgMCxcclxuICAgICAgICB0ZXh0Q29sb3IubGVuZ3RoLFxyXG4gICAgICApXSxcclxuICAgICAgcGVuLFxyXG4gICAgICBtb3VzZVBvaW50LFxyXG4gICAgICBoYW5kbGVDYW5jZWxUaW1lcjogYWlkZWRIYW5kbGVDYW5jZWxUaW1lcixcclxuICAgIH0pO1xyXG4gICAgc2F2ZUNoYXJhY3RlcnNBcnJbMF0gPSBjaGFyYWN0ZXI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDkuLvov5Dliqjlh73mlbBcclxuICAgKi9cclxuICBwcml2YXRlIGhhbmRsZUFuaW1hdGVDaGFyYWN0ZXIoKTogdm9pZCB7XHJcbiAgICB0aGlzLmFpZGVkSGFuZGxlQ2FuY2VsVGltZXIoKTtcclxuXHJcbiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICB0aGlzLmFpZGVkSGFuZGxlVGljaygpO1xyXG4gICAgfSwgMTAwMC82MCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlbmRlcigpOiB2b2lkIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgZWwsXHJcbiAgICAgIG1vdXNlUG9pbnQsXHJcbiAgICB9ID0gdGhpcztcclxuXHJcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlOiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgIG1vdXNlUG9pbnQueCA9IGUuY2xpZW50WDtcclxuICAgICAgbW91c2VQb2ludC55ID0gZS5jbGllbnRZO1xyXG5cclxuICAgICAgdGhpcy5oYW5kbGVDcmVhdGVDaGFyYWN0ZXIoKTtcclxuXHJcbiAgICAgIC8vIFRPRE86IOS9v+eUqHJlcXVlc3RBbmltYXRpb25GcmFtZemHjeaehFxyXG4gICAgICB0aGlzLmhhbmRsZUFuaW1hdGVDaGFyYWN0ZXIoKTtcclxuICAgIH0sIGZhbHNlKTtcclxuICB9XHJcblxyXG59IiwiZXhwb3J0IGludGVyZmFjZSBJU3RhdGljUGFpcnMge1xyXG4gIFtrZXk6IHN0cmluZ106IGFueTtcclxufTtcclxuZXhwb3J0IGludGVyZmFjZSBJVXRpbGl0eURPTVByb3BzIHtcclxuICBnZXRFbGUoc2lnbjogc3RyaW5nKTogSFRNTEVsZW1lbnQgfCBudWxsO1xyXG4gIGdldEFsbEVsZShzaWduOiBzdHJpbmcpOiBBcnJheUxpa2U8SFRNTEVsZW1lbnQ+IHwgbnVsbDtcclxuICBzZXRBdHRyKGVsZTogSFRNTEVsZW1lbnQsIG9wdGlvbnM6IElTdGF0aWNQYWlycyk6IE9taXRUaGlzUGFyYW1ldGVyPElVdGlsaXR5RE9NUHJvcHM+O1xyXG4gIHNldENzcyhlbGU6IEhUTUxFbGVtZW50LCBvcHRpb25zOiBJU3RhdGljUGFpcnMpOiBPbWl0VGhpc1BhcmFtZXRlcjxJVXRpbGl0eURPTVByb3BzPjtcclxuICBnZXRSYWRpYW4oYW5nbGU6IG51bWJlcik6IG51bWJlcjtcclxuICBnZXRBdHRyKGVsZTogSFRNTEVsZW1lbnQsIGtleTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbDtcclxuICBhZGRDbGFzcyhlbDogSFRNTEVsZW1lbnQsIGNsYXNzTmFtZTogc3RyaW5nKTogT21pdFRoaXNQYXJhbWV0ZXI8SVV0aWxpdHlET01Qcm9wcz47XHJcbiAgcmVtb3ZlQ2xhc3MoZWw6IEhUTUxFbGVtZW50LCBjbGFzc05hbWU6IHN0cmluZyk6IE9taXRUaGlzUGFyYW1ldGVyPElVdGlsaXR5RE9NUHJvcHM+O1xyXG4gIHRocm90dGxlKHRpbWU6IG51bWJlciwgY2FsbGJhY2s6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCk6IHZvaWQ7XHJcbiAgZ2V0RnVsbFJhbmRvbShtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIsXHJcbiAgZ2V0QW55UmFuZG9tKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlcjtcclxuXHJcbiAgaXNET00obm9kZTogYW55KTogYm9vbGVhbjtcclxuICBpc0Z1bmN0aW9uKGVsOiBhbnkpOiBib29sZWFuO1xyXG5cclxuICB0cmF2ZXJzYWxET01XaXRoQkZTKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGNhbGxiYWNrOiAobm9kZTogSFRNTEVsZW1lbnQpID0+IHZvaWQpOiB2b2lkO1xyXG4gIHRyYXZlcnNhbERPTVdpdGhERlMoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgY2FsbGJhY2s6IChub2RlOiBIVE1MRWxlbWVudCkgPT4gdm9pZCk6IHZvaWQ7XHJcbiAgdHJhdmVyc2FsRE9NV2l0aE5vZGVJdGVyYXRvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBjYWxsYmFjazogKG5vZGU6IEhUTUxFbGVtZW50KSA9PiB2b2lkKTogdm9pZDtcclxuICB0cmF2ZXJzYWxET01XaXRoVHJlZVdhbGtlcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBjYWxsYmFjazogKG5vZGU6IEhUTUxFbGVtZW50KSA9PiB2b2lkKTogdm9pZDtcclxufTtcclxuXHJcblxyXG5jb25zdCB1dGlsaXR5RE9NOiBJVXRpbGl0eURPTVByb3BzID0ge1xyXG4gIC8qKlxyXG4gICAqIOiOt+WPluaMh+WumuWNleS4qkRPTeWFg+e0oFxyXG4gICAqIEBwYXJhbSBzaWduIOS7u+aEj+mAieaLqeWZqFxyXG4gICAqL1xyXG4gIGdldEVsZShzaWduKSB7XHJcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzaWduKTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDojrflj5bmjIflrprnmoTmiYDmnIlET03lhYPntKBcclxuICAgKiBAcGFyYW0gc2lnbiDku7vmhI/pgInmi6nlmahcclxuICAgKi9cclxuICBnZXRBbGxFbGUoc2lnbikge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2lnbik7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog6K6+572u5Y2V5LiqRE9N5bGe5oCnXHJcbiAgICogQHBhcmFtIGVsZSDnm67moIdET01cclxuICAgKiBAcGFyYW0gb3B0aW9ucyDlsZ7mgKfplK7lgLzlr7lcclxuICAgKi9cclxuICBzZXRBdHRyKGVsZSwgb3B0aW9ucykge1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb3B0aW9ucykge1xyXG4gICAgICBlbGUuc2V0QXR0cmlidXRlKGtleSwgb3B0aW9uc1trZXldKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDorr7nva7ljZXkuKpET03moLflvI9cclxuICAgKiBAcGFyYW0gZWxlIOebruagh0RPTVxyXG4gICAqIEBwYXJhbSBvcHRpb25zIOagt+W8j+mUruWAvOWvuVxyXG4gICAqL1xyXG4gIHNldENzcyhlbGUsIG9wdGlvbnMpIHtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMpIHtcclxuICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBvcHRpb25zW2tleV07XHJcbiAgICAgICAgZWxlLnN0eWxlLmNzc1RleHQgKz0gYCR7a2V5fTogJHtlbGVtZW50fTtgO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+W5oyH5a6a6IyD5Zu05YaF55qE6ZqP5py65pW05pWwXHJcbiAgICogQHBhcmFtIG1pbiDlsI/ovrnnlYxcclxuICAgKiBAcGFyYW0gbWF4IOWkp+i+ueeVjFxyXG4gICAqL1xyXG4gIGdldEZ1bGxSYW5kb20obWluLCBtYXgpIHtcclxuICAgIHJldHVybiB+fihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW4pO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPluaMh+WumuiMg+WbtOWGheeahOmaj+acuuS7u+aEj+aVsFxyXG4gICAqIEBwYXJhbSBtaW4g5bCP6L6555WMXHJcbiAgICogQHBhcmFtIG1heCDlpKfovrnnlYxcclxuICAgKi9cclxuICBnZXRBbnlSYW5kb20obWluLCBtYXgpIHtcclxuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW47XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog6KeS5bqm6L2s5byn5bqmXHJcbiAgICogQHBhcmFtIGFuZ2xlIOinkuW6puWAvFxyXG4gICAqL1xyXG4gIGdldFJhZGlhbihhbmdsZSkge1xyXG4gICAgcmV0dXJuIChNYXRoLlBJIC8gMTgwKSAqIGFuZ2xlO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPlkRPTeeahOeJueWumuWxnuaAp+WAvFxyXG4gICAqIEBwYXJhbSBlbGUg55uu5qCHRE9NXHJcbiAgICogQHBhcmFtIGtleSDlsZ7mgKflkI1cclxuICAgKi9cclxuICBnZXRBdHRyKGVsZSwga2V5KSB7XHJcbiAgICByZXR1cm4gZWxlLmdldEF0dHJpYnV0ZShrZXkpO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOaMh+WumkRPTea3u+WKoOWNleS4quexu+WQjVxyXG4gICAqIEBwYXJhbSBlbCDnm67moIdET01cclxuICAgKiBAcGFyYW0gY2xhc3NOYW1lIOexu+WQjVxyXG4gICAqL1xyXG4gIGFkZENsYXNzKGVsLCBjbGFzc05hbWUpIHtcclxuICAgIGVsICYmIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDnp7vlh7rmjIflrppET03lhYPntKDnmoTljZXkuKrnsbvlkI1cclxuICAgKiBAcGFyYW0gZWwg55uu5qCHRE9NXHJcbiAgICogQHBhcmFtIGNsYXNzTmFtZSDnsbvlkI1cclxuICAgKi9cclxuICByZW1vdmVDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XHJcbiAgICBlbCAmJiBlbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog6IqC5rWB5Ye95pWwXHJcbiAgICogQHBhcmFtIHRpbWVzdGFtcCDml7bpl7TmiLNcclxuICAgKiBAcGFyYW0gY2FsbGJhY2sg5omn6KGM5Zue6LCDXHJcbiAgICovXHJcbiAgdGhyb3R0bGUodGltZXN0YW1wLCBjYWxsYmFjaykge1xyXG4gICAgbGV0IGxhc3RDbGlja1RpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgIHJldHVybiAoLi4uYXJnczogYW55W10pID0+IHtcclxuICAgICAgY29uc3QgY3VycmVudENsaWNrVGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICBpZiAoY3VycmVudENsaWNrVGltZSAtIGxhc3RDbGlja1RpbWUgPiB0aW1lc3RhbXApe1xyXG4gICAgICAgIGNhbGxiYWNrLmFwcGx5PFRoaXNUeXBlPGFueT4sIGFueVtdLCBhbnk+KGdsb2JhbFRoaXMsIGFyZ3MpO1xyXG4gICAgICAgIGxhc3RDbGlja1RpbWUgPSBjdXJyZW50Q2xpY2tUaW1lO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIOajgOafpeaYr+WQpkRPTeWFg+e0oFxyXG4gICAqIEBwYXJhbSBub2RlIOaMh+Wumuebruagh1xyXG4gICAqL1xyXG4gIGlzRE9NKG5vZGUpIHtcclxuICAgIHJldHVybiBub2RlXHJcbiAgICAgICYmIHR5cGVvZiBub2RlID09PSAnb2JqZWN0J1xyXG4gICAgICAmJiBub2RlLm5vZGVUeXBlID09PSAxO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOajgOafpeaYr+WQpuWHveaVsFxyXG4gICAqIEBwYXJhbSBlbGUg5Lu75oSP5YC8XHJcbiAgICovXHJcbiAgaXNGdW5jdGlvbihlbGUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgZWxlID09PSAnZnVuY3Rpb24nO1xyXG4gIH0sXHJcblxyXG5cclxuICAvKipcclxuICAgKiBCRlPpgY3ljobmjIflrppET03oioLngrlcclxuICAgKiBAcGFyYW0gY29udGFpbmVyIOmBjeWOhueahERPTeWuueWZqFxyXG4gICAqIEBwYXJhbSBjYWxsYmFjayDlm57osINcclxuICAgKi9cclxuICB0cmF2ZXJzYWxET01XaXRoQkZTKGNvbnRhaW5lciwgY2FsbGJhY2spIHtcclxuICAgIGlmICghdGhpcy5pc0RPTShjb250YWluZXIpKSB7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1JlcXVpcmUgYSBET00gZWxlbWVudCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHF1ZXVlOiBFbGVtZW50W10gPSBbY29udGFpbmVyXTtcclxuXHJcbiAgICB3aGlsZSAocXVldWUubGVuZ3RoKSB7XHJcbiAgICAgIGNvbnN0IG5vZGUgPSAocXVldWUuc2hpZnQoKSBhcyBIVE1MRWxlbWVudCk7XHJcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKG5vZGUpO1xyXG5cclxuICAgICAgY29uc3QgY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuIGFzIEFycmF5TGlrZTxFbGVtZW50PjtcclxuICAgICAgcXVldWUucHVzaCguLi4oQXJyYXkuZnJvbShjaGlsZHJlbikpKTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBERlPpgY3ljobmjIflrppET03oioLngrlcclxuICAgKiBAcGFyYW0gY29udGFpbmVyIOmBjeWOhueahERPTeWuueWZqFxyXG4gICAqIEBwYXJhbSBjYWxsYmFjayDlm57osINcclxuICAgKi9cclxuICB0cmF2ZXJzYWxET01XaXRoREZTKGNvbnRhaW5lciwgY2FsbGJhY2spIHtcclxuICAgIGlmICghdGhpcy5pc0RPTShjb250YWluZXIpKSB7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1JlcXVpcmUgYSBET00gZWxlbWVudCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGNvbnRhaW5lcik7XHJcblxyXG4gICAgX2FpZGVkVHJhdmVyc2FsKGNvbnRhaW5lci5jaGlsZHJlbik7XHJcblxyXG4gICAgZnVuY3Rpb24gX2FpZGVkVHJhdmVyc2FsKGNoaWxkcmVuOiBIVE1MQ29sbGVjdGlvbikge1xyXG4gICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMCwgZXZlcnk7IGV2ZXJ5ID0gY2hpbGRyZW5baSsrXTspIHtcclxuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhldmVyeSBhcyBIVE1MRWxlbWVudCk7XHJcbiAgICAgICAgX2FpZGVkVHJhdmVyc2FsKGV2ZXJ5LmNoaWxkcmVuKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIE5vZGVJdGVyYXRvcumBjeWOhuaMh+WumkRPTeiKgueCuVxyXG4gICAqIEBwYXJhbSBjb250YWluZXIg6YGN5Y6G55qERE9N5a655ZmoXHJcbiAgICogQHBhcmFtIGNhbGxiYWNrIOaJp+ihjOWbnuiwg1xyXG4gICAqL1xyXG4gIHRyYXZlcnNhbERPTVdpdGhOb2RlSXRlcmF0b3IoY29udGFpbmVyLCBjYWxsYmFjaykge1xyXG4gICAgaWYgKCF0aGlzLmlzRE9NKGNvbnRhaW5lcikpIHtcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUmVxdWlyZSBhIERPTSBlbGVtZW50Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgbm9kZUl0ZXJhdG9yOiBOb2RlSXRlcmF0b3IgPSBkb2N1bWVudC5jcmVhdGVOb2RlSXRlcmF0b3IoXHJcbiAgICAgIGNvbnRhaW5lcixcclxuICAgICAgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQsXHJcbiAgICApO1xyXG4gICAgbGV0IGN1cnJlbnROb2RlOiBOb2RlIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgd2hpbGUgKChjdXJyZW50Tm9kZSA9IG5vZGVJdGVyYXRvci5uZXh0Tm9kZSgpKSkge1xyXG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhjdXJyZW50Tm9kZSBhcyBIVE1MRWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogVHJlZVdhbGtlcumBjeWOhuaMh+WumkRPTeiKgueCuVxyXG4gICAqIEBwYXJhbSBjb250YWluZXIg6YGN5Y6G55qERE9N5a655ZmoXHJcbiAgICogQHBhcmFtIGNhbGxiYWNrIOaJp+ihjOWbnuiwg1xyXG4gICAqL1xyXG4gIHRyYXZlcnNhbERPTVdpdGhUcmVlV2Fsa2VyKGNvbnRhaW5lciwgY2FsbGJhY2spIHtcclxuICAgIGlmICghdGhpcy5pc0RPTShjb250YWluZXIpKSB7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1JlcXVpcmUgYSBET00gZWxlbWVudCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRyZWVXYWxrZXI6IFRyZWVXYWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKFxyXG4gICAgICBjb250YWluZXIsXHJcbiAgICAgIE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5ULFxyXG4gICAgKTtcclxuICAgIGxldCBjdXJyZW50Tm9kZTogTm9kZSB8IG51bGwgPSBudWxsO1xyXG5cclxuICAgIHdoaWxlICgoIGN1cnJlbnROb2RlID0gdHJlZVdhbGtlci5uZXh0Tm9kZSgpICkpIHtcclxuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKCBjdXJyZW50Tm9kZSBhcyBIVE1MRWxlbWVudCApKTtcclxuICAgIH1cclxuICB9LFxyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHV0aWxpdHlET007IiwiZXhwb3J0IGludGVyZmFjZSBJVXRpbGl0eU51bWJlclByb3BzIHtcclxuICBnZXRSYWRpYW4oYW5nbGU6IG51bWJlcik6IG51bWJlcjtcclxuICBnZXRGdWxsUmFuZG9tKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlcixcclxuICBnZXRBbnlSYW5kb20obWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyO1xyXG59O1xyXG5cclxuY29uc3QgdXRpbGl0eU51bWJlcjogSVV0aWxpdHlOdW1iZXJQcm9wcyA9IHtcclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+W5oyH5a6a6IyD5Zu05YaF55qE6ZqP5py65pW05pWwXHJcbiAgICogQHBhcmFtIG1pbiDlsI/ovrnnlYxcclxuICAgKiBAcGFyYW0gbWF4IOWkp+i+ueeVjFxyXG4gICAqL1xyXG4gIGdldEZ1bGxSYW5kb20obWluLCBtYXgpIHtcclxuICAgIHJldHVybiB+fihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW4pO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPluaMh+WumuiMg+WbtOWGheeahOmaj+acuuS7u+aEj+aVsFxyXG4gICAqIEBwYXJhbSBtaW4g5bCP6L6555WMXHJcbiAgICogQHBhcmFtIG1heCDlpKfovrnnlYxcclxuICAgKi9cclxuICBnZXRBbnlSYW5kb20obWluLCBtYXgpIHtcclxuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW47XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog6KeS5bqm6L2s5byn5bqmXHJcbiAgICogQHBhcmFtIGFuZ2xlIOinkuW6puWAvFxyXG4gICAqL1xyXG4gIGdldFJhZGlhbihhbmdsZSkge1xyXG4gICAgcmV0dXJuIChNYXRoLlBJIC8gMTgwKSAqIGFuZ2xlO1xyXG4gIH0sXHJcblxyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHV0aWxpdHlOdW1iZXI7IiwiLyoqXHJcbiAqIEBuYW1lIENoYXJhY3RlclxyXG4gKiBAZGVzY3JpcHRpb24g5Y2V5Liq5a2X56ymXHJcbiAqL1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJQ2hhcmFjdGVyUHJvcHMge1xyXG4gIHBlbjogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG5cclxuICB0ZXh0OiBzdHJpbmc7XHJcbiAgdGV4dFNpemU6IG51bWJlcjtcclxuICB0ZXh0Q29sb3I6IHN0cmluZztcclxuICBpbml0aWFsT3BhY2l0eTogbnVtYmVyO1xyXG4gIHNhZmVEaXN0YW5jZTogbnVtYmVyO1xyXG4gIHNwZWVkOiBudW1iZXI7XHJcblxyXG4gIG1vdXNlUG9pbnQ6IHtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxuICB9O1xyXG5cclxuICBoYW5kbGVDYW5jZWxUaW1lcjogKCkgPT4gdm9pZDtcclxufTtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyIHtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKFxyXG4gICAgY29uZmlnOiBJQ2hhcmFjdGVyUHJvcHMsXHJcbiAgKSB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGluaXRpYWxPcGFjaXR5LFxyXG4gICAgICB0ZXh0U2l6ZSxcclxuICAgICAgdGV4dENvbG9yLFxyXG4gICAgICB0ZXh0LFxyXG4gICAgICBzcGVlZCxcclxuICAgICAgc2FmZURpc3RhbmNlLFxyXG4gICAgICBwZW4sXHJcbiAgICAgIG1vdXNlUG9pbnQsXHJcbiAgICAgIGhhbmRsZUNhbmNlbFRpbWVyLFxyXG4gICAgfSA9IGNvbmZpZztcclxuXHJcbiAgICB0aGlzLnBlbiA9IHBlbjtcclxuICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcbiAgICB0aGlzLnRleHRDb2xvciA9IHRleHRDb2xvcjtcclxuICAgIHRoaXMuc2FmZURpc3RhbmNlID0gc2FmZURpc3RhbmNlO1xyXG4gICAgdGhpcy5tb3VzZVBvaW50ID0gbW91c2VQb2ludDtcclxuICAgIHRoaXMub3BhY2l0eSA9IGluaXRpYWxPcGFjaXR5O1xyXG4gICAgdGhpcy50ZXh0U2l6ZSA9IHRleHRTaXplO1xyXG4gICAgdGhpcy5zcGVlZCA9IHNwZWVkO1xyXG4gICAgdGhpcy5oYW5kbGVDYW5jZWxUaW1lciA9IGhhbmRsZUNhbmNlbFRpbWVyO1xyXG5cclxuICAgIHRoaXMuX19pbml0X18oKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgaGFuZGxlQ2FuY2VsVGltZXI6ICgpID0+IHZvaWQ7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBwZW46IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICBwcml2YXRlIHJlYWRvbmx5IHRleHQ6IHN0cmluZztcclxuICBwcml2YXRlIHJlYWRvbmx5IHRleHRDb2xvcjogc3RyaW5nO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgc2FmZURpc3RhbmNlOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBzcGVlZDogbnVtYmVyO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgbW91c2VQb2ludDoge1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gIH07XHJcbiAgcHJpdmF0ZSBvcGFjaXR5OiBudW1iZXI7XHJcbiAgcHJpdmF0ZSB0ZXh0U2l6ZTogbnVtYmVyO1xyXG5cclxuXHJcbiAgcHJpdmF0ZSBfX2luaXRfXygpOiB2b2lkIHtcclxuICAgIHRoaXMuaGFuZGxlRHJhdygpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGhhbmRsZURyYXcoKTogdm9pZCB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIHBlbixcclxuICAgICAgdGV4dCxcclxuICAgICAgdGV4dENvbG9yLFxyXG4gICAgICB0ZXh0U2l6ZSxcclxuICAgICAgbW91c2VQb2ludCxcclxuICAgIH0gPSB0aGlzO1xyXG5cclxuICAgIGlmICh0aGlzLm9wYWNpdHkgPD0gMCkge1xyXG4gICAgICB0aGlzLm9wYWNpdHkgPSAwO1xyXG4gICAgICB0aGlzLmhhbmRsZUNhbmNlbFRpbWVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcGVuLnNhdmUoKTtcclxuICAgIHBlbi5iZWdpblBhdGgoKTtcclxuICAgIHBlbi5maWxsU3R5bGUgPSB0ZXh0Q29sb3I7XHJcbiAgICBwZW4uZm9udCA9IGAke3RleHRTaXplfXB4ICdGaXJhIENvZGUgUmVndWxhcidgO1xyXG4gICAgcGVuLnRleHRBbGlnbiA9ICdjZW50ZXInO1xyXG4gICAgcGVuLnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xyXG4gICAgcGVuLmdsb2JhbEFscGhhID0gdGhpcy5vcGFjaXR5O1xyXG4gICAgcGVuLmZpbGxUZXh0KFxyXG4gICAgICB0ZXh0LFxyXG4gICAgICBtb3VzZVBvaW50LngsXHJcbiAgICAgIG1vdXNlUG9pbnQueSxcclxuICAgICk7XHJcblxyXG4gICAgcGVuLmNsb3NlUGF0aCgpO1xyXG4gICAgcGVuLnJlc3RvcmUoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBoYW5kbGVNb3ZlKCk6IHZvaWQge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBtb3VzZVBvaW50LFxyXG4gICAgfSA9IHRoaXM7XHJcblxyXG4gICAgbW91c2VQb2ludC55IC09IHRoaXMuc3BlZWQ7XHJcbiAgICB0aGlzLm9wYWNpdHkgLT0gLjAxO1xyXG4gIH1cclxuXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9